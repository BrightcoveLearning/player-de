---
title: Spieler-Instanziierung verzögern
parent: 'Publishing Videos &amp; Players'
description: In this topic, you will learn how to delay instantiation of Brightcove Player when an HTML page is browsed. Use cases where this technique is helpful are, for example, lightbox styles and single page web apps where the page with the player is not initially instantiated.
---

<article class="bcls-article">
  <h1>Verzögerung der Player-Instanziierung</h1>
  <summary>{{ page.description }}</summary>
  <section class="bcls-section">
    <h2 id="Delay_instantiation">Instanziierung verzögern</h2>
    <p>Es gibt einige Anwendungsfälle, in denen Sie den Implementierungscode für den erweiterten Player (in die Seite einbetten) verwenden möchten, die Instanziierung des Players jedoch verzögern möchten. Dazu müssen Sie die ändern <code translate="No">&lt;videos-js&gt;</code> Tags Attribute und verwenden Sie die <code translate="No">bc()</code> Methode zum Initialisieren des Players. Beachten Sie, dass die Methode entweder die Spieler-ID oder das Spielerelement selbst als Argument verwenden kann.</p>
    <aside class="bcls-aside bcls-aside--information">Hinweis: Wenn Sie den gesamten Player dynamisch hinzufügen möchten, wird der <a href="/code-samples/brightcove-player-sample-loading-player-dynamically.html">Beispiel für einen Brightcove-Player: Den Player dynamisch laden</a> Das Dokument enthält Anweisungen dazu.</aside>
  </section>
  <section id="Modify_video-js_tag" class="bcls-section">
    <h2>Ändern Sie das Video-JS-Tag</h2>
    <aside class="bcls-aside bcls-aside--information player-only">Hinweis: Wenn Sie ein Brightcove Player-Kunde sind, verwenden Sie das <code translate="No">data-video-id</code> Attribut nicht, um Ihrem Player ein Video zuzuweisen. Sie würden das Video entweder in der <strong>Spieler</strong> Modul, verwenden Sie curl oder die <code translate="No">src</code> Methode (die in diesem Dokument verwendet wird).</aside>
    <p>Wenn Sie die Instanziierung des Players verzögern, können Sie NICHT alle verwenden <code translate="No">&lt;video-js&gt;</code> Tags Attribute, oder der Spieler wird instanziiert. Sie müssen drei der Attribute aus dem erweiterten Standardcode (Einbetten in die Seite) entfernen. Die Attribute, die entfernt werden müssen, sind:</p>
    <ul>
      <li><code translate="No">data-account</code></li>
      <li><code translate="No">data-player</code></li>
      <li><code translate="No">data-video-id</code></li>
    </ul>
    <p>Dadurch bleiben die folgenden Attribute in der <code translate="No">&lt;video-js&gt;</code> Etikett:</p>
    <ul>
      <li><code translate="No">data-embed</code></li>
      <li><code translate="No">class</code></li>
      <li><code translate="No">controls (optional)</code></li>
    </ul>
    <p>Der Grund, warum die Attribute entfernt werden müssen, da eines dieser drei Attribute erhalten bleibt, führt dazu, dass Brightcove Player instanziiert wird.</p>
    <p>Der verwendete erweiterte Code sollte auf dem folgenden Codeausschnitt gemustert sein. Beachten Sie, dass ein <code translate="No">id</code> wird dem Tag hinzugefügt.</p>
    <pre class="line-numbers">
<code class="language-html" translate="No">&lt;video-js id="myPlayerID"
  data-embed="default"
  class="video-js" controls&gt;&lt;/video-js&gt;

&lt;script src="https://players.brightcove.net/1507807800001/5e28670f-28ce-4ed6-8809-227784965834_default/index.min.js"&gt;&lt;/script&gt;</code></pre>
    <p>Diese Änderungen am erweiterten Code und am JavaScript-Code, die unten gezeigt werden, wirken zusammen, um die Instanziierung des Players zu verzögern.</p>
  </section>
  <section class="bcls-section">
    <h2 id="JavaScript_used">JavaScript verwendet</h2>
    <p>Es ist sehr üblich, Code zu verwenden, der dem folgenden ähnelt, um sich auf die programmgesteuerte Interaktion mit dem Player vorzubereiten:</p>
    <pre class="line-numbers">
<code class="language-javascript" translate="No">videojs.getPlayer('myPlayerID').ready(function() {
  var myPlayer = this;
});</code></pre>
    <p>Dieser Ansatz kann nicht verwendet werden, da er den Spieler instanziieren würde. Stattdessen verwenden Sie die <code translate="No">bc()</code> Methode zum Instanziieren des Players, nachdem andere Einstellungen vorgenommen wurden. Diese <code translate="No">bc()</code> Die Methode wird zum Erstellen einer neuen Instanz von Brightcove Player verwendet und normalerweise bei Verwendung von automatisch aufgerufen <code translate="No">&lt;video-js&gt;</code> Tag, es sei denn, die hier beschriebenen Schritte werden befolgt.</p>
    <div class="video-cloud-only">
      <ul>
        <li>Zeilen 2-3: Deklarieren Sie eine Variable für den Spieler und holen Sie sich das <code translate="No">video-js</code> Element.</li>
        <li>Zeilen 4-5: Verwenden Sie die <code translate="No">setAttribute()</code> JavaScript-Methode um das <code translate="No">data-account</code> und festzulegen <code translate="No">data-player</code>. Dies ist wichtig für die Verfolgung von Analysen und anderen Diensten.</li>
        <li>Zeile 6: Verwendet die <code translate="No">setAttribute()</code> JavaScript-Methode, um die Video-ID festzulegen.</li>
        <li>Zeile 9: Verwendet die <code translate="No">bc()</code> Methode, um den Player zu initialisieren.</li>
        <li>Zeilen 12-15: Spielt das Video programmgesteuert ab. Wenn Sie auf den Versand des <code translate="No">loadedmetadata</code> Ereignisses warten, wird sichergestellt, dass das Video vom Katalog abgerufen wurde, bevor es versucht zu spielen.</li>
      </ul>
      <pre class="line-numbers">
<code class="language-html" translate="No">&lt;script type="text/javascript"&gt;
  var myPlayer,
    vTag = document.getElementById('myPlayerID');
  vTag.setAttribute('data-account', 1507807800001);
  vTag.setAttribute('data-player', 'BdGVdOd36');
  vTag.setAttribute('data-video-id', 2114345470001);

  // Use the bc() method to initialize the Brightcove Player
  myPlayer = <span class="bcls-highlight">bc(vTag)</span>;

  // Mute (in case there is an audio track, in which case play won't work) and play the video
  myPlayer.on('loadedmetadata',function(){
    myPlayer.muted(true);
    myPlayer.play();
  });
&lt;/script&gt;</code></pre>
    </div>
    <div class="player-only">
      <ul>
        <li>Zeilen 2-3: Deklarieren Sie eine Variable für den Spieler und holen Sie sich das <code translate="No">video-js</code> Element.</li>
        <li>Zeilen 4-5: Verwenden Sie die <code translate="No">setAttribute()</code> JavaScript-Methode um das <code translate="No">data-account</code> und festzulegen <code translate="No">data-player</code>. Dies ist wichtig für die Verfolgung von Analysen und anderen Diensten.</li>
        <li>Zeile 8: Verwendet die <code translate="No">bc()</code> Methode, um den Player zu initialisieren.</li>
        <li>Zeile 10: Legt das <code translate="No">src</code> für den Spieler fest. es ist <strong>sehr wichtig</strong> um beide einzustellen <code translate="No">src</code> und <code translate="No">type</code> für das Quellobjekt. In einigen Browsern können Probleme auftreten, wenn die erste Option in der Reihenfolge der Wiedergabetechnologie nicht mit dem Typ des Videos übereinstimmt.</li>
        <li>Zeile 13: Spielt das Video programmgesteuert ab. Dies ist natürlich nicht erforderlich.</li>
      </ul>
      <pre class="line-numbers">
<code class="language-html" translate="No">&lt;script type="text/javascript"&gt;
  var myPlayer,
    vTag = document.getElementById('myPlayerID');
  vTag.setAttribute('data-account', 1507807800001);
  vTag.setAttribute('data-player', 'BdGVdOd36');

  // Use the bc() method to initialize the Brightcove Player
  myPlayer = <span class="bcls-highlight">bc(vTag)</span>;

  myPlayer.src({ src: "//solutions.brightcove.com/bcls/assets/videos/Tiger.m3u8", type: "application/x-mpegURL"});
  // Mute (in case there is an audio track, in which case play won't work) and play the video
  myPlayer.muted(true);
  myPlayer.play();
&lt;/script&gt; </code></pre>
    </div>
    <aside class="bcls-aside bcls-aside--tip">
      <p>Wenn Sie Elemente direkt nach ID adressieren möchten, können Sie alternativ diesen präziseren Code verwenden:</p>
      <pre class="line-numbers">
<code class="language-html" translate="No">&lt;script type="text/javascript"&gt;
  var myPlayer;
  myPlayerID.setAttribute('data-account', 1507807800001);
  myPlayerID.setAttribute('data-player', 'BdGVdOd36');
  myPlayerID.setAttribute('data-video-id', 2114345470001);

  // Use the bc() method to initialize the Brightcove Player
  myPlayer = bc('myPlayerID');

  // Mute (in case there is an audio track, in which case play won't work) and play the video
  myPlayer.on('loadedmetadata',function(){
    myPlayer.muted(true);
    myPlayer.play();
  });
&lt;/script&gt;</code></pre>
    </aside>
    <h4>Nein <code translate="No">id</code> auf dem Spieler</h4>
    <p>Wenn Sie aus irgendeinem Grund keine verwenden möchten <code translate="No">id</code> Mit Ihrem Player können Sie den folgenden Code verwenden, um die Instanziierung zu verzögern.</p>
    <div class="video-cloud-only">
      <ul>
        <li>Zeilen 3-4: Deklarieren Sie eine Variable für den Spieler und holen Sie sich das <code translate="No">video-js</code> Element.</li>
        <li>Zeilen 7-8: Verwenden Sie die <code translate="No">setAttribute()</code> JavaScript-Methode um das <code translate="No">data-account</code> und festzulegen <code translate="No">data-player</code>. Dies ist wichtig für die Verfolgung von Analysen und anderen Diensten.</li>
        <li>Zeile 9: Verwendet die <code translate="No">setAttribute()</code> JavaScript-Methode, um die Video-ID festzulegen.</li>
        <li>Zeile 12: Verwendet die <code translate="No">bc()</code> Methode, um den Player zu initialisieren.</li>
        <li>Zeilen 15-18: Spielt das Video programmgesteuert ab. Wenn Sie auf den Versand des <code translate="No">loadedmetadata</code> Ereignisses warten, wird sichergestellt, dass das Video vom Katalog abgerufen wurde, bevor es versucht zu spielen.</li>
      </ul>
      <pre class="line-numbers">
<code class="language-html" translate="No">&lt;script type="text/javascript"&gt;
  // Retrieve the element by tag name, returns an array so use the zeroth array element
  var myPlayer,
    vTag = document.getElementsByTagName('video-js')[0];

  // Assign the needed attributes
  vTag.setAttribute('data-account', 1507807800001);
  vTag.setAttribute('data-player', 'BdGVdOd36');
  vTag.setAttribute('data-video-id', 2114345470001);

  // Use the bc() method to initialize the Brightcove Player
  myPlayer = bc(vTag);

  // Mute (in case there is an audio track, in which case play won't work) and play the video
  myPlayer.on('loadedmetadata',function(){
    myPlayer.muted(true);
    myPlayer.play();
  });
&lt;/script&gt;</code></pre>
    </div>
    <div class="player-only">
      <ul>
        <li>Zeilen 3-4: Deklarieren Sie eine Variable für den Spieler und holen Sie sich das <code translate="No">video-js</code> Element.</li>
        <li>Zeilen 7-8: Verwenden Sie die <code translate="No">setAttribute()</code> JavaScript-Methode um das <code translate="No">data-account</code> und festzulegen <code translate="No">data-player</code>. Dies ist wichtig für die Verfolgung von Analysen und anderen Diensten.</li>
        <li>Zeile 11: Verwendet die <code translate="No">bc()</code> Methode, um den Player zu initialisieren.</li>
        <li>Zeile 13: Legt das <code translate="No">src</code> für den Spieler fest. es ist <strong>sehr wichtig</strong> um beide einzustellen <code translate="No">src</code> und <code translate="No">type</code> für das Quellobjekt. In einigen Browsern können Probleme auftreten, wenn die erste Option in der Reihenfolge der Wiedergabetechnologie nicht mit dem Typ des Videos übereinstimmt.</li>
        <li>Zeile 16: Spielt das Video programmgesteuert ab. Dies ist natürlich nicht erforderlich.</li>
      </ul>
      <pre class="line-numbers">
<code class="language-javascript" translate="No">&lt;script type="text/javascript"&gt;
  // Retrieve the element by tag name, returns an array so use the zeroth array element
  var myPlayer,
    vTag = document.getElementsByTagName('video-js')[0];

  // Assign the needed attributes
  vTag.setAttribute('data-account', 1507807800001);
  vTag.setAttribute('data-player', 'BdGVdOd36');

  // Use the bc() method to initialize the Brightcove Player
  myPlayer = bc('vTag');

  myPlayer.src({ src: "//solutions.brightcove.com/bcls/assets/videos/Tiger.m3u8", type: "application/x-mpegURL"});
  // Mute (in case there is an audio track, in which case play won't work) and play the video
  myPlayer.muted(true);
  myPlayer.play();
&lt;/script&gt; </code></pre>
    </div>
  </section>
  <section class="bcls-section">
    <h2 id="CSAI_with_SSAI_ad_failover">CSAI mit SSAI-Anzeigenfailover</h2>
    <p>Bei aktiviertem Anzeigenfailover erkennt der Brightcove Player, ob im Browser ein Werbeblocker vorhanden ist. Wenn nicht, werden Ihre clientseitigen Anzeigen (CSAI) abgespielt. Wenn ein Werbeblocker erkannt wird, fordert der Player automatisch Ihre serverseitigen Anzeigen (SSAI) an. Einzelheiten finden Sie in der <a href="https://ssai.support.brightcove.com/vod/guides/ssai-ad-block-detection-and-auto-failover.html">SSAI: Erkennung von Anzeigenblöcken und automatisches Failover</a> Dokument.</p>
    <p>Standardmäßig wird die aufgerufen <code translate="No">bc()</code> Methode zwingt den Spieler, sofort zu initialisieren. Wenn Sie Ad Failover mit dem verwenden möchten <code translate="No">bc()</code> Methode müssen Sie warten, bis der Player überprüft, ob ein Werbeblocker vorhanden ist. Sie können dies mit dem folgenden Code tun:</p>
    <pre class="line-numbers">
<code class="language-javascript" translate="No">bc.usingAdBlocker().then(function() {
  // The promise callback receives a true/false result, which is stored
  // internally, so future bc() calls will use it. There is no need to
  // handle it yourself.
  //
  // You can pass custom arguments to bc, as normal, if needed.
  bc();
});</code></pre>
    <h3>Beispiel</h3>
    <p>Hier ist ein Beispielcode.</p>
    <h4>HTML</h4>
    <p>Dies ist der HTML-Code für das Beispiel.</p>
    <pre class="line-numbers">
<code class="language-html" translate="No">&lt;video-js id="myPlayerID"
	data-embed="default"
	data-application-id
	class="video-js"
	controls
	width="640"
	height="360"&gt;&lt;/video-js&gt;
&lt;script src="//players.brightcove.net/1752604059001/W6RmT8TVL_default/index.min.js"&gt;&lt;/script&gt;</code></pre>
    <h4>JavaScript</h4>
    <p>Dies ist das JavaScript für das Beispiel.</p>
    <pre class="line-numbers">
<code class="language-javascript" translate="No">&lt;script type="text/javascript"&gt;
  // +++ Define the player options +++
  var options = {
    controlBar: {
      volumePanel: {
        inline: false,
        vertical: true
      }
    }
  };

  // +++ Add the player attributes +++
  var myPlayer,
		myPlayerEl = document.getElementById("myPlayerID");
  myPlayerEl.setAttribute('data-account', 1752604059001);
  myPlayerEl.setAttribute('data-player', 'W6RmT8TVL');
  myPlayerEl.setAttribute('data-video-id', 5802784116001);

  // +++ Create the player +++
  bc.usingAdBlocker().then(function() {
    myPlayer = bc(myPlayerEl, options);

    // +++ Optionally, mute and start playback +++
    myPlayer.on('loadedmetadata',function(){
      myPlayer.muted(true);
      myPlayer.play();
    });
  });
&lt;/script&gt;</code></pre>
  </section>
</article>