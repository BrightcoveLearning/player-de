---
title: 'Beispiel für Brightcove Spieler: Google Analytics Advanced Integration'
description: 'In diesem Thema erfahren Sie, wie Sie die Google Analytics Tracking-ID zur Laufzeit dynamisch festlegen, wenn Sie einen Brightcove-Player verwenden.'
parent: Code Samples
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>

<section class="bcls-section">
<h2 id="Player_example">Beispiel eines Spielers</h2>
<!-- UPDATE description -->

<aside class="bcls-aside bcls-aside--information">Dieses Beispiel und der dazugehörige Code dienen als Leitfaden für Ihre Produktionsentwicklung. Der Code ist weder für die Verwendung in der Produktion zertifiziert noch offiziell unterstützt.</aside>

<p>In diesem Beispiel wird ein Brightcove-Player verwendet und Google Analytics programmgesteuert hinzugefügt, wobei die Tracking-ID zur Laufzeit dynamisch zugewiesen wird. Dieser Ansatz ist nützlich, wenn Sie mehrere GA-Konten haben, aber keinen eindeutigen Spieler für jeden benötigen.</p>
<p>
   Wenn Sie GA dynamisch hinzufügen, fügen Sie das Google Analytics-Plugin nicht in Video Cloud Studio hinzu. Wenn Sie es im Studio konfigurieren, wird es beim Laden des Spielers initialisiert und es ist zu spät, die Einstellungen zu ändern (sie können nicht überschrieben werden).
</p>
<p>
Ein weiterer Vorteil dieses Ansatzes besteht darin, dass unsere API-Integration keine Felder in Ihrem GA-Konto erstellt (Google lässt Sie vorhandene Felder nicht umbenennen).
</p>
<p>
  Wenn Sie den <code translate="No">tracker</code> Wert in diesem Beispiel durch Ihre eigene Google Analytics Tracing ID ersetzen, sollten Sie Metriken auf Ihrer Google Analytics-Seite sehen.
</p>
<figure class="bcls-figure"><img class="bcls-image--no-border" alt="Google Analytics home page" src="/assets/images/code-samples/brightcove-player-sample-google-analytics-advanced-integration/ga-home.png" />
  <figcaption class="bcls-caption--image">Google Analytics-Startseite</figcaption>
</figure>

<!-- UPDATE codepen here -->
<p class="codepen" data-height="465" data-theme-id="34967" data-default-tab="result" data-user="bcls1969" data-slug-hash="wvaQwRy" style="height: 465px; box-sizing: border-box; display: flex; align-items: center; justify-content: center; border: 2px solid; margin: 1em 0; padding: 1em;" data-pen-title="Google Analytics Advanced Integration">
  <span>Siehe Pen <a href="https://codepen.io/team/bcls1969/pen/wvaQwRy"> Google Analytics Advanced Integration</a> von Brightcove Learning Services (<a href="https://codepen.io/team/rcrooks1969">@bcls1969</a>) auf <a href="https://codepen.io">CodePen</a>.</span>
</p>
<script async src="https://static.codepen.io/assets/embed/ei.js"></script>
<br/>

<h3>Quellcode</h3>
<!-- UPDATE link to GitHub source -->
<p>
  Sie können den Quellcode anzeigen, indem Sie die</strong> Schaltflächen <strong>HTML</strong>, <strong>CSS</strong> und <strong>JS im obigen CodePen auswählen, oder Sie können die <a href="https://github.com/BrightcoveLearning/google-analytics-advanced-integration">Komplettlösung auf GitHub</a>. 
</p>
</section>

<section class="bcls-section">
<h2 id="Using_the_CodePen" class="bcls-expander-head">CodePen verwenden</h2>

<div class="bcls-expander-content">
<p>Hier sind einige Tipps zur effektiven Verwendung des obigen CodePen:</p>

<ul>
	<li>Schalten Sie die aktuelle Anzeige des Players um, indem Sie auf klicken <strong>Ergebnis</strong> Taste.</li>
	<li>Drücke den <strong>HTML/CSS/JS</strong> Tasten, um EINEN der Codetypen anzuzeigen.</li>
	<li>Später in diesem Dokument werden die Logik, der Ablauf und das Styling der Anwendung in der <a href="#Player/HTML_configuration">Player/HTML-Konfiguration</a>, im <a href="#Applicaton_flow">Anwendungsfluss</a> und im <a href="#Application_styling">Anwendungsstyling diskutiert</a> Abschnitte. Der beste Weg, um den Informationen in diesen Abschnitten zu folgen, besteht darin:
	<ol>
		<li>Drücke den <strong>AUF CODEPEN BEARBEITEN</strong> im CodePen und haben Sie den Code in einem Browser/Browser-Tab verfügbar.</li>
		<li>Passen Sie in CodePen an, welcher Code angezeigt werden soll. Sie können die Breite verschiedener CodeAbschnitte in CodePen ändern.</li>
		<li>Zeigen Sie die</a> Abschnitte <a href="#Player/HTML_configuration">Player/HTML-Konfiguration</a>, <a href="#Applicaton_flow">Anwendungsfluss</a> und/oder <a href="#Application_styling">Anwendungs-Styling in einer anderen Browser-/Browser-Registerkarte an. Sie können nun den Codeerklärungen folgen und gleichzeitig den Code anzeigen.</li>
	</ol>
	</li>
</ul>
</div>
</section>

<section class="bcls-section">
<h2 id="developmentsequence" class="bcls-expander-head">Entwicklungs-Sequenz</h2>

<div class="bcls-expander-content">
<p>Hier ist die empfohlene Entwicklungssequenz:</p>

<ol>
	<li>Verwenden Sie die In-Page-Embed-Player-Implementierung, um die Funktionalität Ihres Players, Plugins und CSS zu testen (falls CSS benötigt wird)</li>
	<li>Legen Sie JavaScript und CSS des Plugins in separate Dateien zum lokalen Testen</li>
	<li>Stellen Sie den Plugin-Code und das CSS auf Ihrem Server bereit, sobald Sie Fehler herausgefunden haben</li>
	<li>Benutze Studio, um das Plugin und das CSS deinem Player hinzuzufügen</li>
	<li>Ersetzen Sie die In-Page-Embed-Player-Implementierung, wenn Sie feststellen, dass die Iframe-Implementierung besser passt (im nächsten Abschnitt beschrieben)</li>
</ol>

<p>Weitere Informationen zu diesen Schritten finden Sie in der <a href="https://player.support.brightcove.com/coding-topics/step-step-plugin-development.html">Schritt-für-Schritt-Anleitung: </a> Leitfaden zur Entwicklung von Plugins</p>

<h3>iframe oder In-Page einbetten</h3>

<p>Bei der Entwicklung von Verbesserungen für den Brightcove-Player müssen Sie entscheiden, ob der Code am besten für die Iframe- oder In-Page-Einbettungsimplementierung geeignet ist. Die Best Practice-Empfehlung besteht darin, ein Plugin zur Verwendung mit einer Iframe-Implementierung zu erstellen. Die Vorteile der Verwendung des iFrame-Players sind:</p>

<ul>
	<li>Keine Kollisionen mit vorhandenem JavaScript und/oder CSS</li>
	<li>Reaktionsschnell</li>
	<li>Der iframe erleichtert die Verwendung in Social-Media-Apps (oder wann immer das Video in andere Apps „reisen“ muss)</li>
</ul>

<p>Obwohl die Integration des In-Page-Einbettungsplayers komplexer sein kann, planen Sie Ihren Code in dieser Implementierung manchmal. Um zu verallgemeinern, ist dieser Ansatz am besten, wenn die enthaltende Seite mit dem Spieler kommunizieren muss. Im Einzelnen sind hier einige Beispiele:</p>

<ul>
	<li>Der Code auf der enthaltenden Seite muss Spielerereignisse abhören und darauf reagieren</li>
	<li>Der Player verwendet Stile von der enthaltenden Seite</li>
	<li>Der Iframe führt dazu, dass die App-Logik fehlschlägt, wie eine Weiterleitung von der enthaltenen Seite</li>
</ul>

<p>Selbst wenn Ihre endgültige Implementierung den Iframe-Code nicht verwendet, können Sie den In-Page-Einbettungscode trotzdem mit einem Plugin für Ihr JavaScript und einer separaten Datei für Ihr CSS verwenden. Dies kapselt Ihre Logik, sodass Sie sie problemlos in mehreren Spielern verwenden können.</p>
</div>
<!-- id="expanderContent" --></section>

<section class="bcls-section">
<h2 id="API/Plugin_resources_used">Verwendete API/Plugin-Ressourcen</h2>
<!-- UPDATE table, remove unneeded columns -->

<table class="bcls-table">
	<thead class="bcls-table__head">
		<tr>
			<th>API-Methoden</th>
			<th>API-Ereignisse</th>
		</tr>
	</thead>
	<tbody class="bcls-table__body">
		<tr>
			<td><a href="https://player.support.brightcove.com/plugins/plugin-registry.html">bcGA ()</a></td>
      <td>&nbsp;</td>
		</tr>
	</tbody>
</table>
</section>
<!-- UPDATE player and HTML configuration -->

<section class="bcls-section">
<h2 id="Player/HTML_configuration">Player-/HTML-Konfiguration</h2>

<p>Dieser Abschnitt beschreibt jede spezielle Konfiguration, die während der Spielererstellung erforderlich ist. Darüber hinaus werden andere HTML-Elemente beschrieben, die der Seite über den In-Page-Einbettungsplayer-Implementierungscode hinaus hinzugefügt werden müssen.</p>

<h3>Player-Konfiguration</h3>
<p>
  Für dieses Beispiel wird ein Brightcove Player verwendet.
</p>
<ol class="bcls-tasklist-restart">
	<li>Navigieren Sie in Video Cloud Studio zum <strong></strong> Player-Modul. Erstelle einen neuen Spieler.</li>
  <li>
    <p>Erweitern Sie in der linken Navigation <strong>Drittanbieter-Analytics</strong>. Wählen Sie für die <strong></strong></strong> GoogleAnalytics-Option <strong>NICHT Google Analytics <strong>aktivieren aus</strong>. Lassen Sie diese Option deaktiviert. </p>
    <figure class="bcls-figure"><img class="bcls-image--no-border" alt="Google Analytics in Studio" src="/assets/images/code-samples/brightcove-player-sample-google-analytics-advanced-integration/enable-ga.png" />
    	<figcaption class="bcls-caption--image">Google Analytics im Studio</figcaption>
    </figure>
  </li>
</ol>

<h3 id="Other_HTML">Anderes HTML</h3>
<p>
  Nach dem Einbettungscode des Brightcove Player wurde ein Skript hinzugefügt.
</p>
<ol class="bcls-tasklist-restart">
	<li>
    <p>
      Fügen Sie nach dem Einbettungscode des Players das folgende Skript für das Brightcove Google Analytics-Plugin hinzu. Wir laden das Plugin manuell, anstatt es in Video Cloud Studio zu konfigurieren.
    </p>
    <pre>
    <code class="language-javascript" translate="No">&lt;script src=&quot;//players.brightcove.net/videojs-bc-ga/1/videojs-bc-ga.min.js&quot;&gt;&lt;/script&gt;</code></pre>
  </li>
</ol>
</section>
<!-- UPDATE application flow -->

<section class="bcls-section">
<h2 id="Application_flow">Ablauf der Anwendung</h2>

<p>Die grundlegende Logik hinter dieser Anwendung lautet:</p>

<ul>
	<li>Erstellen Sie einen Brightcove Player, ohne das Google Analytics-Plugin zu konfigurieren</li>
	<li>Das Google Analytics-Plugin manuell laden</li>
  <li>Definieren Sie Optionen für das Plugin, einschließlich Parameter und Ereignisse, die Sie verfolgen möchten</li>
  <li>Stellen Sie die Tracking-ID</li>
  <li>Spiele dein Video ab</li>
</ul>
<!-- UPDATE task 1 -->
<ol class="bcls-tasklist-restart">
	<li>
    <h4>Erstelle den Spieler</h4>
    <p>
      Wenn Sie dies bereits getan haben, lesen Sie den</a> Abschnitt <a href="#Player/HTML_configuration">Player/HTML-Konfiguration oben, um Ihren Player in Studio zu erstellen.
    </p>
  </li>
  <li>
    <h4>
      Laden Sie das Plugin
    </h4>
    <p>
      Im obigen</a> Abschnitt <a href="#Other_HTML">Anderes HTML können Sie das Google Analytics-Plugin-Skript hinzufügen.
    </p>
  </li>
  <li>
    <h4>
      Definiere Plugin-Optionen
    </h4>
    <p>
      Suchen Sie im <strong></strong> JS-Abschnitt des CodePen den Code, wo der beschriftet ist:
    </p>
    <pre>
    <code class="language-javascript" translate="No">// Set up the Google Analytics plugin options</code></pre>
    <p>
      Der Player ruft die <a href="https://player.support.brightcove.com/plugins/plugin-registry.html">bcGa () -Methode</a> auf, um das Plugin zu initialisieren. Beachten Sie, dass Sie Parameter und Ereignisse festlegen können, die Sie verfolgen möchten.
    </p>
<pre class="line-numbers">
<code class="language-javascript" translate="No">myPlayer.bcGa({
  &quot;paramsToTrack&quot;: {
    &quot;bcvideo_video_seconds_viewed&quot;: &quot;dimension7&quot;,
    &quot;bcvideo_range&quot;: &quot;dimension8&quot;,
    &quot;bcvideo_video_duration&quot;: &quot;dimension9&quot;,
    &quot;bcvideo_player&quot;: &quot;dimension10&quot;,
    &quot;bcvideo_account&quot;: &quot;dimension11&quot;,
    &quot;bcvideo_session&quot;: &quot;dimension12&quot;,
    &quot;bcvideo_platform_version&quot;: &quot;dimension13&quot;
  },
  &quot;eventsToTrack&quot;: {
    &quot;video_impression&quot;: &quot;Video Impression&quot;,
    &quot;play_request&quot;: &quot;Play Request&quot;,
    &quot;video_engagement&quot;: &quot;Video Engagement&quot;,
    &quot;ad_start&quot;: &quot;Ad Start&quot;,
    &quot;ad_end&quot;: &quot;Ad End&quot;,
    &quot;player_load&quot;: &quot;Player Load&quot;,
    &quot;error&quot;: &quot;Error&quot;
  },
  &quot;tracker&quot;: &quot;UA-150904906-1&quot;
})
/*
	Two extra events can be added:
		video_view
		video_complete
*/</code></pre>
<p>
  Weitere Informationen zu Ereignissen und Dimensionen finden Sie im</a> Dokument <a href="https://studio.support.brightcove.com/players/configuring-google-analytics-event-tracking.html#events">Konfigurieren von Google Analytics-Ereignisverfolgung.
</p>
  </li>
  <li>
    <h4>
      Stellen Sie die Tracking-ID
    </h4>
    <p>
      Ersetzen Sie den <code translate="No">tracker</code> Wert im obigen JavaScript-Code durch Ihre Google Analytics Tracking-ID.
    </p>
    <pre>
    <code class="language-javascript" translate="No">&quot;tracker&quot;: &quot;<span class="bcls-input">your tracking id</span>&quot;</code></pre>
  </li>
  <li>
    <p>
      Setzen Sie den HTML- und JavaScript-Code auf Ihre Webseite und spielen Sie Ihr Video ab. Sie sollten Metriken in Ihrem
    </p>
  </li>
</ol>

</section>
<!-- UPDATE CSS description -->

<!-- <section class="bcls-section">
<h2 id="Application_styling">Application styling</h2>

<p>The CSS positions the player to cover the entire background of the web page. It also positions and styles the text block which sits on top of the player.</p>
</section> -->

<section class="bcls-section">
<h2 id="Plugin_code">Plugin-Code</h2>

<p>Normalerweise sind bei der Umwandlung des JavaScript in ein Brightcove Player-Plugin nominelle Änderungen erforderlich. Eine erforderliche Änderung besteht darin, die Standardverwendung der <code translate="No">ready()</code> Methode durch den Code zu ersetzen, der ein Plugin definiert.</p>

<p>Hier ist der sehr häufig verwendete Start zu JavaScript-Code, der mit dem Player funktioniert:</p>

<pre class="line-numbers">
<code class="language-javascript" translate="No">videojs.getPlayer('myPlayerID').ready(function() {
  var myPlayer = this;
  ...
});</code></pre>

<p>Sie ändern die erste Zeile, um die Standardsyntax zum Starten eines Brightcove Player-Plugins zu verwenden:</p>

<pre class="line-numbers">
<code class="language-javascript" translate="No">videojs.registerPlugin('pluginName', function(options) {
  var myPlayer = this;
  ...
});</code></pre>
<!-- UPDATE path to plugin's JavaScript -->

<p>Wie bereits erwähnt, können Sie den JavaScript-Code des Plugins im entsprechenden GitHub Repo dieses Dokuments sehen: <a href="https://github.com/BrightcoveLearning/google-analytics-advanced-integration/blob/master/plugin/advanced-ga.js">advanced-ga.js</a>.</p>

<h3>Verwenden des Plugins mit einem Player</h3>

<p>Sobald Sie die CSS- und JavaScript-Dateien des Plugins an einem für das Internet zugänglichen Ort gespeichert haben, können Sie das Plugin mit einem Player verwenden. Im</strong> PLAYER-Modul von <strong>Studio können Sie einen Player auswählen, dann im</strong> Abschnitt <strong>PLUGINS die URLs zu den CSS- und JavaScript-Dateien hinzufügen und auch den <strong>Namen hinzufügen</strong> und <strong>Optionen</strong>, wenn Optionen benötigt werden.</p>

<aside class="bcls-aside bcls-aside--tip">Weitere Informationen zur Verwendung von Studio zum Zuweisen von Plugins zu Spielern finden Sie im</a> Dokument <a href="https://studio.support.brightcove.com/players/configuring-player-plugins.html">Configuring Player Plugins.</aside>
</section>
</article>