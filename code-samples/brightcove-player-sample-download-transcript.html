---
title: 'Beispiel für Brightcove Spieler: Transcript herunterladen'
description: 'In diesem Thema erfahren Sie, wie Sie die WebVTT-Datei mit Untertiteln verwenden und in ein herunterladbares Transkript konvertieren.'
parent: Code Samples
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>

  <section class="bcls-section">
    <h2 id="Player_example">Beispiel eines Spielers</h2>
    <!-- UPDATE description -->
    
    <aside class="bcls-aside bcls-aside--information">Dieses Beispiel und der zugehörige Code werden als Leitfaden für Ihre Produktionsentwicklung bereitgestellt. Der Code ist weder für die Verwendung in der Produktion zertifiziert noch offiziell unterstützt.</aside>
    <p>Das Video im folgenden CodePen verwendet die folgende WebVTT-Datei, um Untertitel zu definieren:</p>
    <pre class="line-numbers">
<code class="language-javascript" translate="No">WEBVTT

00:00.000 --&gt; 00:05.000 align:middle line:90%
The waves rhythmically pound against the rocks.

00:05.000 --&gt; 00:10.000 align:middle line:84%
Here in the quaint village of Yachats on the central Oregon coast.

00:10.000 --&gt; 00:15.000 align:middle line:84%
Come visit and enjoy the surf and sand.

00:15.000 --&gt; 00:19.000 align:middle line:84%
Remember, it never rains on the Oregon coast!</code></pre>
    <p>Das Beispiel enthält eine</strong> Schaltfläche „Transcript <strong>herunterladen“ in der Steuerleiste, die eine Textdatei herunterlädt, wobei die WebVTT-Formatierung aus der Datei entfernt wurde. Im Wesentlichen erlaubt es dem Benutzer, ein Transkript der Beschriftungen basierend auf einer geänderten Version der WebVTT-Datei herunterzuladen.</p>
    <!-- UPDATE codepen here -->
    
    <p class="codepen" data-height="478" data-theme-id="34967" data-default-tab="result" data-user="rcrooks1969" data-slug-hash="RdNJMq" style="height: 478px; box-sizing: border-box; display: flex; align-items: center; justify-content: center; border: 2px solid black; margin: 1em 0; padding: 1em;" data-pen-title="Download Transcript"><span>Siehe das <a href="https://codepen.io/team/rcrooks1969/pen/RdNJMq/"> Stift-Download-Transcript</a> von Brightcove Learning Services (<a href="https://codepen.io/rcrooks1969">@rcrooks1969</a>) auf <a href="https://codepen.io">CodePen</a>.</span></p>
    <script async src="https://static.codepen.io/assets/embed/ei.js"></script><!-- UPDATE link to GitHub source -->
    
    <h3>Quellcode</h3>
          <p>Sehen Sie sich die <a href="https://github.com/BrightcoveLearning/18738-download-transcript">Komplettlösung auf GitHub an</a>.</p>
    <aside class="bcls-aside bcls-aside--tip">
      <p>DOWNLOAD-VERHALTEN DES BROWSERS: Browser haben die Art und Weise geändert, wie sie mit Dateidownloads umgehen. Safari, Firefox und Chrome öffnen das heruntergeladene Video alle in einem neuen Fenster oder Tab, was im Allgemeinen kein gewünschtes Verhalten ist. Aus diesem Grund verwendet dieses Beispiel ein clientseitiges JavaScript-Tool, um Browser dazu zu zwingen, das Video ordnungsgemäß herunterzuladen. Ausführliche Informationen zum Tool finden Sie unter <a href="https://www.npmjs.com/package/downloadjs">https://www.npmjs.com/package/downloadjs</a>.</p>
    </aside>
  </section>
  <section class="bcls-section">
    <details>
      <summary><h2 id="Using_the_CodePen">CodePen verwenden</h2></summary>
      <p>Hier sind einige Tipps zur effektiven Verwendung des obigen CodePen:</p>
      <ul>
        <li>Schalten Sie die tatsächliche Anzeige des Spielers um, indem Sie auf die</strong> Schaltfläche <strong translate="No">Ergebnis klicken.</li>
        <li>Klicken Sie auf die</strong> Schaltflächen <strong translate="No">HTML/CSS/JS, um EINEN der Codetypen anzuzeigen.</li>
        <li>Später in diesem Dokument werden die Logik, der Ablauf und das Styling der Anwendung in der <a href="#Player/HTML_configuration">Player/HTML-Konfiguration</a>, im <a href="#Application_flow">Anwendungsfluss</a> und im <a href="#Application_styling">Anwendungsstyling diskutiert</a> Abschnitte. Der beste Weg, um den Informationen in diesen Abschnitten zu folgen, besteht darin:
          <ol>
            <li>Klicken Sie im CodePen auf die</strong> Schaltfläche <strong translate="No">EDIT ON CODEPEN und halten Sie den Code in einem Browser-/Browser-Tab zur Verfügung.</li>
            <li>Passen Sie in CodePen an, welcher Code angezeigt werden soll. Sie können die Breite verschiedener CodeAbschnitte in CodePen ändern.</li>
            <li>Zeigen Sie die</a> Abschnitte <a href="#Player/HTML_configuration">Player/HTML-Konfiguration</a>, <a href="#Application_flow">Anwendungsfluss</a> und/oder <a href="#Application_styling">Anwendungs-Styling in einer anderen Browser-/Browser-Registerkarte an. Sie können nun den Codeerklärungen folgen und gleichzeitig den Code anzeigen.</li>
          </ol>
        </li>
      </ul>
    </details>
  </section>
  <section class="bcls-section">
    <details>
      <summary><h2 id="Development_sequence">Entwicklungs-Sequenz</h2></summary> 
      <p>Hier ist die empfohlene Entwicklungssequenz:</p>
      <ol>
        <li>Verwenden Sie die In-Page-Embed-Player-Implementierung, um die Funktionalität Ihres Players, Plugins und CSS zu testen (falls CSS benötigt wird)</li>
        <li>Legen Sie JavaScript und CSS des Plugins in separate Dateien zum lokalen Testen</li>
        <li>Stellen Sie den Plugin-Code und das CSS auf Ihrem Server bereit, sobald Sie Fehler herausgefunden haben</li>
        <li>Benutze Studio, um das Plugin und das CSS deinem Player hinzuzufügen</li>
        <li>Ersetzen Sie die In-Page-Embed-Player-Implementierung, wenn Sie feststellen, dass die Iframe-Implementierung besser passt (im nächsten Abschnitt beschrieben)</li>
      </ol>
      <p>Weitere Informationen zu diesen Schritten finden Sie in der <a href="/coding-topics/step-step-plugin-development.html">Schritt-für-Schritt-Anleitung: </a> Leitfaden zur Entwicklung von Plugins</p>
      <h3>iframe oder In-Page einbetten</h3>
      <p>Bei der Entwicklung von Verbesserungen für den Brightcove Player müssen Sie entscheiden, ob der Code am besten für die Iframe- oder In-Page-Einbettungsimplementierung geeignet ist. Die Best Practice-Empfehlung besteht darin, ein Plugin zur Verwendung mit einer Iframe-Implementierung zu erstellen. Die Vorteile der Verwendung des iFrame-Players sind:</p>
      <ul>
        <li>Keine Kollisionen mit vorhandenem JavaScript und/oder CSS</li>
        <li>Reaktionsschnell</li>
        <li>Der iframe erleichtert die Verwendung in Social-Media-Apps (oder wann immer das Video in andere Apps „reisen“ muss)</li>
      </ul>
      <p>Obwohl die Integration des In-Page-Einbettungsplayers komplexer sein kann, planen Sie Ihren Code in dieser Implementierung manchmal. Um zu verallgemeinern, ist dieser Ansatz am besten, wenn die enthaltende Seite mit dem Spieler kommunizieren muss. Im Einzelnen sind hier einige Beispiele:</p>
      <ul>
        <li>Der Code auf der enthaltenden Seite muss Spielerereignisse abhören und darauf reagieren</li>
        <li>Der Player verwendet Stile von der enthaltenden Seite</li>
        <li>Der Iframe führt dazu, dass die App-Logik fehlschlägt, wie eine Weiterleitung von der enthaltenen Seite</li>
      </ul>
      <p>Selbst wenn Ihre endgültige Implementierung den Iframe-Code nicht verwendet, können Sie den In-Page-Einbettungscode trotzdem mit einem Plugin für Ihr JavaScript und einer separaten Datei für Ihr CSS verwenden. Dies kapselt Ihre Logik, sodass Sie sie problemlos in mehreren Spielern verwenden können.</p>
    </details>
  </section>
  <section class="bcls-section">
    <h2 id="API/Plugin_resources_used">Verwendete API/Plugin-Ressourcen</h2>
    <!-- UPDATE table, remove unneeded columns -->
    
    <table class="bcls-table">
      <thead class="bcls-table__head">
        <tr>
          <th>API-Methoden</th>
          <th>API-Ereignisse</th>
          <th>API-Eigenschaften</th>
        </tr>
      </thead>
      <tbody class="bcls-table__body">
        <tr>
          <td><a href="https://docs.brightcove.com/brightcove-player/current-release/module-events.html#.on">am ()</a></td>
          <td><a href="https://docs.brightcove.com/brightcove-player/current-release/Player.html#event:loadstart">Loadstart</a></td>
          <td><a href="/references/video-metadata-mediainfo.html">player.mediainfo</a></td>
        </tr>
        <tr>
          <td><a href="https://docs.brightcove.com/brightcove-player/current-release/CustomControlSpacer.html#el">Player.controlBar.CustomControlSpacer.el ()</a></td>
          <td>&nbsp;</td>
          <td>&nbsp;</td>
        </tr>
      </tbody>
    </table>
    <!-- <aside class="bcls-aside bcls-aside--tip">This code sample uses one of the Brightcove REST APIs. To understand working with this API it is vital you read and understand the <a href="/getting-started/learning-guide-using-rest-apis.html">Learning Guide: Using the REST APIs</a> document.</aside> --></section>
  <!-- UPDATE player and HTML configuration -->
  
  <section class="bcls-section">
    <h2 id="Player/HTML_configuration">Player-/HTML-Konfiguration</h2>
    <p>Dieser Abschnitt beschreibt jede spezielle Konfiguration, die während der Spielererstellung erforderlich ist. Darüber hinaus werden andere HTML-Elemente beschrieben, die der Seite über den In-Page-Einbettungsplayer-Implementierungscode hinaus hinzugefügt werden müssen.</p>
    <h3>Player-Konfiguration</h3>
    <p>Für den Brightcove Player, den Sie für dieses Beispiel erstellen, ist keine spezielle Konfiguration erforderlich.</p>
    <h3>Anderes HTML</h3>
    <p>Der Seite werden keine anderen HTML-Elemente hinzugefügt.</p>
  </section>
  <!-- UPDATE application flow -->
  
  <section class="bcls-section">
    <h2 id="Application_flow">Ablauf der Anwendung</h2>
    <p>Die grundlegende Logik hinter dieser Anwendung lautet:</p>
    <ul>
      <li>Erstellen Sie einen regulären Ausdruck, um die WebVTT-Formatierung aus der Datei zu entfernen.</li>
      <li>Warten Sie auf das <code translate="No">loadstart</code> Ereignis und rufen Sie die URL zur WebVTT-Datei mit Untertiteln ab.</li>
      <li>Baue einen Button und platziere ihn in die Steuerleiste.</li>
      <li>Laden Sie bei einem Tastenklick die Remote-WebVTT-Datei mit einem <code translate="No">XMLHttpRequest()</code> Objekt herunter.</li>
      <li>Verwenden Sie die <code translate="No">download</code> JavaScript-Bibliothek, um den Browser die Datei herunterladen zu lassen.</li>
    </ul>
    <!-- UPDATE task 2 -->
    
    <h3>Definieren Sie den regulären Ausdruck</h3>
    <p>Finden Sie den Code, der mit der Bezeichnung versehen ist:</p>
    <pre>
<code class="language-javascript" translate="No">// ### Define the regular expression ###</code></pre>
    <p>Sie müssen einen regulären Ausdruck erstellen, um unerwünschte Formatierungen aus der WebVTT-Datei zu entfernen. In diesem Fall entfernt die Regex Zeilen, die mit der Standardmethode beginnen, Zeiten in einer WEBVTT-Datei zu definieren. Wenn Sie kein Regex-Experte sind, finden Sie möglicherweise <a href="https://regexr.com/">https://regexr.com/</a> der Hilfe.</p>
    <!-- UPDATE task 1 -->
    
    <h3>URL abrufen und Datei abrufen</h3>
    <p>Finden Sie den Code, der mit der Bezeichnung versehen ist:</p>
    <pre>
<code class="language-javascript" translate="No">// ### Retrieve the URL for the text track, which is in this case a WebVTT caption file ###</code></pre>
    <p>Sie müssen warten, bis das <code translate="No">loadstart</code> Ereignis auf die <code translate="No">mediainfo</code> Eigenschaft zugreift, die die Textspurinformationen enthält. Beachten Sie, dass Sie, wenn die Seite von einer sicheren (<strong>https</strong>) Seite aus bereitgestellt wird, die URL zur Datei ändern müssen, um auch eine sichere Verbindung zu verwenden. Sobald Sie die richtige URL haben, rufen Sie die <code translate="No">getFile()</code> Methode auf, die die Datei tatsächlich zurückgibt. Schließlich verwenden Sie die <code translate="No">replace()</code> JavaScript-Methode in Verbindung mit dem regulären Ausdruck, um den Text neu zu formatieren.</p>
    <!-- UPDATE task 3 -->
    
    <h3>Baue einen Button und platziere ihn in die Steuerleiste</h3>
    <p>Finden Sie den Code, der mit der Bezeichnung versehen ist:</p>
    <pre>
<code class="language-javascript" translate="No">// ### Create button and place in player ###</code></pre>
    <p>Ein <strong></strong> HTML-Schaltflächenelement wird erstellt und in der Steuerleiste platziert. Beachten Sie, dass der <code translate="No">click</code> Ereignis-Listener ebenfalls dynamisch hinzugefügt wird. In diesem Fall befindet sich die Schaltfläche im <code translate="No">spacer</code> Bereich der Steuerleiste. Weitere Informationen zum finden Sie im <code translate="No">spacer</code></a> Dokument zum <a href="/styling/customizing-player-appearance.html">Anpassen des Player Appearance.</p>
    <!-- UPDATE task 4 -->
    
    <h3>Holen Sie sich die Datei basierend auf der bereitgestellten URL</h3>
    <p>Finden Sie den Code, der mit der Bezeichnung versehen ist:</p>
    <pre>
<code class="language-javascript" translate="No">// ### Function that gets the actual file based on URL ###</code></pre>
    <p>Diese Funktion verwendet AJAX über ein <code translate="No">XMLHttpRequest</code> Objekt, um die Datei abzurufen. Asynchrone Verhalten bestimmt die Verwendung einer Callback-Funktion.</p>
    <!-- UPDATE task 5 -->
    
    <h3>Laden Sie die geänderte Datei auf den Benutzercomputer herunter</h3>
    <p>Finden Sie den Code, der mit der Bezeichnung versehen ist:</p>
    <pre>
<code class="language-javascript" translate="No">// ### download function used for graceful browser download ###</code></pre>
    <p>Wie bereits in diesem Dokument erwähnt,' verhalten sich die Standardbrowser höchstwahrscheinlich NICHT das, was Sie tun möchten, dh eine neue Registerkarte oder ein neues Fenster, das geöffnet wird, um die Datei anzuzeigen. Dieses JavaScript-Tool erzwingt einen Dateidownload der Textdatei.</p>
  </section>
  <!-- UPDATE CSS description -->
  
  <section class="bcls-section">
    <h2 id="Application_styling">Styling der Anwendung</h2>
    <p>Das CSS legt die Farben und Position der Schaltflächen in der Steuerleiste fest.</p>
  </section>
  <section class="bcls-section">
    <h2 id="Plugin_code">Plugin-Code</h2>
    <p>Normalerweise sind bei der Umwandlung des JavaScript in ein Brightcove Player-Plugin nominelle Änderungen erforderlich. Eine erforderliche Änderung besteht darin, die Standardverwendung der <code translate="No">ready()</code> Methode durch den Code zu ersetzen, der ein Plugin definiert.</p>
    <p>Hier ist der sehr häufig verwendete Start zu JavaScript-Code, der mit dem Player funktioniert:</p>
    <pre class="line-numbers">
<code class="language-javascript" translate="No">videojs.getPlayer('myPlayerID').ready(function() {
var myPlayer = this;
});</code></pre>
    <p>Sie ändern die erste Zeile, um die Standardsyntax zum Starten eines Brightcove Player-Plugins zu verwenden:</p>
    <pre class="line-numbers">
<code class="language-javascript" translate="No">videojs.registerPlugin('pluginName', function(options) {
var myPlayer = this;
...
});</code></pre>
    <!-- UPDATE path to plugin's JavaScript -->
    
    <p>Wie bereits erwähnt, können Sie den JavaScript-Code des Plugins im entsprechenden GitHub Repo dieses Dokuments sehen: <a href="https://github.com/BrightcoveLearning/18738-download-transcript/blob/master/plugin/download-transcript.js">download-transcript.js</a>.</p>
    <h3>Verwenden des Plugins mit einem Player</h3>
    <p>Sobald Sie die CSS- und JavaScript-Dateien des Plugins an einem für das Internet zugänglichen Ort gespeichert haben, können Sie das Plugin mit einem Player verwenden. Im</strong> PLAYER-Modul von <strong>Studio können Sie einen Player auswählen, dann im</strong> Abschnitt <strong>PLUGINS die URLs zu den CSS- und JavaScript-Dateien hinzufügen und auch den <strong>Namen hinzufügen</strong> und <strong>Optionen</strong>, wenn Optionen benötigt werden.</p>
    <aside class="bcls-aside bcls-aside--tip">Weitere Informationen zur Verwendung von Studio zum Zuweisen von Plugins zu Spielern finden Sie im</a> Dokument <a href="https://studio.support.brightcove.com/players/configuring-player-plugins.html">Configuring Player Plugins.</aside>
  </section>
</article>