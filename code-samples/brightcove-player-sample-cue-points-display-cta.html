---
title: 'Beispiel für Brightcove Spieler: Cue-Points Anzeige CTA'
description: 'In diesem Beispiel werden Cue-Points verwendet, um CTA (CTA) anzuzeigenden Aufrufe auszulösen. Die Cue-Points werden in Studio konfiguriert, wobei die</strong> Eigenschaft „Cue-Point <strong>Metadata“ eine durch Semikolon getrennte Liste von Strings enthält, die Informationen für den CTA enthalten.'
parent: Code Samples
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>

  <section class="bcls-section">
    <h2 id="Player_example">Beispiel eines Spielers</h2>
    <!-- UPDATE description -->
    
    <aside class="bcls-aside bcls-aside--information">Dieses Beispiel und der zugehörige Code werden als Leitfaden für Ihre Produktionsentwicklung bereitgestellt. Der Code ist weder für die Verwendung in der Produktion zertifiziert noch offiziell unterstützt.</aside>
    <p>Der nachstehende Spieler zeigt zwei verschiedene CTAs, die basierend auf Cue-Points angezeigt werden. Der erste CTA wird bei 3 Sekunden für eine Dauer von 5 Sekunden angezeigt. Der zweite CTA wird für eine Dauer von 3 Sekunden bei 13 Sekunden angezeigt.</p>
    <!-- UPDATE codepen here -->
    
    <p data-height="455" data-theme-id="34967" data-slug-hash="XaYVzy" data-default-tab="result" data-user="rcrooks1969" data-embed-version="2" data-pen-title="18177-cue-points-display-cta" class="codepen">Siehe den Pen <a href="https://codepen.io/team/rcrooks1969/pen/XaYVzy/">18177-cue-points-display-cta</a> von Brightcove Learning Services (<a href="https://codepen.io/rcrooks1969">@rcrooks1969</a>) auf <a href="https://codepen.io">CodePen</a>.</p>
    <script async src="https://production-assets.codepen.io/assets/embed/ei.js"></script><!-- UPDATE link to GitHub source -->
    
    <h3>Quellcode</h3>
          <p>Sehen Sie sich die <a href="https://github.com/BrightcoveLearning/18177-cue-points-display-cta">Komplettlösung auf GitHub an</a>.</p>
  </section>
  <section class="bcls-section">
    <details>
      <summary><h2 id="Using_the_CodePen">CodePen verwenden</h2></summary>
      <p>Hier sind einige Tipps zur effektiven Verwendung des obigen CodePen:</p>
      <ul>
        <li>Schalten Sie die tatsächliche Anzeige des Spielers um, indem Sie auf die</strong> Schaltfläche <strong translate="No">Ergebnis klicken.</li>
        <li>Klicken Sie auf die</strong> Schaltflächen <strong translate="No">HTML/CSS/JS, um EINEN der Codetypen anzuzeigen.</li>
        <li>Später in diesem Dokument werden die Logik, der Ablauf und das Styling der Anwendung in der <a href="#Player/HTML_configuration">Player/HTML-Konfiguration</a>, im <a href="#Application_flow">Anwendungsfluss</a> und im <a href="#Application_styling">Anwendungsstyling diskutiert</a> Abschnitte. Der beste Weg, um den Informationen in diesen Abschnitten zu folgen, besteht darin:
          <ol>
            <li>Klicken Sie im CodePen auf die</strong> Schaltfläche <strong translate="No">EDIT ON CODEPEN und halten Sie den Code in einem Browser-/Browser-Tab zur Verfügung.</li>
            <li>Passen Sie in CodePen an, welcher Code angezeigt werden soll. Sie können die Breite verschiedener CodeAbschnitte in CodePen ändern.</li>
            <li>Zeigen Sie die</a> Abschnitte <a href="#Player/HTML_configuration">Player/HTML-Konfiguration</a>, <a href="#Application_flow">Anwendungsfluss</a> und/oder <a href="#Application_styling">Anwendungs-Styling in einer anderen Browser-/Browser-Registerkarte an. Sie können nun den Codeerklärungen folgen und gleichzeitig den Code anzeigen.</li>
          </ol>
        </li>
      </ul>
    </details>
  </section>
  <section class="bcls-section">
    <details>
      <summary><h2 id="Development_sequence">Entwicklungs-Sequenz</h2></summary> 
      <p>Hier ist die empfohlene Entwicklungssequenz:</p>
      <ol>
        <li>Verwenden Sie die In-Page-Embed-Player-Implementierung, um die Funktionalität Ihres Players, Plugins und CSS zu testen (falls CSS benötigt wird)</li>
        <li>Legen Sie JavaScript und CSS des Plugins in separate Dateien zum lokalen Testen</li>
        <li>Stellen Sie den Plugin-Code und das CSS auf Ihrem Server bereit, sobald Sie Fehler herausgefunden haben</li>
        <li>Benutze Studio, um das Plugin und das CSS deinem Player hinzuzufügen</li>
        <li>Ersetzen Sie die In-Page-Embed-Player-Implementierung, wenn Sie feststellen, dass die Iframe-Implementierung besser passt (im nächsten Abschnitt beschrieben)</li>
      </ol>
      <p>Weitere Informationen zu diesen Schritten finden Sie in der <a href="/coding-topics/step-step-plugin-development.html">Schritt-für-Schritt-Anleitung: </a> Leitfaden zur Entwicklung von Plugins</p>
      <h3>iframe oder In-Page einbetten</h3>
      <p>Bei der Entwicklung von Verbesserungen für den Brightcove Player müssen Sie entscheiden, ob der Code am besten für die Iframe- oder In-Page-Einbettungsimplementierung geeignet ist. Die Best Practice-Empfehlung besteht darin, ein Plugin zur Verwendung mit einer Iframe-Implementierung zu erstellen. Die Vorteile der Verwendung des iFrame-Players sind:</p>
      <ul>
        <li>Keine Kollisionen mit vorhandenem JavaScript und/oder CSS</li>
        <li>Reaktionsschnell</li>
        <li>Der iframe erleichtert die Verwendung in Social-Media-Apps (oder wann immer das Video in andere Apps „reisen“ muss)</li>
      </ul>
      <p>Obwohl die Integration des In-Page-Einbettungsplayers komplexer sein kann, planen Sie Ihren Code in dieser Implementierung manchmal. Um zu verallgemeinern, ist dieser Ansatz am besten, wenn die enthaltende Seite mit dem Spieler kommunizieren muss. Im Einzelnen sind hier einige Beispiele:</p>
      <ul>
        <li>Der Code auf der enthaltenden Seite muss Spielerereignisse abhören und darauf reagieren</li>
        <li>Der Player verwendet Stile von der enthaltenden Seite</li>
        <li>Der Iframe führt dazu, dass die App-Logik fehlschlägt, wie eine Weiterleitung von der enthaltenen Seite</li>
      </ul>
      <p>Selbst wenn Ihre endgültige Implementierung den Iframe-Code nicht verwendet, können Sie den In-Page-Einbettungscode trotzdem mit einem Plugin für Ihr JavaScript und einer separaten Datei für Ihr CSS verwenden. Dies kapselt Ihre Logik, sodass Sie sie problemlos in mehreren Spielern verwenden können.</p>
    </details>
  </section>
  <section class="bcls-section">
    <h2 id="API/Plugin_resources_used">Verwendete API/Plugin-Ressourcen</h2>
    <!-- UPDATE table, remove unneeded columns -->
    
    <table class="bcls-table">
      <thead class="bcls-table__head">
        <tr>
          <th>API-Methoden</th>
          <th>API-Ereignisse</th>
          <th>API-Eigenschaften</th>
          <th>Brightcove Player-Plugins</th>
        </tr>
      </thead>
      <tbody class="bcls-table__body">
        <tr>
          <td><a href="https://docs.brightcove.com/brightcove-player/current-release/Player.html#addClass">addClass ()</a></td>
          <td><a href="https://docs.brightcove.com/brightcove-player/current-release/Player.html#event:loadstart">Loadstart</a></td>
          <td><a href="/references/video-metadata-mediainfo.html">mediainfo.cue_points</a></td>
          <td><a href="/plugins/display-overlay-plugin.html">Overlay-Plugin</a></td>
        </tr>
        <tr>
          <td><a href="https://docs.brightcove.com/brightcove-player/current-release/module-events.html#.on">am ()</a></td>
          <td>&nbsp;</td>
          <td><a href="https://docs.brightcove.com/brightcove-player/current-release/TextTrack.html#activeCues">ActiveCues</a></td>
          <td>&nbsp;</td>
        </tr>
        <tr>
          <td><a href="https://docs.brightcove.com/brightcove-player/current-release/Player.html#textTracks">TextTracks ()</a></td>
          <td>&nbsp;</td>
          <td>&nbsp;</td>
          <td>&nbsp;</td>
        </tr>
        <tr>
          <td><a href="https://docs.brightcove.com/brightcove-player/current-release/Player.html#removeClass">removeClass ()</a></td>
          <td>&nbsp;</td>
          <td>&nbsp;</td>
          <td>&nbsp;</td>
        </tr>
      </tbody>
    </table>
    <p>Der Code verwendet auch <code translate="No">removeTimeout()</code> JavaScript-Methoden <code translate="No">setTimeout()</code> und Methoden. Diese Methoden rufen nach einer bestimmten Verzögerung eine Funktion auf und entfernen dann das Timeout.</p>
  </section>
  <!-- UPDATE player and HTML configuration -->
  
  <section class="bcls-section">
    <h2 id="Player/HTML_configuration">Player-/HTML-Konfiguration</h2>
    <p>Dieser Abschnitt beschreibt jede spezielle Konfiguration, die während der Spielererstellung erforderlich ist. Darüber hinaus werden andere HTML-Elemente beschrieben, die der Seite über den In-Page-Einbettungsplayer-Implementierungscode hinaus hinzugefügt werden müssen.</p>
    <h3>Player-Konfiguration</h3>
    <p>Sie müssen das Overlay-Plugin in <strong>Studio &gt; Players &gt; Plugins hinzufügen und konfigurieren</strong>. Fügen Sie die Pfade zu JavaScript und CSS hinzu:</p>
    <pre class="line-numbers">
<code class="language-html" translate="No">https://players.brightcove.net/videojs-overlay/2/videojs-overlay.min.js</code></pre>
    <pre class="line-numbers">
<code class="language-html" translate="No">https://players.brightcove.net/videojs-overlay/2/videojs-overlay.css</code></pre>
    <p>Fügen Sie dann die <strong>Optionen (JSON)</strong> wie folgt hinzu:</p>
<pre class="line-numbers"><code class="language-json" translate="No">{
  "overlays": [
      {
        "align": "bottom",
        "start": "play"
      }
    ]
}</code></pre>
    <aside class="bcls-aside bcls-aside--tip">In der Overlay-Konfiguration wird kein <strong>Inhalt</strong> bereitgestellt, da er dynamisch erstellt und in das Overlay injiziert wird.</aside>
    <p>Die mit dem Player veröffentlichten Videos müssen Cue-Points enthalten, die in Studio konfiguriert sind. Die Informationen für den CTA werden im</strong> Feld <strong>Metadaten gespeichert. Speichern Sie in einer durch Semikolon getrennten Liste Folgendes:</p>
    <ul>
      <li>Dauer für die Anzeige</li>
      <li>Text für das Anker-Tag</li>
      <li>URL für das Anker-Tag</li>
    </ul>
    <figure class="bcls-figure"><img class="bcls-image" alt="create a cue point in Studio" src="/assets/images/code-samples/brightcove-player-sample-cue-points-display-cta/make-cp-in-studio.png" /></figure>
    <h3>Anderes HTML</h3>
    <p>Der Seite werden keine anderen HTML-Elemente hinzugefügt.</p>
  </section>
  <!-- UPDATE application flow -->
  
  <section class="bcls-section">
    <h2 id="Application_flow">Ablauf der Anwendung</h2>
    <p>Die grundlegende Logik hinter dieser Anwendung lautet:</p>
    <ul>
      <li>Konfigurieren Sie einen Listener für Cue-Point-Änderungen.</li>
      <li>Extrahieren Sie bei einer Cue-Point-Änderung Daten aus dem Cue-Point und zeigen Sie ein dynamisch ausgefülltes Overlay an.</li>
      <li>Entfernen Sie am Ende der Cue-Point-Dauer das Overlay.</li>
    </ul>
    <!-- UPDATE task 1 -->
    
    <h3>Konfigurieren des Listener für Cue-Point-Änderungen</h3>
    <p>Finden Sie den Code, der mit der Bezeichnung versehen ist:</p>
    <pre>
<code class="language-javascript" translate="No">// ### Listen for cue change then pass data to be displayed ###</code></pre>
    <p>Nachdem Sie die Cue-Point-Informationen aus dem <code translate="No">mediainfo</code> Objekt extrahiert haben, verwenden Sie den <code translate="No">oncuechange</code> Ereignishandler von JavaScript, um auf Cue-Point-Starts zu warten. Anschließend extrahieren Sie die Cue-Point-Informationen für den aktuellen Cue-Point und rufen die <code translate="No">displayCTA()</code> Methode auf. Die Informationen zu den Cue-Points, die an die benutzerdefinierte Funktion übergeben werden, erscheinen wie folgt:</p>
    <figure class="bcls-figure"><img class="bcls-image" alt="cue point info" src="/assets/images/code-samples/brightcove-player-sample-cue-points-display-cta/console-cp-info.png" /></figure>
    <aside class="bcls-aside bcls-aside--tip">Das <code translate="No">endTime</code> ist in dieser Anwendung nicht hilfreich, da es entweder die Zeit des nächsten Cue-Points oder das Ende des Videos ist. Denken Sie daran, dass die Dauer für die Anzeige des Overlays in den <strong>Metadaten des Cue-Points gespeichert ist</strong>.</aside>
    <!-- UPDATE task 2 -->
    
    <h3>Zeigen Sie das Overlay mit dynamisch ausgefüllten Daten an</h3>
    <p>Finden Sie den Code, der mit der Bezeichnung versehen ist:</p>
    <pre>
<code class="language-javascript" translate="No">// ### Extract data pieces from cue point meta data and display overlay ###</code></pre>
    <p>Der erste Schritt verwendet die <code translate="No">split()</code> JavaScript-Methode, um die Metadateninformationen drei Teile zu brechen, und jedes Stück wird einer Variablen zugewiesen. Nach dem Erstellen des dynamischen Anker-Tags wird der <code translate="No">setTimeout()</code> Wert von JavaScript verwendet, um festzulegen, wie lange bis eine andere Methode aufgerufen wird. Die Overlay-Daten werden dann injiziert und das Overlay wird angezeigt.</p>
    <!-- UPDATE task 3 -->
    
    <h3>Entfernen Sie das Overlay</h3>
    <p>Finden Sie den Code, der mit der Bezeichnung versehen ist:</p>
    <pre>
<code class="language-javascript" translate="No">// ### Clear timeout and remove overlay ###</code></pre>
    <p>Diese Methode wird aufgerufen, wenn die in der <code translate="No">setTimeout()</code> Methode festgelegte Zeit abläuft. Hier wird das Timeout mit der <code translate="No">clearTimeout()</code> JavaScript-Methode gelöscht. Außerdem ist das Overlay ausgeblendet.</p>
    <!-- UPDATE task 3 -->
    
    <h3>Extrahiere ein kleineres Array aus einem größeren Array</h3>
    <p>Finden Sie den Code, der mit der Bezeichnung versehen ist:</p>
    <pre>
<code class="language-javascript" translate="No">// ### Helper function to extract cue point info ###</code></pre>
    <p>Dies ist eine Hilfsfunktion, die verwendet wird, um gewünschte Cue-Point-Informationen zu extrahieren.</p>
  </section>
  <!-- UPDATE CSS description -->
  
  <section class="bcls-section">
    <h2 id="Application_styling">Styling der Anwendung</h2>
    <p>Das CSS enthält Stile zur Größe des Players und eine Klassenauswahl, mit der das Overlay ausgeblendet wird.</p>
  </section>
  <section class="bcls-section">
    <h2 id="Plugin_code">Plugin-Code</h2>
    <p>Normalerweise sind bei der Umwandlung des JavaScript in ein Brightcove Player-Plugin nominelle Änderungen erforderlich. Eine erforderliche Änderung besteht darin, die Standardverwendung der <code translate="No">ready()</code> Methode durch den Code zu ersetzen, der ein Plugin definiert.</p>
    <p>Hier ist der sehr häufig verwendete Start zu JavaScript-Code, der mit dem Player funktioniert:</p>
    <pre class="line-numbers">
<code class="language-javascript" translate="No">videojs.getPlayer('myPlayerID').ready(function() {
  var myPlayer = this;
  ...
});</code></pre>
    <p>Sie ändern die erste Zeile, um die Standardsyntax zum Starten eines Brightcove Player-Plugins zu verwenden:</p>
    <pre class="line-numbers">
<code class="language-javascript" translate="No">videojs.registerPlugin('pluginName', function(options) {
  var myPlayer = this;
  ...
});</code></pre>
    <!-- UPDATE path to plugin's JavaScript -->
    
    <p>Wie bereits erwähnt, können Sie den JavaScript-Code des Plugins im entsprechenden GitHub Repo dieses Dokuments sehen: <a href="https://github.com/BrightcoveLearning/18177-cue-points-display-cta/blob/master/plugin/cue-point-cta.js">cue-point-cta.js</a>.</p>
    <h3>Verwenden des Plugins mit einem Player</h3>
    <p>Sobald Sie die CSS- und JavaScript-Dateien des Plugins an einem für das Internet zugänglichen Ort gespeichert haben, können Sie das Plugin mit einem Player verwenden. Im</strong> PLAYER-Modul von <strong>Studio können Sie einen Player auswählen, dann im</strong> Abschnitt <strong>PLUGINS die URLs zu den CSS- und JavaScript-Dateien hinzufügen und auch den <strong>Namen hinzufügen</strong> und <strong>Optionen</strong>, wenn Optionen benötigt werden.</p>
    <aside class="bcls-aside bcls-aside--tip">Weitere Informationen zur Verwendung von Studio zum Zuweisen von Plugins zu Spielern finden Sie im</a> Dokument <a href="https://studio.support.brightcove.com/players/configuring-player-plugins.html">Configuring Player Plugins.</aside>
  </section>
</article>