---
title: 'Beispiel für Brightcove Spieler: Wiedergabeliste für beliebte Videos'
description: 'In diesem Thema erfahren Sie, wie Sie die <a href="https://apis.support.brightcove.com/analytics/">Analytics-API</a> und einen Brightcove Player verwenden, um heute eine Wiedergabeliste der beliebtesten Videos im Account anzuzeigen. Siehe auch das</a> Beispiel „ <a href="/code-samples/brightcove-player-sample-popular-videos-overlay.html">Popular Videos Overlay“.'
parent: Code Samples
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>

  <aside class="bcls-aside bcls-aside--information">Der Inhalt in diesem Dokument gilt nur für Video Cloud.</aside>
  <section class="bcls-section">
    <h2 id="limitations">Einschränkungen</h2>
    <aside class="bcls-aside bcls-aside--information">Dieses Beispiel und der zugehörige Code werden als Leitfaden für Ihre Produktionsentwicklung bereitgestellt. Der Code ist weder für die Verwendung in der Produktion zertifiziert noch offiziell unterstützt.</aside>
  </section>
  <section class="bcls-section">
    <h2 id="Player_example">Beispiel eines Spielers</h2>
    <!-- UPDATE description -->
    
    <p>Die Wiedergabeliste wird automatisch angezeigt, sobald die Videodaten abgerufen werden. Die Anfrage an die <span translate="No">Analytics-API</span>, die 6 am häufigsten gesehenen Videos der letzten 24 Stunden zu erhalten, wird zusammen mit der API-Antwort angezeigt.</p>
    <!-- UPDATE codepen here -->
    
    <p data-height="711" data-theme-id="34967" data-slug-hash="ELWVXr" data-default-tab="result" data-user="bcls1969" data-embed-version="2" data-pen-title="18183-popular-videos-playlist" class="codepen">Siehe die Pen <a href="https://codepen.io/team/bcls1969/pen/ELWVXr/">18183-popular-videos-Playlist</a> von Brightcove Learning Services (<a href="https://codepen.io/team/rcrooks1969">@bcls1969</a>) auf <a href="https://codepen.io">CodePen</a>.</p>
    <script async src="https://static.codepen.io/assets/embed/ei.js"></script><!-- UPDATE link to GitHub source -->
    
    <h3>Quellcode</h3>
          <p>Sehen Sie sich die <a href="https://github.com/BrightcoveLearning/18183-popular-videos-playlist">Komplettlösung auf GitHub an</a>.</p>
  </section>
  <section class="bcls-section">
    <h2 id="Overview">Überblick</h2>
    <p>In diesem Beispiel werden die am häufigsten angesehenen Videos des letzten Tages von Ihrem Konto mithilfe der Analytics-API zurückgegeben. Es ähnelt dem</a> Beispiel der <a href="/code-samples/brightcove-player-sample-most-watched-videos-playlist.html">meistgesehenen Videowiedergabeliste, das den <a href="/references/player-catalog.html">Brightcove Player-Katalog verwendet,</a> um auf die Playback-API zuzugreifen. Es gibt einige Unterschiede, die zu beachten sind:</p>
    <h3>Analytics-API</h3>
    <ul>
      <li>Wenn Sie den <code translate="No">from</code> Parameter und den Wert nicht angeben, sind die letzten 30 Tage der Standardwert.</li>
      <li>Um dieselben Ergebnisse aus der <span translate="No">Analytics-API abzurufen</span>, die Sie von der Playback-API erhalten würden, verwenden Sie den <code translate="No">?alltime</code> URL-Parameter in der API-Anfrage.</li>
    </ul>
    <h3>Brightcove Player-Katalog (Wiedergabe-API)</h3>
    <ul>
      <li>Das <code translate="No">plays_total</code> Feld ist die Videoaufrufe aller Zeiten für ein Video.</li>
      <li>Sie können die <a href="/references/player-catalog.html#getSearch_method">Catalog.getSearch ()</a> -Methode verwenden, um Daten einfach von der Playback-API abzurufen.</li>
    </ul>
  </section>
  <section class="bcls-section">
    <details>
      <summary><h2 id="Using_the_CodePen">CodePen verwenden</h2></summary>
      <p>Hier sind einige Tipps zur effektiven Verwendung des obigen CodePen:</p>
      <ul>
        <li>Schalten Sie die tatsächliche Anzeige des Spielers um, indem Sie auf die</strong> Schaltfläche <strong translate="No">Ergebnis klicken.</li>
        <li>Klicken Sie auf die</strong> Schaltflächen <strong translate="No">HTML/CSS/JS, um EINEN der Codetypen anzuzeigen.</li>
        <li>Später in diesem Dokument werden die Logik, der Ablauf und das Styling der Anwendung in der <a href="#Player/HTML_configuration">Player/HTML-Konfiguration</a>, im <a href="#Application_flow">Anwendungsfluss</a> und im <a href="#Application_styling">Anwendungsstyling diskutiert</a> Abschnitte. Der beste Weg, um den Informationen in diesen Abschnitten zu folgen, besteht darin:
          <ol>
            <li>Klicken Sie im CodePen auf die</strong> Schaltfläche <strong translate="No">EDIT ON CODEPEN und halten Sie den Code in einem Browser-/Browser-Tab zur Verfügung.</li>
            <li>Passen Sie in CodePen an, welcher Code angezeigt werden soll. Sie können die Breite verschiedener CodeAbschnitte in CodePen ändern.</li>
            <li>Zeigen Sie die</a> Abschnitte <a href="#Player/HTML_configuration">Player/HTML-Konfiguration</a>, <a href="#Application_flow">Anwendungsfluss</a> und/oder <a href="#Application_styling">Anwendungs-Styling in einer anderen Browser-/Browser-Registerkarte an. Sie können nun den Codeerklärungen folgen und gleichzeitig den Code anzeigen.</li>
          </ol>
        </li>
      </ul>
    </details>
  </section>
  <section class="bcls-section">
    <details>
      <summary><h2 id="Development_sequence">Entwicklungs-Sequenz</h2></summary> 
      <p>Hier ist die empfohlene Entwicklungssequenz:</p>
      <ol>
        <li>Verwenden Sie die In-Page-Embed-Player-Implementierung, um die Funktionalität Ihres Players, Plugins und CSS zu testen (falls CSS benötigt wird)</li>
        <li>Legen Sie JavaScript und CSS des Plugins in separate Dateien zum lokalen Testen</li>
        <li>Stellen Sie den Plugin-Code und das CSS auf Ihrem Server bereit, sobald Sie Fehler herausgefunden haben</li>
        <li>Benutze Studio, um das Plugin und das CSS deinem Player hinzuzufügen</li>
        <li>Ersetzen Sie die In-Page-Embed-Player-Implementierung, wenn Sie feststellen, dass die Iframe-Implementierung besser passt (im nächsten Abschnitt beschrieben)</li>
      </ol>
      <p>Weitere Informationen zu diesen Schritten finden Sie in der <a href="/coding-topics/step-step-plugin-development.html">Schritt-für-Schritt-Anleitung: </a> Leitfaden zur Entwicklung von Plugins</p>
      <h3>iframe oder In-Page einbetten</h3>
      <p>Bei der Entwicklung von Verbesserungen für den Brightcove Player müssen Sie entscheiden, ob der Code am besten für die Iframe- oder In-Page-Einbettungsimplementierung geeignet ist. Die Best Practice-Empfehlung besteht darin, ein Plugin zur Verwendung mit einer Iframe-Implementierung zu erstellen. Die Vorteile der Verwendung des iFrame-Players sind:</p>
      <ul>
        <li>Keine Kollisionen mit vorhandenem JavaScript und/oder CSS</li>
        <li>Reaktionsschnell</li>
        <li>Der iframe erleichtert die Verwendung in Social-Media-Apps (oder wann immer das Video in andere Apps „reisen“ muss)</li>
      </ul>
      <p>Obwohl die Integration des In-Page-Einbettungsplayers komplexer sein kann, planen Sie Ihren Code in dieser Implementierung manchmal. Um zu verallgemeinern, ist dieser Ansatz am besten, wenn die enthaltende Seite mit dem Spieler kommunizieren muss. Im Einzelnen sind hier einige Beispiele:</p>
      <ul>
        <li>Der Code auf der enthaltenden Seite muss Spielerereignisse abhören und darauf reagieren</li>
        <li>Der Player verwendet Stile von der enthaltenden Seite</li>
        <li>Der Iframe führt dazu, dass die App-Logik fehlschlägt, wie eine Weiterleitung von der enthaltenen Seite</li>
      </ul>
      <p>Selbst wenn Ihre endgültige Implementierung den Iframe-Code nicht verwendet, können Sie den In-Page-Einbettungscode trotzdem mit einem Plugin für Ihr JavaScript und einer separaten Datei für Ihr CSS verwenden. Dies kapselt Ihre Logik, sodass Sie sie problemlos in mehreren Spielern verwenden können.</p>
    </details>
  </section>
  <section class="bcls-section">
    <details>
      <summary><h2 id="Getting_Credentials">Anmeldeinformationen erhalten</h2></summary>
      <p>Um ein <code translate="No">client_id</code> und zu erhalten <code translate="No">client_secret</code>, müssen Sie zur OAuth UI gehen und diese App registrieren:</p>
      <ul>
        <li><a href="https://studio.support.brightcove.com/admin/managing-api-authentication-credentials.html">Verwalten von API-Authentifizierungsdaten</a></li>
      </ul>
      <p>Dies sind die Berechtigungen, die Sie benötigen:</p>
      <figure class="bcls-figure"><img class="bcls-image" alt="Analytics API Permissions" src="/assets/images/code-samples/brightcove-player-sample-popular-videos-overlay/aapi-permissions.png" />
        <figcaption class="bcls-caption--image">Analytics-API-Berechtigungen</figcaption>
      </figure>
      <p>Sie können Ihre Anmeldeinformationen auch über CURL oder Postman abrufen - siehe:</p>
      <ul>
        <li><a href="https://apis.support.brightcove.com/oauth/guides/oauth-create-client-credentials-using-curl.html">Holen Sie sich Client-Anmeldeinformationen mit</a></li>
        <li><a href="https://apis.support.brightcove.com/oauth/guides/oauth-create-client-credentials-using-postman.html">Client-Anmeldeinformationen mit Postman abrufen</a></li>
      </ul>
      <p>Wenn Sie Anmeldeinformationen direkt von der API erhalten, benötigen Sie dies die Berechtigungen:</p>
      <pre class="line-numbers">
			<code class="language-json" translate="No">[
				"video-cloud/analytics/read",
				"video-cloud/video/read"
			]</code></pre>
    </details>
  </section>
  <section class="bcls-section">
    <h2 id="API/Plugin_resources_used">Verwendete API/Plugin-Ressourcen</h2>
    <!-- UPDATE table, remove unneeded columns -->
    
    <table class="bcls-table">
      <thead class="bcls-table__head">
        <tr>
          <th>Spieler-API-Methoden</th>
          <th>REST-APIs</th>
        </tr>
      </thead>
      <tbody class="bcls-table__body">
        <tr>
          <td><a href="/references/player-catalog.html#getVideo">catalog.getVideo ()</a></td>
          <td>In diesem Beispiel wird die <a href="https://apis.support.brightcove.com/analytics/">Analytics-API</a> über einen in PHP integrierten <a href="#proxy_code">Proxy verwendet</a>.</td>
        </tr>
        <tr>
          <td><a href="https://player.support.brightcove.com/references/guide-playlist-api.html#playlist">Playlist ()</a></td>
          <td>&nbsp;</td>
        </tr>
      </tbody>
    </table>
  </section>
  <!-- UPDATE player and HTML configuration -->
  
  <section class="bcls-section">
    <h2 id="Player/HTML_configuration">Player-/HTML-Konfiguration</h2>
    <p>Dieser Abschnitt beschreibt jede spezielle Konfiguration, die während der Spielererstellung erforderlich ist. Darüber hinaus werden andere HTML-Elemente beschrieben, die der Seite über den In-Page-Einbettungsplayer-Implementierungscode hinaus hinzugefügt werden müssen.</p>
    <h3>Player-Konfiguration</h3>
    <p>Für den Brightcove Player, den Sie für dieses Beispiel erstellen, ist keine spezielle Konfiguration erforderlich.</p>
    <h3>Anderes HTML</h3>
    <p>Wenn Sie den Advanced (In-Page-Einbettung) Player verwenden, müssen Sie ein HTML-Element hinzufügen, um den Speicherort der Wiedergabeliste anzugeben. Weitere Informationen finden Sie im</a> Dokument Wiedergabelisten <a href="/general/implementing-playlists.html#Advanced_in_page_embed_player">implementieren.</p>
    <pre>
		<code class="language-html" translate="No">&lt;div class="vjs-playlist"&gt;&lt;/div&gt;</code></pre>
    <p>Denken Sie daran, das <code translate="No">id</code> Attribut dem <code translate="No">video</code> Tag im Einbettungscode des Spielers hinzuzufügen.</p>
    <pre>
		<code class="language-html" translate="No">&lt;video-js <span class="bcls-highlight">id="myPlayerID"</span>
		...</code></pre>
    <p>Zu Testzwecken haben wir unter dem Player HTML-Elemente hinzugefügt, um die <span translate="No"></span> Analytics-API-Anfrage und Antwort anzuzeigen.</p>
    <pre class="line-numbers">
		<code class="language-html" translate="No">&lt;p&gt;
			&lt;strong&gt;Analytics API request:&lt;/strong&gt;
		&lt;/p&gt;
		&lt;pre id="apiRequest"&gt;&lt;/pre&gt;
		&lt;p&gt;
			&lt;strong&gt;Analytics Response data&lt;/strong&gt;
		&lt;/p&gt;
		&lt;pre id="responseData"&gt;&lt;/pre&gt;</code></pre>
  </section>
  <!-- UPDATE application flow -->
  
  <section class="bcls-section">
    <h2 id="Application_flow">Ablauf der Anwendung</h2>
    <p>Die grundlegende Logik hinter dieser Anwendung lautet:</p>
    <ul>
      <li>Richten Sie die <span translate="No">Analytics</span> API-Anfrage ein</li>
      <li>Daten von der Analytics-API abrufen</li>
      <li>Extrahiere die Video-IDs</li>
      <li>Holen Sie sich die Videoobjekte</li>
      <li>Die Wiedergabeliste laden</li>
    </ul>
    <!-- UPDATE task 1 -->
    
    <h3>Richten Sie die <span translate="No">Analytics</span> API-Anfrage ein</h3>
    <p>Finden Sie den Code, der mit der Bezeichnung versehen ist:</p>
    <pre>
		<code class="language-javascript" translate="No">// +++ Set up <span translate="No">Analytics API</span> request +++</code></pre>
    <p>Richten Sie die URL-Parameter für die <span translate="No"></span> Analytics-API-Anfrage ein. Diese Anfrage gibt 6 Videos von unserem Brightcove-Konto zurück, die in den letzten 24 Stunden die meisten Videoaufrufe haben. Sie werden in absteigender Reihenfolge sortiert.</p>
    <!-- UPDATE task 2 -->
    
    <h3>Daten von der Analytics-API abrufen</h3>
    <p>Finden Sie den Code, der mit der Bezeichnung versehen ist:</p>
    <pre>
		<code class="language-javascript" translate="No">// +++ Get data from <span translate="No">Analytics API</span> +++</code></pre>
    <p>In diesem Beispiel wird ein <a href="#proxy_code">serverseitiger Proxy aufgerufen, der in PHP</a> geschrieben ist, um Ihre HTTP-Anfrage an die Analytics-API zu senden.</p>
    <!-- UPDATE task 3 -->
    
    <h3>Extrahiere die Video-IDs</h3>
    <p>Finden Sie den Code, der mit der Bezeichnung versehen ist:</p>
    <pre>
		<code class="language-javascript" translate="No">// +++ Extract the video ids +++</code></pre>
    <p>Extrahieren Sie die Video-IDs aus den API-Antwortdaten und speichern Sie sie in einem Array.</p>
    <!-- UPDATE task 4 -->
    
    <h3>Holen Sie sich die Videoobjekte</h3>
    <p>Finden Sie den Code, der mit der Bezeichnung versehen ist:</p>
    <pre>
		<code class="language-javascript" translate="No">// +++ Get the video objects +++</code></pre>
    <p>Verwenden Sie für jede von der Analytics-API zurückgegebene Video-ID die <code translate="No">catalog.getVideo()</code> Methode, um das Videoobjekt abzurufen.</p>
    <!-- UPDATE task 5 -->
    
    <h3>Die Wiedergabeliste laden</h3>
    <p>Finden Sie den Code, der mit der Bezeichnung versehen ist:</p>
    <pre>
		<code class="language-javascript" translate="No">// +++ Load the playlist +++</code></pre>
    <p>Verwenden Sie das Videoobjekt-Array mit der <code translate="No">playlist()</code> Methode, um die Videos in die Wiedergabeliste des Players zu laden.</p>
  </section>
  <!-- UPDATE CSS description -->
  
  <section class="bcls-section">
    <h2 id="Application_styling">Styling der Anwendung</h2>
    <p>CSS wird verwendet, um den Player und die Playlist zu stylen. Zu Testzwecken werden die</span> Anforderungs- und Antwortfelder der <span translate="No">Analytics API auch mit CSS gestaltet.</p>
  </section>
  <section class="bcls-section">
    <h2 id="Plugin_code">Plugin-Code</h2>
    <p>Normalerweise sind bei der Umwandlung des JavaScript in ein Brightcove Player-Plugin nominelle Änderungen erforderlich. Eine erforderliche Änderung besteht darin, die Standardverwendung der <code translate="No">ready()</code> Methode durch den Code zu ersetzen, der ein Plugin definiert.</p>
    <p>Hier ist der sehr häufig verwendete Start zu JavaScript-Code, der mit dem Player funktioniert:</p>
    <pre class="line-numbers">
		<code class="language-javascript" translate="No">videojs.getPlayer('myPlayerID').ready(function() {
			var myPlayer = this;
			...
		});</code></pre>
    <p>Sie ändern die erste Zeile, um die Standardsyntax zum Starten eines Brightcove Player-Plugins zu verwenden:</p>
    <pre class="line-numbers">
		<code class="language-javascript" translate="No">videojs.registerPlugin('pluginName', function(options) {
			var myPlayer = this;
			...
		});</code></pre>
    <!-- UPDATE path to plugin's JavaScript -->
    
    <p>Wie bereits erwähnt, können Sie den JavaScript-Code des Plugins im entsprechenden GitHub Repo dieses Dokuments sehen: <a href="https://github.com/BrightcoveLearning/18183-popular-videos-playlist/blob/master/plugin/popular-videos.js">popular-videos.js</a>.</p>
    <h3>Verwenden des Plugins mit einem Player</h3>
    <p>Sobald Sie die CSS- und JavaScript-Dateien des Plugins an einem für das Internet zugänglichen Ort gespeichert haben, können Sie das Plugin mit einem Player verwenden. Im</strong> PLAYER-Modul von <strong>Studio können Sie einen Player auswählen, dann im</strong> Abschnitt <strong>PLUGINS die URLs zu den CSS- und JavaScript-Dateien hinzufügen und auch den <strong>Namen hinzufügen</strong> und <strong>Optionen</strong>, wenn Optionen benötigt werden.</p>
    <aside class="bcls-aside bcls-aside--tip">Weitere Informationen zur Verwendung von Studio zum Zuweisen von Plugins zu Spielern finden Sie im</a> Dokument <a href="https://studio.support.brightcove.com/players/configuring-player-plugins.html">Configuring Player Plugins.</aside>
  </section>
  <section class="bcls-section">
    <h2 id="proxy_code">Proxy-Code</h2>
    <p>Um Ihre eigene Version der Beispiel-App auf dieser Seite zu erstellen, müssen Sie Ihren eigenen Proxy erstellen und hosten. (Die von Brightcove Learning Services verwendeten Proxys akzeptieren nur Anfragen von Brightcove-Domains.) Ein Beispielproxy, der dem von uns verwendeten sehr ähnlich ist, aber ohne die Prüfungen, die Anfragen von Nicht-BrightCove-Domänen blockieren, kann in <a href="https://github.com/BrightcoveLearning/sample-proxy-apps">diesem GitHub-Repository gefunden werden</a>. Dort finden Sie auch grundlegende Anweisungen zur Verwendung und eine ausführlichere Anleitung zum Erstellen von Apps rund um den Proxy <a href="/getting-started/learning-guide-using-rest-apis.html">unter Verwenden der REST-APIs</a>.</p>
  </section>
</article>