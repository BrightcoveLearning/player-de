---
title: 'Beispiel für Brightcove Spieler: Kiosk-App'
description: 'In diesem Thema erfahren Sie, wie Sie die <a href="https://apis.support.brightcove.com/cms/">CMS-API verwenden</a>, um alle Videos in einem Konto zurückzugeben. Die Videos werden dann in einer kontinuierlichen Schleife abgespielt. Dieser Code erfüllt die Anforderungen eines Kiosk-Anwendungsfalls, in dem ein unbeaufsichtigter Computer den ganzen Tag Videos abspielt.'
parent: Code Samples
---

<article class="bcls-article">
  <h1>Beispiel für Brightcove Spieler: Kiosk-App</h1>
  <summary></summary>
  <section class="bcls-section">
    <h2 id="Player_example">Beispiel eines Spielers</h2>
    <!-- UPDATE description -->
    
    <aside class="bcls-aside bcls-aside--information">Dieses Beispiel und der zugehörige Code werden als Leitfaden für Ihre Produktionsentwicklung bereitgestellt. Der Code ist weder für die Verwendung in der Produktion zertifiziert noch offiziell unterstützt.</aside>
    <p>Der Player spielt ein Video aus dem Array der Videoobjekte in einer Endlosschleife ab.</p>
    <!-- UPDATE codepen here -->
    
    <p data-height="456" data-theme-id="34967" data-slug-hash="brzorG" data-default-tab="result" data-user="rcrooks1969" data-embed-version="2" data-pen-title="18186-kiosk-app" class="codepen">Siehe die Pen <a href="https://codepen.io/team/rcrooks1969/pen/brzorG/">18186-kiosk-App</a> von Brightcove Learning Services (<a href="https://codepen.io/rcrooks1969">@rcrooks1969</a>) auf <a href="https://codepen.io">CodePen</a>.</p>
    <script async src="https://production-assets.codepen.io/assets/embed/ei.js"></script><!-- UPDATE link to GitHub source -->
    
    <h3>Quellcode</h3>
          <p>Sehen Sie sich die <a href="https://github.com/BrightcoveLearning/18186-kiosk-app">Komplettlösung auf GitHub an</a>.</p>
  </section>
  <section class="bcls-section">
    <details>
      <summary><h2 id="Using_the_CodePen">CodePen verwenden</h2></summary>
      <p>Hier sind einige Tipps zur effektiven Verwendung des obigen CodePen:</p>
      <ul>
        <li>Schalten Sie die tatsächliche Anzeige des Spielers um, indem Sie auf die</strong> Schaltfläche <strong translate="No">Ergebnis klicken.</li>
        <li>Klicken Sie auf die</strong> Schaltflächen <strong translate="No">HTML/CSS/JS, um EINEN der Codetypen anzuzeigen.</li>
        <li>Später in diesem Dokument werden die Logik, der Ablauf und das Styling der Anwendung in der <a href="#Player/HTML_configuration">Player/HTML-Konfiguration</a>, im <a href="#Application_flow">Anwendungsfluss</a> und im <a href="#Application_styling">Anwendungsstyling diskutiert</a> Abschnitte. Der beste Weg, um den Informationen in diesen Abschnitten zu folgen, besteht darin:
          <ol>
            <li>Klicken Sie im CodePen auf die</strong> Schaltfläche <strong translate="No">EDIT ON CODEPEN und halten Sie den Code in einem Browser-/Browser-Tab zur Verfügung.</li>
            <li>Passen Sie in CodePen an, welcher Code angezeigt werden soll. Sie können die Breite verschiedener CodeAbschnitte in CodePen ändern.</li>
            <li>Zeigen Sie die</a> Abschnitte <a href="#Player/HTML_configuration">Player/HTML-Konfiguration</a>, <a href="#Application_flow">Anwendungsfluss</a> und/oder <a href="#Application_styling">Anwendungs-Styling in einer anderen Browser-/Browser-Registerkarte an. Sie können nun den Codeerklärungen folgen und gleichzeitig den Code anzeigen.</li>
          </ol>
        </li>
      </ul>
    </details>
  </section>
  <section class="bcls-section">
    <details>
      <summary><h2 id="Development_sequence">Entwicklungs-Sequenz</h2></summary> 
      <p>Hier ist die empfohlene Entwicklungssequenz:</p>
      <ol>
        <li>Verwenden Sie die In-Page-Embed-Player-Implementierung, um die Funktionalität Ihres Players, Plugins und CSS zu testen (falls CSS benötigt wird)</li>
        <li>Legen Sie JavaScript und CSS des Plugins in separate Dateien zum lokalen Testen</li>
        <li>Stellen Sie den Plugin-Code und das CSS auf Ihrem Server bereit, sobald Sie Fehler herausgefunden haben</li>
        <li>Benutze Studio, um das Plugin und das CSS deinem Player hinzuzufügen</li>
        <li>Ersetzen Sie die In-Page-Embed-Player-Implementierung, wenn Sie feststellen, dass die Iframe-Implementierung besser passt (im nächsten Abschnitt beschrieben)</li>
      </ol>
      <p>Weitere Informationen zu diesen Schritten finden Sie in der <a href="/coding-topics/step-step-plugin-development.html">Schritt-für-Schritt-Anleitung: </a> Leitfaden zur Entwicklung von Plugins</p>
      <h3>iframe oder In-Page einbetten</h3>
      <p>Bei der Entwicklung von Verbesserungen für den Brightcove Player müssen Sie entscheiden, ob der Code am besten für die Iframe- oder In-Page-Einbettungsimplementierung geeignet ist. Die Best Practice-Empfehlung besteht darin, ein Plugin zur Verwendung mit einer Iframe-Implementierung zu erstellen. Die Vorteile der Verwendung des iFrame-Players sind:</p>
      <ul>
        <li>Keine Kollisionen mit vorhandenem JavaScript und/oder CSS</li>
        <li>Reaktionsschnell</li>
        <li>Der iframe erleichtert die Verwendung in Social-Media-Apps (oder wann immer das Video in andere Apps „reisen“ muss)</li>
      </ul>
      <p>Obwohl die Integration des In-Page-Einbettungsplayers komplexer sein kann, planen Sie Ihren Code in dieser Implementierung manchmal. Um zu verallgemeinern, ist dieser Ansatz am besten, wenn die enthaltende Seite mit dem Spieler kommunizieren muss. Im Einzelnen sind hier einige Beispiele:</p>
      <ul>
        <li>Der Code auf der enthaltenden Seite muss Spielerereignisse abhören und darauf reagieren</li>
        <li>Der Player verwendet Stile von der enthaltenden Seite</li>
        <li>Der Iframe führt dazu, dass die App-Logik fehlschlägt, wie eine Weiterleitung von der enthaltenen Seite</li>
      </ul>
      <p>Selbst wenn Ihre endgültige Implementierung den Iframe-Code nicht verwendet, können Sie den In-Page-Einbettungscode trotzdem mit einem Plugin für Ihr JavaScript und einer separaten Datei für Ihr CSS verwenden. Dies kapselt Ihre Logik, sodass Sie sie problemlos in mehreren Spielern verwenden können.</p>
    </details>
  </section>
  <section class="bcls-section">
    <h2 id="API/Plugin_resources_used">Verwendete API/Plugin-Ressourcen</h2>
    <!-- UPDATE table, remove unneeded columns -->
    
    <table class="bcls-table">
      <thead class="bcls-table__head">
        <tr>
          <th>API-Methoden</th>
        </tr>
      </thead>
      <tbody class="bcls-table__body">
        <tr>
          <td><a href="https://docs.brightcove.com/brightcove-player/current-release/Player.html#play">spielen ()</a></td>
        </tr>
        <tr>
          <td><a href="/references/player-catalog.html#getVideo">catalog.getVideo ()</a></td>
        </tr>
        <tr>
          <td><a href="/references/player-catalog.html#load">catalog.load ()</a></td>
        </tr>
        <tr>
          <td><a href="https://docs.brightcove.com/brightcove-player/current-release/module-events.html#.on">am ()</a></td>
        </tr>
      </tbody>
    </table>
    <br/>
    <aside class="bcls-aside bcls-aside--tip">In diesem Codebeispiel wird die CMS-API verwendet. Um das Abrufen von Videodaten von dieser API zu verstehen, ist es wichtig, dass Sie den <a href="/getting-started/learning-guide-using-rest-apis.html">Learning Guide lesen und verstehen: Verwenden des</a> REST-API-Dokuments.</aside>
  </section>
  <section class="bcls-section">
    <details>
      <summary><h2 id="Get_credentials">Berechtigung abrufen</h2></summary>
      <p>Um die <span translate="No">CMS-API verwenden zu können, benötigen</span> Sie die richtigen Anmeldeinformationen.</p>
      <p>Der einfachste Weg, um Anmeldeinformationen zu erhalten, ist in den meisten Fällen der Abschnitt Studio-Admin-API-Authentifizierung (erfordert Administratorberechtigungen für Ihr Konto). Weitere Informationen finden Sie unter <a href="https://studio.support.brightcove.com/admin/managing-api-authentication-credentials.html">Verwalten von API-Authentifizierungsdaten</a>.  In den meisten Fällen möchten Sie wahrscheinlich nur Berechtigungen für alle <span translate="No"></span> CMS-API-Operationen erhalten:</p>
      <figure class="bcls-figure"><img class="bcls-image" alt="CMS API Permissions" src="/assets/images/code-samples/brightcove-player-sample-kiosk-app/cms-permissions.png" />
        <figcaption class="bcls-caption--image">CMS-API-Berechtigungen</figcaption>
      </figure>
      <p>Wenn die von Ihnen benötigten Berechtigungen in Studio nicht verfügbar sind oder Sie sie lieber direkt von der OAuth-API beziehen möchten, verwenden Sie Ihre Wahl der <strong>Kundenanmeldeinformationen abrufen</strong> unten aufgeführten Dokumente. Für welche Option Sie sich auch entscheiden, Sie müssen nach den richtigen Betriebsberechtigungen fragen. Folgendes kann mit cURL oder Postman verwendet werden, um alle Berechtigungen für die CMS-API zu erhalten:</p>
      <pre class="line-numbers">
	<code class="language-json" translate="No">"operations": [
	  "video-cloud/video/all",
	  "video-cloud/playlist/all",
	  "video-cloud/sharing-relationships/all",
	  "video-cloud/notifications/all"
	]</code></pre>
      <ul>
        <li><a href="https://apis.support.brightcove.com/oauth/guides/oauth-create-client-credentials-using-curl.html">OAuth: Client-Anmeldeinformationen mit cURL abrufen</a></li>
        <li><a href="https://apis.support.brightcove.com/oauth/guides/oauth-create-client-credentials-using-postman.html">OAuth: Client-Anmeldeinformationen mit Postman abrufen</a></li>
      </ul>
    </details>
  </section>
  <!-- UPDATE player and HTML configuration -->
  
  <section class="bcls-section">
    <h2 id="Player/HTML_configuration">Player-/HTML-Konfiguration</h2>
    <p>Dieser Abschnitt beschreibt jede spezielle Konfiguration, die während der Spielererstellung erforderlich ist. Darüber hinaus werden andere HTML-Elemente beschrieben, die der Seite über den In-Page-Einbettungsplayer-Implementierungscode hinaus hinzugefügt werden müssen.</p>
    <h3>Player-Konfiguration</h3>
    <p>Für den Brightcove Player, den Sie für dieses Beispiel erstellen, ist keine spezielle Konfiguration erforderlich.</p>
    <h3>Anderes HTML</h3>
    <p>Der Seite werden keine anderen HTML-Elemente hinzugefügt.</p>
  </section>
  <!-- UPDATE application flow -->
  
  <section class="bcls-section">
    <h2 id="Application_flow">Ablauf der Anwendung</h2>
    <p>Die grundlegende Logik hinter dieser Anwendung lautet:</p>
    <ul>
      <li>Verwenden Sie die <span translate="No">CMS-API</span>, um eine Gesamtzahl der Videos im Zielkonto abzurufen.</li>
      <li>Da es eine bewährte Methode ist, Informationen für nicht mehr als 25 Videos gleichzeitig abzurufen (die <span translate="No">CMS-API</span> gibt KEINE Videoobjekte, sondern Informationen zu den Videos zurück), berechnen Sie die Anzahl der benötigten Anrufe aus der Gesamtzahl.</li>
      <li>Extrahieren Sie beim Abrufen der Informationen für 25 Videos die IDs und rufen Sie dann die Videoobjekte mit dem Video Cloud-Katalog ab.</li>
      <li>Sobald alle Videoobjekte zurückgegeben wurden, spielen Sie das erste Video ab.</li>
      <li>Wenn ein Video endet, spielen Sie das nächste Video ab.</li>
      <li>Wenn das letzte Video abgespielt wird, beginnen Sie erneut vom Anfang der Liste.</li>
    </ul>
    <p>Weitere Details werden in dieser Beschreibung hinzugefügt description:</p>
    <ol>
      <li>Bereiten Sie sich darauf vor, den Anruf an die <span translate="No">CMS-API zu tätigen</span>, die die Anzahl der gesamten Videos im Konto zurückgibt.</li>
      <li>Stellen Sie die eigentliche Anforderung mit der <span translate="No">CMS-API</span> für die Zählung. Dieser Schritt verwendet eine Callback-Funktion, was bedeutet, dass die Callback-Funktion als Parameter an eine andere zweite Funktion übergeben wird. Die Callback-Funktion wird dann in der Logik der zweiten Funktion aufgerufen. In diesem Fall extrahiert die Callback-Funktion einfach die count-Eigenschaft aus einem Objekt, das von der CMS-API zurückgegeben wird.</li>
      <li>Bestimmen Sie die Anzahl der Aufrufe, die an die <span translate="No">CMS-API benötigt werden</span>, um alle Videos abzurufen. Dieser Code folgt der besten Vorgehensweise, nach 25 Videos pro Anruf zu fragen. Dies geschieht, indem die Anzahl aller Videos durch 25 geteilt wird.</li>
      <li>Erstellen Sie eine <code translate="No">do-while</code> Schleife, die für die erforderliche Anzahl von Anrufen iteriert, die im vorherigen Schritt festgelegt wurde. Diese Schleife muss sich in der Callback-Funktion der Anforderung für die Videoanzahl befinden.</li>
      <li>Bereiten Sie sich in der Schleife darauf vor, den Anruf an die <span translate="No">CMS-API zu tätigen</span>, die 25 Videos vom Konto zurückgibt.</li>
      <li>Stellen Sie immer noch in der Schleife die eigentliche Anforderung mit der <span translate="No">CMS-API</span> für die Videodaten. Dieser Schritt verwendet eine Callback-Funktion, was bedeutet, dass die Callback-Funktion als Parameter an eine andere zweite Funktion übergeben wird. Die Callback-Funktion wird dann in der Logik der zweiten Funktion aufgerufen. In diesem Fall führt die Callback-Funktion folgende Aufgaben aus:
        <ul>
          <li>Extrahieren Sie Daten, um ein Array von Video-IDs für die zurückgegebenen Videoinformationen zu erstellen.</li>
          <li>Das Array der Video-IDs wird dann als Parameter an eine andere Funktion übergeben, die das vollständige Videoobjekt für jede ID abruft. Die zurückgegebenen Objekte werden in einem Array aller Videoobjekte gespeichert. In diesem Schritt wird auch eine Callback-Funktion verwendet.</li>
          <li>Prüfen Sie, wann alle Videos zurückgegeben werden (wenn die Anzahl der zurückgegebenen Videos mit der zuvor zurückgegebenen Anzahl übereinstimmt). Wenn die Bedingung erfüllt ist, rufen Sie eine Funktion auf, die das erste Video im Array abspielt (Null-Element).</li>
        </ul>
      </li>
      <li>Richten Sie einen Ereignis-Listener ein, um auf das <code translate="No">ended</code> Ereignis zu hören. Wenn jedes Video endet, spielen Sie das nächste Video ab oder wenn es sich um das letzte Video im Array handelt, spielen Sie das erste Video ab.</li>
    </ol>
    <!-- UPDATE task 1 -->
    
    <h3>Fordern Sie die Videoanzahl von der CMS-API an</h3>
    <p>Finden Sie den Code, der mit der Bezeichnung versehen ist:</p>
    <pre>
	<code class="language-javascript" translate="No">// ### Setup for video count <span translate="No">CMS API</span> request ###</code></pre>
    <p>Der erste Anruf bei der <code translate="No">getCMSAPIData()</code> ist für die Gesamtzahl der Videos. Beachten Sie, dass in der Callback-Funktion ein weiterer Aufruf der Funktion innerhalb der <code translate="No">do-while</code> Schleife erfolgt.</p>
    <!-- UPDATE task 2 -->
    
    <h3>Das nächste Video am Ende eines abspielenden Videos abspielen</h3>
    <p>Finden Sie den Code, der mit der Bezeichnung versehen ist:</p>
    <pre>
	<code class="language-javascript" translate="No">// ### Get next video ###</code></pre>
    <p>Verwendet die <code translate="No">on('ended',...)</code> Logik, um das nächste Video in der Liste abzuspielen. Beachten Sie die <code translate="No">currentlyPlayingIndex</code> Tracks, die die Videos abspielen.</p>
    <!-- UPDATE task 3 -->
    
    <h3>Daten mit der CMS-API abrufen</h3>
    <p>Finden Sie den Code, der mit der Bezeichnung versehen ist:</p>
    <pre>
	<code class="language-javascript" translate="No">// ### Standard functionality for CSM API call ###</code></pre>
    <p>Dies ist der Standardcode, der im <a href="/getting-started/learning-guide-using-rest-apis.html">Learning Guide diskutiert wird: Verwenden des</a> REST-API-Dokuments.</p>
    <!-- UPDATE task 3 -->
    
    <h3>Extrahiere Video-IDs und rufe Videoobjekte ab</h3>
    <p>Finden Sie den Code, der mit der Bezeichnung versehen ist:</p>
    <pre>
	<code class="language-javascript" translate="No">// ### Extract video IDs ###</code></pre>
    <p>Diese Reihe von Funktionen nimmt die zurückgegebenen Videoinformationen auf, extrahiert die IDs und verwendet dann die <span translate="No">CMS-API,</span> um Videoobjekte abzurufen, die der Player benötigt, um den Videoinhalt tatsächlich wiederzugeben.</p>
  </section>
  <!-- UPDATE CSS description -->
  
  <section class="bcls-section">
    <h2 id="Application_styling">Styling der Anwendung</h2>
    <p>Das einzige CSS hat die Größe des Players.</p>
  </section>
  <section class="bcls-section">
    <h2 id="Plugin_code">Plugin-Code</h2>
    <p>Normalerweise sind bei der Umwandlung des JavaScript in ein Brightcove Player-Plugin nominelle Änderungen erforderlich. Eine erforderliche Änderung besteht darin, die Standardverwendung der <code translate="No">ready()</code> Methode durch den Code zu ersetzen, der ein Plugin definiert.</p>
    <p>Hier ist der sehr häufig verwendete Start zu JavaScript-Code, der mit dem Player funktioniert:</p>
    <pre class="line-numbers">
<code class="language-javascript" translate="No">videojs.getPlayer('myPlayerID').ready(function() {
  var myPlayer = this;
  ...
});</code></pre>
    <p>Sie ändern die erste Zeile, um die Standardsyntax zum Starten eines Brightcove Player-Plugins zu verwenden:</p>
    <pre class="line-numbers">
<code class="language-javascript" translate="No">videojs.registerPlugin('pluginName', function(options) {
  var myPlayer = this;
  ...
});</code></pre>
    <!-- UPDATE path to plugin's JavaScript -->
    
    <p>Wie bereits erwähnt, können Sie den JavaScript-Code des Plugins im entsprechenden GitHub Repo dieses Dokuments sehen: <a href="https://github.com/BrightcoveLearning/18186-kiosk-app/blob/master/plugin/kiosk-app.js">kiosk-app.js</a>.</p>
    <h3>Verwenden des Plugins mit einem Player</h3>
    <p>Sobald Sie die CSS- und JavaScript-Dateien des Plugins an einem für das Internet zugänglichen Ort gespeichert haben, können Sie das Plugin mit einem Player verwenden. Im</strong> PLAYER-Modul von <strong>Studio können Sie einen Player auswählen, dann im</strong> Abschnitt <strong>PLUGINS die URLs zu den CSS- und JavaScript-Dateien hinzufügen und auch den <strong>Namen hinzufügen</strong> und <strong>Optionen</strong>, wenn Optionen benötigt werden.</p>
    <aside class="bcls-aside bcls-aside--tip">Weitere Informationen zur Verwendung von Studio zum Zuweisen von Plugins zu Spielern finden Sie im</a> Dokument <a href="https://studio.support.brightcove.com/players/configuring-player-plugins.html">Configuring Player Plugins.</aside>
  </section>
  <section class="bcls-section">
    <h2 id="proxy">Proxy-Code</h2>
    <p>Um Ihre eigene Version der Beispiel-App auf dieser Seite zu erstellen, müssen Sie Ihren eigenen Proxy erstellen und hosten. (Die von Brightcove Learning Services verwendeten Proxys akzeptieren nur Anfragen von Brightcove-Domains.) Ein Beispielproxy, der dem von uns verwendeten sehr ähnlich ist, aber ohne die Prüfungen, die Anfragen von Nicht-BrightCove-Domänen blockieren, kann in <a href="https://github.com/BrightcoveLearning/sample-proxy-apps">diesem GitHub-Repository gefunden werden</a>. Dort finden Sie auch grundlegende Anweisungen zur Verwendung und eine ausführlichere Anleitung zum Erstellen von Apps rund um den Proxy <a href="/getting-started/learning-guide-using-rest-apis.html">unter Verwenden der REST-APIs</a>.</p>
  </section>
</article>