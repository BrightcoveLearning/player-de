---
title: 'Beispiel für Brightcove Spieler: Autoplay mit Schaltfläche Stummschaltung aufheben'
description: 'In diesem Thema erfahren Sie, wie Sie ein Video auf allen Plattformen und Geräten automatisch starten. Wenn auf iOS oder Safari, wird das Video stummgeschaltet und es wird eine Schaltfläche angezeigt, die beim Klicken die Stummschaltung des Videos aufheben wird.'
parent: Code Samples
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>
  <section class="bcls-section">
    <aside class="bcls-aside bcls-aside--information">Ab April 2018 stoppte Chrome das Autoplay von nicht stummgeschalteten Videos. Beachten Sie, dass es besondere Umstände gibt, unter denen Chrome ein nicht stummgeschaltetes Video autoplayen kann. Ausführliche Einzelheiten finden Sie im</a> Dokument zu Änderungen der <a href="https://developers.google.com/web/updates/2017/09/autoplay-policy-changes">Autoplay-Richtlinien von Google.</aside>
    <h2 id="Player_example">Beispiel eines Spielers</h2>
    <!-- UPDATE description -->
    
    <aside class="bcls-aside bcls-aside--information">Dieses Beispiel und der zugehörige Code werden als Leitfaden für Ihre Produktionsentwicklung bereitgestellt. Der Code ist weder für die Verwendung in der Produktion zertifiziert noch offiziell unterstützt.</aside>
    <p>Das folgende Video verhält sich je nach Browser/Plattform, auf der Sie das Video ausführen, unterschiedlich. Wenn das Video mit Audio autoplay wird, tut es dies. Wenn nicht, sehen Sie, dass das Video abgespielt wird, aber eine Schaltfläche zum Aufheben der Stummschaltung wird angezeigt. Wenn Sie auf diese Schaltfläche klicken, hören Sie das Audio für das Video. Im Allgemeinen wird ein Video bei Verwendung von iOS, Safari oder Chrome NICHT autotoplay, wenn das Video nicht stumm geschaltet ist. Dieses Beispiel zeigt eine Möglichkeit zum Autoplay des Videos und zeigt eine offensichtliche Schaltfläche zum Aufheben der Stummschaltung.</p>
    <p>Wenn Sie ein IMA3-Preroll verwenden, sehen Sie den</a> Abschnitt <a href="#Using_a_pre-roll_ad">Verwenden einer Preroll-Anzeige in diesem Dokument. In diesem Abschnitt werden die kleineren Änderungen beschrieben, die Sie auf den im folgenden CodePen gezeigten Code anwenden müssen, damit die Funktionalität mit einer IMA-Peroll-Anzeige funktioniert.</p>
    <!-- UPDATE codepen here -->
    
    <p data-height="456" data-theme-id="34967" data-slug-hash="jzmWzL" data-default-tab="result" data-user="rcrooks1969" data-embed-version="2" data-pen-title="Autoplay with Unmute Button" class="codepen">Sehen Sie sich den Stift <a href="https://codepen.io/team/rcrooks1969/pen/jzmWzL/">Autoplay mit Stummschaltung aufheben</a> von Brightcove Learning Services (<a href="https://codepen.io/rcrooks1969">@rcrooks1969</a>) auf <a href="https://codepen.io">CodePen an</a>.</p>
    <script async src="https://static.codepen.io/assets/embed/ei.js"></script>
    
    <h3>Quellcode</h3>
          <p>Sehen Sie sich die <a href="https://github.com/BrightcoveLearning/18567-autoplay-unmute-button">Komplettlösung auf GitHub an</a>.</p>
  </section>
  <section class="bcls-section">
    <details>
      <summary><h2 id="Using_the_CodePen">CodePen verwenden</h2></summary>
      <p>Hier sind einige Tipps zur effektiven Verwendung des obigen CodePen:</p>
      <ul>
        <li>Schalten Sie die tatsächliche Anzeige des Spielers um, indem Sie auf die</strong> Schaltfläche <strong translate="No">Ergebnis klicken.</li>
        <li>Klicken Sie auf die</strong> Schaltflächen <strong translate="No">HTML/CSS/JS, um EINEN der Codetypen anzuzeigen.</li>
        <li>Später in diesem Dokument werden die Logik, der Ablauf und das Styling der Anwendung in der <a href="#Player/HTML_configuration">Player/HTML-Konfiguration</a>, im <a href="#Application_flow">Anwendungsfluss</a> und im <a href="#Application_styling">Anwendungsstyling diskutiert</a> Abschnitte. Der beste Weg, um den Informationen in diesen Abschnitten zu folgen, besteht darin:
          <ol>
            <li>Klicken Sie im CodePen auf die</strong> Schaltfläche <strong translate="No">EDIT ON CODEPEN und halten Sie den Code in einem Browser-/Browser-Tab zur Verfügung.</li>
            <li>Passen Sie in CodePen an, welcher Code angezeigt werden soll. Sie können die Breite verschiedener CodeAbschnitte in CodePen ändern.</li>
            <li>Zeigen Sie die</a> Abschnitte <a href="#Player/HTML_configuration">Player/HTML-Konfiguration</a>, <a href="#Application_flow">Anwendungsfluss</a> und/oder <a href="#Application_styling">Anwendungs-Styling in einer anderen Browser-/Browser-Registerkarte an. Sie können nun den Codeerklärungen folgen und gleichzeitig den Code anzeigen.</li>
          </ol>
        </li>
      </ul>
    </details>
  </section>
  <section class="bcls-section">
    <details>
      <summary><h2 id="Development_sequence">Entwicklungs-Sequenz</h2></summary> 
      <p>Hier ist die empfohlene Entwicklungssequenz:</p>
      <ol>
        <li>Verwenden Sie die In-Page-Embed-Player-Implementierung, um die Funktionalität Ihres Players, Plugins und CSS zu testen (falls CSS benötigt wird)</li>
        <li>Legen Sie JavaScript und CSS des Plugins in separate Dateien zum lokalen Testen</li>
        <li>Stellen Sie den Plugin-Code und das CSS auf Ihrem Server bereit, sobald Sie Fehler herausgefunden haben</li>
        <li>Benutze Studio, um das Plugin und das CSS deinem Player hinzuzufügen</li>
        <li>Ersetzen Sie die In-Page-Embed-Player-Implementierung, wenn Sie feststellen, dass die Iframe-Implementierung besser passt (im nächsten Abschnitt beschrieben)</li>
      </ol>
      <p>Weitere Informationen zu diesen Schritten finden Sie in der <a href="/coding-topics/step-step-plugin-development.html">Schritt-für-Schritt-Anleitung: </a> Leitfaden zur Entwicklung von Plugins</p>
      <h3>iframe oder In-Page einbetten</h3>
      <p>Bei der Entwicklung von Verbesserungen für den Brightcove Player müssen Sie entscheiden, ob der Code am besten für die Iframe- oder In-Page-Einbettungsimplementierung geeignet ist. Die Best Practice-Empfehlung besteht darin, ein Plugin zur Verwendung mit einer Iframe-Implementierung zu erstellen. Die Vorteile der Verwendung des iFrame-Players sind:</p>
      <ul>
        <li>Keine Kollisionen mit vorhandenem JavaScript und/oder CSS</li>
        <li>Reaktionsschnell</li>
        <li>Der iframe erleichtert die Verwendung in Social-Media-Apps (oder wann immer das Video in andere Apps „reisen“ muss)</li>
      </ul>
      <p>Obwohl die Integration des In-Page-Einbettungsplayers komplexer sein kann, planen Sie Ihren Code in dieser Implementierung manchmal. Um zu verallgemeinern, ist dieser Ansatz am besten, wenn die enthaltende Seite mit dem Spieler kommunizieren muss. Im Einzelnen sind hier einige Beispiele:</p>
      <ul>
        <li>Der Code auf der enthaltenden Seite muss Spielerereignisse abhören und darauf reagieren</li>
        <li>Der Player verwendet Stile von der enthaltenden Seite</li>
        <li>Der Iframe führt dazu, dass die App-Logik fehlschlägt, wie eine Weiterleitung von der enthaltenen Seite</li>
      </ul>
      <p>Selbst wenn Ihre endgültige Implementierung den Iframe-Code nicht verwendet, können Sie den In-Page-Einbettungscode trotzdem mit einem Plugin für Ihr JavaScript und einer separaten Datei für Ihr CSS verwenden. Dies kapselt Ihre Logik, sodass Sie sie problemlos in mehreren Spielern verwenden können.</p>
    </details>
  </section>
  <section class="bcls-section">
    <h2 id="API/Plugin_resources_used">Verwendete API/Plugin-Ressourcen</h2>
    <!-- UPDATE table, remove unneeded columns -->
    
    <table class="bcls-table">
      <thead class="bcls-table__head">
        <tr>
          <th>API-Methoden</th>
          <th>API-Ereignisse</th>
        </tr>
      </thead>
      <tbody class="bcls-table__body">
        <tr>
          <td><a href="https://docs.brightcove.com/brightcove-player/current-release/Player.html#muted">gedämpft ()</a></td>
          <td><a href="https://docs.brightcove.com/brightcove-player/current-release/Player.html#event:loadedmetadata">loadedmetadaten</a></td>
        </tr>
        <tr>
          <td><a href="https://docs.brightcove.com/brightcove-player/current-release/Player.html#play">spielen ()</a></td>
          <td>&nbsp;</td>
        </tr>
        <tr>
          <td><a href="https://docs.brightcove.com/brightcove-player/current-release/module-events.html#.on">am ()</a></td>
          <td>&nbsp;</td>
        </tr>
        <tr>
          <td><a href="https://docs.brightcove.com/brightcove-player/current-release/Player.html#volume">Volumen ()</a></td>
          <td>&nbsp;</td>
        </tr>
      </tbody>
    </table>
    <!-- <aside class="bcls-aside bcls-aside--tip">This code sample uses one of the Brightcove REST APIs. To understand working with this API it is vital you read and understand the <a href="/getting-started/learning-guide-using-rest-apis.html">Learning Guide: Using the REST APIs</a> document.</aside> --></section>
  <!-- UPDATE player and HTML configuration -->
  
  <section class="bcls-section">
    <h2 id="Player/HTML_configuration">Player-/HTML-Konfiguration</h2>
    <p>Dieser Abschnitt beschreibt jede spezielle Konfiguration, die während der Spielererstellung erforderlich ist. Darüber hinaus werden andere HTML-Elemente beschrieben, die der Seite über den In-Page-Einbettungsplayer-Implementierungscode hinaus hinzugefügt werden müssen.</p>
    <h3>Player-Konfiguration</h3>
    <p>Neben der Standardeinbeziehung eines <code translate="No">id</code> in das <code translate="No">video</code> Tag wird der <code translate="No">playsinline</code> Attribut wird für iOS-Funktionalität hinzugefügt:</p>
    <pre class="line-numbers">
<code class="language-html" translate="No">&lt;div id="playerContainer" class="outer"&gt;
   &lt;video-js <span class="bcls-highlight">id="myPlayerID"</span>
     data-video-id="5755775186001"
     data-account="1752604059001"
     data-player="default"
     data-embed="default"
     data-application-id
     class="video-js"
     controls
     <span class="bcls-highlight">playsinline</span>&gt;&lt;/video-js&gt;
&lt;/div&gt;</code></pre>
    <h3>Anderes HTML</h3>
    <p>Keine anderen HTML-Elemente, außer den im vorherigen Abschnitt genannten, werden der Seite hinzugefügt.</p>
  </section>
  <!-- UPDATE application flow -->
  
  <section class="bcls-section">
    <h2 id="Application_flow">Ablauf der Anwendung</h2>
    <p>Die grundlegende Logik hinter dieser Anwendung lautet:</p>
    <ul>
      <li>Verwenden Sie die <code translate="No">play()</code> Methode, um das Video abzuspielen. Der Aufruf der Methode ist einer Variablen zugewiesen, die den von einem <a href="/playback/autoplay-considerations.html#Programmatic_autoplay_detection">JavaScript-Versprechen zurückgegebenen Wert enthält</a>.</li>
      <li>Wenn das Versprechen gelöst ist (das Video wird abgespielt), heben Sie die Stummschaltung des Players auf und stellen Sie den Lautstärkepegel ein.</li>
      <li>Wenn das Versprechen abgelehnt wird (das Video wird NICHT abgespielt), führen Sie Folgendes aus:
        <ul>
          <li>Schalte den Player stumm und starte das Video mit der Wiedergabe (was es jetzt tun wird, da der Player stumm geschaltet ist).</li>
          <li>Erstellen Sie dynamisch ein HTML-Schaltflächenelement, das als Schaltfläche zum <strong>Aufheben der Stummschaltung</strong> fungiert.</li>
          <li>Fügen Sie auf der Schaltfläche einen&nbsp;<code translate="No">click</code> Ereignis-Listener hinzu.</li>
          <li>Konfigurieren Sie den Text, den Stil usw. der Schaltfläche.</li>
          <li>Platziere den Button über den Spieler.</li>
        </ul>
      </li>
    </ul>
    <h3>Versuche das Video abzuspielen</h3>
    <p>Finden Sie den Code, der mit der Bezeichnung versehen ist:</p>
    <pre>
<code class="language-javascript" translate="No">// ### Wait for loadedmetadata then try to play video ###</code></pre>
    <p>Gemäß der Standardprozedur warten Sie auf das <code translate="No">loadedmetadata</code> Ereignis, bevor Sie die <code translate="No">play()</code> Methode verwenden. Das vom Methodenaufruf zurückgegebene Versprechen wird in der <code translate="No">promise</code> Variablen gespeichert. Wenn das Video abgespielt wird, können Sie die Stummschaltung des Players aufheben und die Lautstärke einstellen.</p>
    <h3>Wenn Autoplay verhindert wird, schalten Sie den Spieler stumm und spielen Sie Video ab</h3>
    <p>Finden Sie den Code, der mit der Bezeichnung versehen ist:</p>
    <pre>
<code class="language-javascript" translate="No">// ### If autoplay prevented: mute the video, play video and display unmute button ###</code></pre>
    <p>Hier können Sie mit der <code translate="No">catch</code> Logik für das Versprechen handeln, wenn das Video nicht im Player gestartet wurde. Der Player ist programmgesteuert stumm geschaltet, sodass das Video abgespielt wird. Die <code translate="No">play()</code> Methode wird erneut aufgerufen, wodurch das Video gestartet wird. Nach diesem Code wird die Schaltfläche dynamisch erstellt und konfiguriert.</p>
    <h3>Fügen Sie der Schaltfläche einen <code translate="No">click</code> Ereignis-Listener hinzu</h3>
    <p>Finden Sie den Code, der mit der Bezeichnung versehen ist:</p>
    <pre>
<code class="language-javascript" translate="No">// ### Add button's event listener ###</code></pre>
    <p>Mit JavaScripts <code translate="No">addEventListener()</code> wird der Ereignishandler für einen Klick dynamisch erstellt. Im Event-Handler wird der Player nicht stummgeschaltet, der Lautstärkepegel eingestellt und zuletzt die Schaltfläche aus dem DOM entfernt.</p>
    <!-- UPDATE task 3 -->
    
    <h3>Konfigurieren Sie den Button</h3>
    <p>Finden Sie den Code, der mit der Bezeichnung versehen ist:</p>
    <pre>
<code class="language-javascript" translate="No">// ###  Configure the button ###</code></pre>
    <p>In diesem Codeabschnitt wird die Beschriftung der Schaltfläche festgelegt, das Aussehen der Schaltfläche wird konfiguriert und eine <code translate="No">class</code> wird für eine CSS-Referenz hinzugefügt, die die Schaltfläche positioniert.</p>
    <!-- UPDATE task 3 -->
    
    <h3>Fügen Sie den Button zum Container hinzu</h3>
    <p>Finden Sie den Code, der mit der Bezeichnung versehen ist:</p>
    <pre>
<code class="language-javascript" translate="No">// ### Add the button to the container ###</code></pre>
    <p>Die einzelne Codezeile platziert die Schaltfläche in die <code translate="No">div</code>, die den Spieler einschränkt.</p>
    <!-- UPDATE task 3 --></section>
  <!-- UPDATE CSS description -->
  
  <section class="bcls-section">
    <h2 id="Using_a_pre-roll_ad">Verwenden einer Preroll-Anzeige</h2>
    <p>Da die Anzeige abgespielt wird, wenn die Schaltfläche Stummschaltung aufheben erscheint, müssen Sie die Stummschaltung des Anzeigenspielers anstelle des Content-Players aufheben. Um dies zu tun, verwenden Sie für den Click-Handler Folgendes:</p>
    <pre class="line-numbers">
<code class="language-javascript" translate="No">button.addEventListener("click", function() {
  <span class="bcls-highlight">myPlayer.ima3.adPlayer.muted(false);
  myPlayer.ima3.adPlayer.volume(volumeLevel);</span>
  //myPlayer.muted(false);
  //myPlayer.volume(volumeLevel);
  playerContainer.removeChild(button);
}</code></pre>
    <p>Die beiden Codezeilen für die Lautstärkeregelung des Content-Players werden auskommentiert und nur aus Gründen des Vergleichs übrig gelassen.</p>
    <p>Sie müssen nicht die gleiche Änderung für den Nicht-IOS/Safari/Chrome-Code vornehmen, da das Volume geändert wird, BEVOR die Anzeige geladen wird (auf dem <code translate="No">loadstart</code> Event) und diese Änderungen beim Laden an den Anzeigen-Player weitergegeben werden.</p>
    <p>In diesem <a href="https://codepen.io/team/rcrooks1969/pen/xWzPJX">CodePen</a> finden Sie ein Arbeitsbeispiel.</p>
  </section>
  <section class="bcls-section">
    <h2 id="Application_styling">Styling der Anwendung</h2>
    <p>Die drei CSS-Selektoren führen Folgendes aus:</p>
    <ul>
      <li>Setzt das Video <code translate="No">height</code> und <code translate="No">width</code> auf <strong>100%</strong>, um den Container zu füllen, in den es gelegt wird.</li>
      <li>Erstellt einen Klassenselektor, der mit dem verwendet wird <code translate="No">div</code>, der den Player umgibt. Die verwendeten Werte entsprechen der Größe des Spielers.</li>
      <li>Erstellt einen weiteren Klassenselektor, der die Schaltfläche zum Aufheben der Stummschaltung in der Mitte des positioniert <code translate="No">div</code>, der den Spieler umgibt.</li>
    </ul>
  </section>
  <section class="bcls-section">
    <h2 id="Plugin_code">Plugin-Code</h2>
    <p>Normalerweise sind bei der Umwandlung des JavaScript in ein Brightcove Player-Plugin nominelle Änderungen erforderlich. Eine erforderliche Änderung besteht darin, die Standardverwendung der <code translate="No">ready()</code> Methode durch den Code zu ersetzen, der ein Plugin definiert.</p>
    <p>Hier ist der sehr häufig verwendete Start zu JavaScript-Code, der mit dem Player funktioniert:</p>
    <pre class="line-numbers">
<code class="language-javascript" translate="No">videojs.getPlayer('myPlayerID').ready(function() {
  var myPlayer = this;
  ...
});</code></pre>
    <p>Sie ändern die erste Zeile, um die Standardsyntax zum Starten eines Brightcove Player-Plugins zu verwenden:</p>
    <pre class="line-numbers">
<code class="language-javascript" translate="No">videojs.registerPlugin('pluginName', function(options) {
  var myPlayer = this;
  ...
});</code></pre>
    <!-- UPDATE path to plugin's JavaScript -->
    
    <p>Wie bereits erwähnt, können Sie den JavaScript-Code des Plugins im entsprechenden GitHub Repo dieses Dokuments sehen: <a href="https://github.com/BrightcoveLearning/18567-autoplay-unmute-button-iossafari/blob/master/plugin/unmute-button.js">unmute-button.js</a>.</p>
    <h3>Verwenden des Plugins mit einem Player</h3>
    <p>Sobald Sie die CSS- und JavaScript-Dateien des Plugins an einem für das Internet zugänglichen Ort gespeichert haben, können Sie das Plugin mit einem Player verwenden. Im</strong> PLAYER-Modul von <strong>Studio können Sie einen Player auswählen, dann im</strong> Abschnitt <strong>PLUGINS die URLs zu den CSS- und JavaScript-Dateien hinzufügen und auch den <strong>Namen hinzufügen</strong> und <strong>Optionen</strong>, wenn Optionen benötigt werden.</p>
    <aside class="bcls-aside bcls-aside--tip">Weitere Informationen zur Verwendung von Studio zum Zuweisen von Plugins zu Spielern finden Sie im</a> Dokument <a href="https://studio.support.brightcove.com/players/configuring-player-plugins.html">Configuring Player Plugins.</aside>
  </section>
</article>