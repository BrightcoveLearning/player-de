---
title: 'Schritt für Schritt: Plugin-Entwicklung'
parent: Coding Topics
description: In this topic you will learn via a hands-on introduction about plugin development and use.
---

<article class="bcls-article">
  <h1>Schritt für Schritt: Plugin-Entwicklung</h1>
  <summary>{{ page.description }}</summary>
  <section id="developmentapproach" class="bcls-section">
    <h2>Entwicklungsansatz</h2>
    <p>Das JavaScript und CSS, das Sie für Plugins entwickeln, müssen möglicherweise an einem über das Internet zugänglichen Ort gespeichert werden. Es wird jedoch empfohlen, dass Sie während der Entwicklung lokal erstellen und testen. Dazu führen Sie Folgendes aus:</p>
    <ul>
      <li>Erstellen Sie eine Datei mit Ihrem JavaScript-Plugin-Code</li>
      <li>Erstellen Sie eine Datei mit Ihrem CSS-Plugin-Code (falls erforderlich).</li>
      <li>Erstellen Sie eine HTML-Datei zum Testen. Verwenden Sie die <code translate="No">embed_in_page</code> Implementierung für den Spieler</li>
      <li>Fügen Sie eine hinzu <code translate="No">id</code> zum <code translate="No">&lt;video-js&gt;</code> Etikett</li>
      <li>Link zu den JavaScript- und CSS-Seiten</li>
      <li>Verwenden ein <code translate="No">&lt;script&gt;</code> Tag zum Aufrufen der Funktion</li>
      <li>Entwickeln und debuggen Sie Ihren Code</li>
    </ul>
    <p>Der Rest dieses Dokuments führt Sie durch diese Schritte zum Erstellen und Bereitstellen eines einfachen Plugins.</p>
  </section>
  <section id="buildthebasics" class="bcls-section">
    <h2>Bauen Sie die Grundlagen auf</h2>
    <p>Um mit dem Erstellen eines Plugins zu beginnen, müssen Sie einige der oben genannten grundlegenden Schritte auf hoher Ebene ausführen.</p>
    <ol class="bcls-tasklist">
      <li>Erstellen Sie einen Ordner mit dem Namen <code translate="No">plugin-dev</code> das kann mit einem tatsächlichen HTTP-Server durchsucht werden. Der Server ist für die Prüfung der iframe-Implementierung später in diesem Dokument erforderlich.</li>
      <li>Erstellen Sie im Ordner drei Dateien mit den folgenden Namen:
        <ul>
          <li><strong translate="No">plugin-dev.html</strong> (Fügen Sie die Grundelemente für eine HTML-Seite in die Datei ein)</li>
          <li>plugin-dev.js<strong translate="No"></strong></li>
          <li>plugin-dev.css<strong translate="No"></strong></li>
        </ul>
      </li>
      <li>Studio verwenden <strong translate="No">Spieler</strong> Modul, erstellen Sie einen neuen Player.</li>
      <li class="video-cloud-only">In dem <strong translate="No">Medien</strong> Modul, wählen Sie ein Video aus und veröffentlichen Sie es mit dem neu erstellten Player.</li>
      <li class="player-only">Verwendung der <strong translate="No">VIDEOINHALTE</strong> Abschnitt, ordnen Sie dem Player ein Video zu, speichern und veröffentlichen Sie den Player.</li>
      <li class="video-cloud-only">Kopiere das <strong translate="No">Fortschrittlich</strong> Code und fügen Sie ihn in den Textkörper ein <code translate="No">plugin-dev.html</code> Seite.</li>
      <li class="player-only">Von dem <strong translate="No">Einbettungscode und URL&gt; Veröffentlichter Spieler</strong> Menü, kopieren Sie die <strong translate="No">Erweiterter Einbettungscode</strong> Code und fügen Sie ihn in den Textkörper ein <code translate="No">plugin-dev.html</code> Seite.</li>
      <li>Fügen Sie eine hinzu <code translate="No">id</code> Attribut auf die <code translate="No">&lt;video-js&gt;</code> Tag mit einem Wert von <code translate="No">player</code>.</li>
      <li>Stellen Sie sicher, dass Ihre HTML-Seite wie folgt aussieht <span class="player-only">(Brightcove Player-Kunden haben keine <code translate="No">data-video-id</code> Eigentum)</span>::
        <pre class="line-numbers">
<code class="language-html" translate="No">&lt;!doctype html&gt;
&lt;html&gt;

&lt;head&gt;
  &lt;meta charset="UTF-8"&gt;
  &lt;title&gt;Quick Start Plugin Dev&lt;/title&gt;
&lt;/head&gt;

&lt;body&gt;
  &lt;video-js id="player"
    data-video-id="4607746980001"
    data-account="1507807800001"
    data-player="Bk6LLayNQ"
    data-embed="default"
    class="video-js" controls&gt;&lt;/video&gt;
  &lt;script src="https://players.brightcove.net/1507807800001/Bk6LLayNQ_default/index.min.js"&gt;&lt;/script&gt;
&lt;/body&gt;

&lt;/html&gt;</code></pre>
      </li>
      <li>Durchsuchen Sie die Seite, um sicherzustellen, dass Ihr Video abgespielt wird.</li>
    </ol>
  </section>
  <section id="javascript" class="bcls-section">
    <h2>Erstellen Sie JavaScript</h2>
    <p>Als Nächstes erstellen und testen Sie den JavaScript-Code, um eine Überlagerung für das Video zu erstellen.</p>
    <ol class="bcls-tasklist">
      <li>Öffne die Datei <code translate="No">plugin-dev.js</code> und fügen Sie den folgenden JavaScript-Code ein:
        <pre class="line-numbers">
<code class="language-javascript" translate="No">videojs.registerPlugin('pluginDev', function() {
  var player = this,
  overlay = document.createElement('p');
  overlay.className = 'vjs-overlay';
  overlay.innerHTML = "Becoming a plugin developer";
  player.el().appendChild(overlay);
});</code></pre>
        <aside class="bcls-aside bcls-aside--information">Hinweis: Für Version 5.x und frühere Player müssen Sie <code translate="No">videojs.plugin()</code> Anstatt von <code translate="No">videojs.registerPlugin()</code></aside>
      </li>
      <li>Überprüfen Sie Ihr Verständnis für jede eingefügte Zeile:
        <ul>
          <li>Die Zeilen 1 und 7 sind die Standardsyntax zum Starten und Beenden eines neuen Player-Plugins. In diesem Fall lautet der Name des Plugins <code translate="No">pluginDev</code>.</li>
          <li>Zeile 2 ist eine Standardmethode, um den Spieler in den Griff zu bekommen. Dies ist erforderlich, um Methoden des Players aufzurufen, die Sie später ausführen werden.</li>
          <li>Zeile 3 erstellt ein Absatzelement im Dokument und weist es dem zu <code translate="No">overlay</code> Variable.</li>
          <li>Zeile 4 weist dem Overlay eine Klasse zu, die später in Verbindung mit CSS verwendet wird.</li>
          <li>Zeile 5 fügt dem Absatzelement Text hinzu.</li>
          <li>Zeile 6 verwendet die <code translate="No">el()</code> Methode des Players, um das DOM-Element des Players abzurufen, und hängt dann das neue Absatzelement an dieses DOM an.</li>
        </ul>
        <aside class="bcls-aside bcls-aside--information">Hinweis: Das Semikolon am Ende des JavaScript-Codes des Plugins (Zeile 7 oben) ist erforderlich.</aside>
      </li>
      <li>Fügen Sie in der HTML-Datei den folgenden Code direkt unter den vorhandenen <code translate="No">&lt;script&gt;</code> Tags hinzu. Dieser Code enthält die JavaScript-Datei und ruft dann die in diesem JavaScript definierte Methode auf.
        <pre class="line-numbers">
<code class="language-html" translate="No">&lt;script type="text/javascript" src="plugin-dev.js"&gt;&lt;/script&gt;
&lt;script&gt;videojs.getPlayer('myPlayerID').pluginDev();&lt;/script&gt;</code></pre>
      </li>
      <li>Durchsuchen Sie die HTML-Seite erneut und Sie werden sehen, dass sich nichts Sichtbares geändert hat. Das Problem ist, dass das Overlay vorhanden, aber nicht sichtbar ist. Sie werden dies später ändern.</li>
      <li>Verwenden Sie die Entwicklungstools Ihres Browsers, um zu überprüfen, ob das Overlay vorhanden ist. In dem <em>Elemente</em> Abschnitt, überprüfen Sie die <code translate="No">&lt;div&gt;</code> -Element, und Sie sehen das neu eingefügte Absatzelement, wie hier gezeigt:
        <figure class="bcls-figure"><img class="bcls-image" alt="quick-start-overlay-in-elements" src="/assets/images/coding-topics/sbs-plugin-quick-start-overlay-in-elements.png" /></figure>
      </li>
    </ol>
  </section>
  <section id="styletheplugin" class="bcls-section">
    <h2>Gestalte das Plugin</h2>
    <p>Sie wissen, dass das Overlay jetzt Teil des Players ist, aber nicht sichtbar. Als Nächstes gestalten Sie das Overlay so, dass es sichtbar wird. In diesem Abschnitt des Dokuments verwenden Sie ein sehr einfaches CSS, um sicherzustellen, dass die Überlagerung sichtbar ist.</p>
    <ol class="bcls-tasklist">
      <li>Öffne die Datei <code translate="No">plugin-dev.css</code> und fügen Sie die folgenden Stile ein:
        <pre class="line-numbers">
<code class="language-javascript" translate="No">.vjs-overlay {
    background-color: #333333;
    color: white;
    position: absolute;
    margin-top: 100px;
    margin-left: 20px;
}</code></pre>
      </li>
      <li>Fügen Sie in der HTML-Datei den folgenden Code direkt unter dem vorhandenen Code hinzu <code translate="No">&lt;link&gt;</code> Etikett. Dieser Code verweist auf Ihre neu erstellte CSS-Datei.
        <pre class="line-numbers">
<code class="language-html" translate="No">&lt;link href="plugin-dev.css" rel="stylesheet"&gt;</code></pre>
      </li>
      <li>Durchsuchen Sie die HTML-Seite und Sie werden sehen, dass das Overlay jetzt sichtbar ist.
        <figure class="bcls-figure"><img class="bcls-image" alt="quick-start-overlay-showing" src="/assets/images/coding-topics/sbs-plugin-quick-start-overlay-showing.png" /></figure>
      </li>
    </ol>
  </section>
  <section id="passdatatoplugin" class="bcls-section">
    <h2>Übergeben Sie Daten an das Plugin</h2>
    <p>Es ist häufig der Fall, dass Sie das Verhalten Ihres Plugins zur Initialisierungszeit ändern möchten. Dies ist möglich, indem Daten mit dem an das Plugin übergeben werden <code translate="No">options</code> Eigentum. In diesem Beispiel übergeben Sie den Text, der in der Überlagerung angezeigt werden soll.</p>
    <ol class="bcls-tasklist">
      <li>Öffnen Sie die HTML-Seite und ändern Sie die <code translate="No">&lt;script&gt;</code> Tags so eine Variable namens <code translate="No">options</code> wird erstellt und einem Objekt mit einem Schlüssel-Wert-Paar von zugewiesen <em>"overlayText":"This data is supplied at initialization"</em>. Übergeben Sie auch die <code translate="No">options</code> Variable als Argument beim Aufruf der <code translate="No">pluginDev()</code> Methode. Die Änderungen sollten wie folgt aussehen:
        <pre class="line-numbers">
<code class="language-html" translate="No">&lt;script type="text/javascript" src="plugin-dev-copy.js"&gt;&lt;/script&gt;
&lt;script type="text/javascript"&gt;
  <span class="bcls-highlight">var options = {"overlayText": "This data supplied at initialization"};</span>
&lt;/script&gt;
<span class="bcls-highlight">&lt;script&gt;videojs.getPlayer('myPlayerID').pluginDev(options);&lt;/script&gt;</span></code></pre>
      </li>
      <li>Sie müssen jetzt das JavaScript des Plugins ändern, um die an die Funktion übergebenen Daten zu verwenden. Zeile 110 zeigt die Funktion, die die Daten als Parameter akzeptiert, und Zeile 114 verwendet die Daten des Objekts.
        <pre class="line-numbers">
<code class="language-javascript" translate="No"><span class="bcls-highlight">videojs.registerPlugin('pluginDev', function(options) {</span>
  var player = this,
  overlay = document.createElement('p');
  overlay.className = 'vjs-overlay';
  <span class="bcls-highlight">overlay.innerHTML = options.overlayText;</span>
  player.el().appendChild(overlay);
});</code></pre>
      </li>
      <li>Durchsuchen Sie die HTML-Seite und Sie sehen den neuen Text, der verwendet wird.
        <figure class="bcls-figure"><img class="bcls-image" alt="quick-start-options-showing" src="/assets/images/coding-topics/sbs-plugin-quick-start-options-showing.png" /></figure>
      </li>
    </ol>
    <aside class="bcls-aside bcls-aside--warning">Hinweis: Der in diesem Abschnitt des Dokuments gezeigte Prozess, einschließlich und Aufrufen des Plugins über JavaScript, dient Entwicklungszwecken und ist für die Erstkonfiguration und das Testen nützlich, wird jedoch nicht als bewährte Methode angesehen. Die beste Vorgehensweise besteht darin, das Plugin als Teil Ihres Player-Konfigurationsstudios einzuschließen (wie im folgenden Abschnitt gezeigt), auch wenn Sie die embed_in_page-Implementierung verwenden.</aside>
  </section>
  <section id="deploytheplugin" class="bcls-section">
    <h2>Stellen Sie das Plugin bereit</h2>
    <p>Sobald das Plugin, CSS und der Player ordnungsgemäß funktionieren, müssen Sie die Assets für die ordnungsgemäße Verwendung bereitstellen. Hier ist eine Übersicht über die für die Bereitstellung erforderlichen Schritte:</p>
    <ul>
      <li>Kopieren / verschieben Sie die JavaScript- und CSS-Dateien an Ihren Remotestandort</li>
      <li>Verwenden Sie Studio, um die Plugin-Konfiguration zum Player hinzuzufügen.</li>
      <li>Erstellen Sie eine HTML-Datei zum Testen und verwenden Sie die Iframe-Implementierung für den Player</li>
      <li>Test auf Anomalien</li>
    </ul>
    <p>Sie werden nun durch diese Schritte geführt.</p>
    <ol class="bcls-tasklist">
      <li>Verschieben Sie die JavaScript- und CSS-Dateien Ihres Plugins an einen über das Internet zugänglichen Speicherort Ihrer Wahl. <aside class="bcls-aside bcls-aside--information">Wenn Sie möchten, können Sie die Dateien an dem unten im Beispiel gezeigten Speicherort verwenden. Sie könnten auch die <a href="https://apis.support.brightcove.com/delivery-system/">Liefersystem-API</a> um die Dateien in Ihrem eigenen Repository zu speichern.</aside>
      </li>
      <li>Erstellen Sie in dem Ordner, in dem Sie arbeiten, eine weitere Datei mit dem Namen <code translate="No">plugin-dev-iframe.html</code>.</li>
      <li>Verwenden Sie Studio's <strong translate="No">Spieler</strong> Modul, um den zuvor erstellten Player zu bearbeiten.</li>
      <li>Klicken <strong>Plugins</strong> im linken Navigationsmenü.</li>
      <li>Nächster Klick <strong>Plugin hinzufügen&gt; Benutzerdefiniertes Plugin</strong>.</li>
      <li>Geben Sie für den <strong></strong> Plugin-Namen ein <code translate="No">pluginDev</code>.</li>
      <li>Für die <strong>JavaScript</strong> URL, geben Sie (oder Ihre URL) ein:
        <pre>
 <code class="language-json" translate="No">https://solutions.brightcove.com/bcls/brightcove-player/plugins/plugin-dev.js</code></pre>
      </li>
      <li>Für die <strong>CSS</strong> URL, geben Sie (oder Ihre URL) ein:
        <pre>
 <code class="language-json" translate="No">https://solutions.brightcove.com/bcls/brightcove-player/plugins/plugin-dev.css</code></pre>
      </li>
      <li>Geben Sie die Konfigurationsoptionen im <strong>Optionen (JSON)</strong> Textfeld.
        <pre class="line-numbers">
 <code class="language-json" translate="No">{"overlayText": "This data is supplied at initialization"}</code></pre>
      </li>
      <li>Ihr Konfigurationsdialog sollte wie folgt aussehen:
        <figure class="bcls-figure"><img class="bcls-image" alt="Plugins dialog" src="/assets/images/coding-topics/sbs-plugin-plugins-dialog.png" /></figure>
      </li>
      <li>Klicken Sie auf <strong>Speichern</strong>.</li>
      <li>Um den Player zu veröffentlichen, klicken Sie auf <strong>Veröffentlichen &amp; Einbetten &gt; Änderungen veröffentlichen</strong>.</li>
      <li>Um das Dialogfeld „Öffnen“ zu schließen, klicken Sie auf <strong>Schließen</strong>.</li>
      <li class="video-cloud-only">In dem <strong translate="No">Medien</strong> Modul, wählen Sie ein Video aus und veröffentlichen Sie es mit dem neu aktualisierten und veröffentlichten Player.</li>
      <li class="video-cloud-only">Kopiere das <strong translate="No">Standard</strong> Code und fügen Sie ihn in den Textkörper ein <code translate="No">plugin-dev-iframe.html</code> Seite. Ihre Seite sollte wie folgt aussehen:</li>
      <li class="player-only">Von dem <strong translate="No">Einbettungscode und URL&gt; Veröffentlichter Spieler</strong> Menü, kopieren Sie die <strong translate="No">Standard-Einbettungscode</strong> Code und fügen Sie ihn in den Textkörper ein <code translate="No">plugin-dev-iframe.html</code> Seite. Ihre Seite sollte wie folgt aussehen:
        <pre class="line-numbers">
<code class="language-html" translate="No">&lt;!doctype html&gt;
&lt;html&gt;

&lt;head&gt;
  &lt;meta charset="UTF-8"&gt;
  &lt;title&gt;Quick Start Plugin Dev - iframe&lt;/title&gt;
&lt;/head&gt;

&lt;body&gt;
    &lt;iframe src='https://players.brightcove.net/1507807800001/Bk6LLayNQ_default/index.html' allowfullscreen webkitallowfullscreen mozallowfullscreen&gt;&lt;/iframe&gt;
&lt;/body&gt;

&lt;/html&gt;</code></pre>
      </li>
      <li>Durchsuchen Sie die HTML-Seite und Sie sollten sehen, dass das Plugin mit dem Iframe korrekt funktioniert.</li>
    </ol>
  </section>
  <section id="3rdparty" class="bcls-section">
    <h2>Bibliotheken von Drittanbietern</h2>
    <p>Wenn Ihr Plugin Abhängigkeiten von Bibliotheken von Drittanbietern aufweist, z. B. jQuery, müssen Sie diese auf eine der beiden folgenden Arten einschließen:</p>
    <ul>
      <li>Fügen Sie die Bibliothek als eine weitere JavaScript-Datei im hinzu <strong translate="No">Plugins</strong> Abschnitt von <strong translate="No">Spieler</strong> Modul in <span class="video-cloud-only">Video-Cloud</span> Studio.</li>
      <li>Fügen Sie mehrere Einträge im hinzu <strong translate="No">Skripte</strong> Abschnitt der Player-Konfiguration in einer curl-Anweisung.</li>
    </ul>
    <p>Stellen Sie sicher, dass Sie die Bibliotheken, von denen Ihr Plugin abhängig ist, in beiden oben aufgeführten Szenarien vor dem JavaScript-Eintrag Ihres Plugins platzieren. Die Reihenfolge der Einreise ist wichtig.</p>
  </section>
</article>