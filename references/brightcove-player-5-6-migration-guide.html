---
title: Migrationshandbuch für Brightcove Player 5 bis 6
parent: References
---

<article class="bcls-article">
  <h1>Brightcove Player 5 bis 6 Migrationshandbuch</h1>
  <summary>In diesem Thema erfahren Sie mehr über Probleme bei der Migration von Brightcove Player Version 5 auf Version 6.</summary>
  <section class="bcls-section">
    <h2 id="Overview">Überblick</h2>
    <p >Während abwärtskompatible Änderungen in Video.js 6 im Wiki <a href="//github.com/videojs/video.js/wiki/Video.js-6-Migration-Guide">Video.js dokumentiert sind</a>, kann dieses Dokument für zusätzliche Migrationsrichtlinien verwendet werden, die für den Brightcove Player 6 spezifisch sind und nicht für die Migration von Video.js 5 auf 6 gelten.</p>
    <p >Ein wesentlicher Teil des Brightcove Player 5 war das Kompatibilitäts-Plugin, ausgelöst durch den Konfigurationswert der Spieler:</p>
    <pre class="line-numbers">
<code class="language-javascript" translate="No">"compatibility": true</code></pre>
    <p >Diese Konfiguration ist standardmäßig für 5.x-Player aktiviert. Seine Wirkung besteht darin, ein Plugin einzubeziehen, das die Video.js 4-API „ausschimmen“ wird, wodurch mehr Kunden-Plugins und Integrationen beim automatischen Update auf Brightcove Player 5 nahtlos funktionieren konnten.</p>
    <p >Ab Brightcove Player 6 ist dieser Shim nicht mehr Teil des Spielers. Jeder, der von 5 auf 6 aktualisieren möchte, sollte sicherstellen, dass sein Code mit der Video.js 6-API kompatibel ist, indem er der oben genannten Dokumentation im Wiki <a href="//github.com/videojs/video.js/wiki/Video.js-6-Migration-Guide">Video.js folgt</a>. In den folgenden Abschnitten werden Änderungen dokumentiert, die Sie bei der Aktualisierung berücksichtigen müssen.</p>
  </section>
  <section class="bcls-section">
    <h2 id="player-tech">player.tech</h2>
    <p >In Version 6 von Brightcove Player <code translate="No">player.tech</code> ist eine Funktion, die die aktuelle Wiedergabetechnologie zurückgibt, keine Eigenschaft des Players wie in Version 5. Der Shim hat einige Eigenschaften vom Tech-Objekt auf die Tech-Funktion abgebildet, so dass der Code, der erwartet, das Tech-Objekt <code translate="No">player.tech</code> zu sein, keine Fehler auslösen würde.</p>
  </section>
  <section class="bcls-section">
    <h2 id="Player_sizing">Größe der Spieler</h2>
    <p >In Video.js 4 wurde der Player über JavaScript dimensioniert. Video.js 5 führte ein neues CSS-basiertes Größenschema ein, das einige Probleme mit den Spielerdimensionen verursachte. Die Shim rollte diese Änderungen zurück, so dass sie sich mehr wie in Version 4 verhielten.</p>
    <p >In der Praxis werden bei Verwendung von Brightcove Player v6 das <code translate="No">height</code> und <code translate="No">width</code> auf dem Video-Tag <strong>nur in Pixeln gemessen</strong>. In der Tat geben Sie überhaupt keine Einheiten für die <code translate="No">width</code> Attribute <code translate="No">height</code> und ein:</p>
    <pre class="line-numbers">
<code class="language-html" translate="No">width="480"</code></pre>
    <p >Sie könnten die Breite und Höhe</strong> in Version 5 auf <strong>100% einstellen, dies funktioniert in Version 6 nicht mehr. Sie können dies mit CSS auf zwei verschiedene Arten erreichen:</p>
    <ul>
      <li>Verwenden eines <code translate="No">style</code> Attributs im <code translate="No">video</code> Tag.
        <pre class="line-numbers">
<code class="language-html" translate="No">&lt;video-js data-video-id="5622718636001"
  data-account="1507807800001"
  data-player="default"
  data-embed="default"
  data-application-id
  class="video-js"
  controls
  <span class="bcls-highlight">style="width: 100%;height: 100%"</span>&gt;&lt;/video-js&gt;
&lt;script src="https://players.brightcove.net/1507807800001/default_default/index.min.js"&gt;&lt;/script&gt;</code></pre>
      </li>
      <li>Verwenden eines <code translate="No">style</code> Tags.
        <pre class="line-numbers">
  <code class="language-html" translate="No">...
  <span class="bcls-highlight">&lt;style&gt;
      .video-js {
        height: 100%;
        width: 100%;
      }
  &lt;/style&gt;</span>
  ...
  &lt;video-js data-account="1752604059001"
    data-player="H1xW7NWcz"
    data-embed="default"
    data-application-id
    class="video-js"
    controls&gt;&lt;/video-js&gt;
  &lt;script src="https://players.brightcove.net/1752604059001/H1xW7NWcz_default/index.min.js"&gt;&lt;/script&gt;</code></pre>
      </li>
    </ul>
    <aside class="bcls-aside bcls-aside--tip">Wenn Sie allein Prozentsätze verwenden und sich der Spieler nicht in einem Container mit einer festgelegten Höhe befindet, ist es möglich, dass Sie den Spieler nicht sehen, da die Höhe Null ist. Stellen Sie sicher, dass der übergeordnete Container des Players eine Höhe festgelegt hat.</aside>
  </section>
  <section class="bcls-section">
    <h2 id="Component_constructors">Komponenten-Konstruktoren</h2>
    <p >In Video.js 4 und Version 5 über die Shim waren Komponentenkonstruktoren (wie <code translate="No">Player</code> und <code translate="No">ControlBar</code>) als Eigenschaften des <code translate="No">videojs</code> Funktion:</p>
    <pre class="line-numbers">
<code class="language-javascript" translate="No"> videojs.${ComponentName}</code></pre>
    <p >Dies ist nicht mehr der Fall. Stattdessen sollte die <code translate="No">videojs.getComponent</code> Funktion verwendet werden:</p>
    <pre class="line-numbers">
<code class="language-javascript" translate="No">var ControlBar = videojs.getComponent('ControlBar');</code></pre>
  </section>
  <section class="bcls-section">
    <h2 id="SliderHandle_component">SliderHandle-Komponente</h2>
    <p >Diese Komponente war nicht im 5.x-Player, sondern wurde über die Shim für diejenigen Benutzer wiederhergestellt, die sie erweiterten. Es ist jetzt vollständig entfernt.</p>
  </section>
  <section class="bcls-section">
    <h2 id="Properties/Methods_and_alternatives">Eigenschaften/Methoden und Alternativen</h2>
    <p >Im Folgenden finden Sie eine Reihe von Video.js Eigenschaften von 4.x, die durch die Kompatibilitäts-Shim nach 5.x kopiert wurden. Sie sind in 6.x nicht mehr vorhanden, aber Alternativen werden geliefert:</p>
    <table class="bcls-table">
      <thead class="bcls-table__head">
        <tr>
          <th>Entfernt</th>
          <th>Alternative</th>
        </tr>
      </thead>
      <tbody class="bcls-table__body">
        <tr>
          <td>vjs</td>
          <td>Videojs</td>
        </tr>
        <tr>
          <td>Videojs.json</td>
          <td>JSON</td>
        </tr>
        <tr>
          <td>Videojs.user_Agent</td>
          <td>window.navigator.UserAgent</td>
        </tr>
        <tr>
          <td>Videojs.EventEmitter</td>
          <td>Videojs.EventTarget</td>
        </tr>
        <tr>
          <td>Videojs.obj.IsArray</td>
          <td>Array.IsArray</td>
        </tr>
        <tr>
          <td>videojs.round (Zahl, Ziffern)</td>
          <td>Zahl (num.ToFixed (Ziffern))</td>
        </tr>
        <tr>
          <td>videojs.trim (str)</td>
          <td>str.trim ()</td>
        </tr>
        <tr>
          <td>Videojs.util.mergeOptions</td>
          <td>Videojs.mergeOptions</td>
        </tr>
      </tbody>
    </table>
  </section>
  <section class="bcls-section">
    <h2 id="Creating_a_custom_plugin">Erstellen eines benutzerdefinierten Plugins</h2>
    <p >In Version 5 von Brightcove Player, als Sie ein benutzerdefiniertes Plugin erstellt haben, verwendete die erste Zeile des Plugins die <code translate="No">videojs.plugin()</code> Methode. Zum Beispiel:</p>
    <pre class="line-numbers">
<code class="language-javascript" translate="No">videojs.plugin('scrollIntoView', function() {
  var myPlayer = this,
    isAdPlaying = false;
  ...</code></pre>
    <p >Sie sollten jetzt stattdessen die <code translate="No">videojs.registerPlugin()</code> Methode verwenden. Zum Beispiel:</p>
    <pre class="line-numbers">
<code class="language-javascript" translate="No">videojs.registerPlugin('scrollIntoView', function() {
  var myPlayer = this,
    isAdPlaying = false;</code></pre>
    <p >Obwohl in Version 6 veraltet <code translate="No">videojs.plugin()</code> ist, wird es bei Verwendung kein Fehler auftreten, aber Sie sehen eine Warnung in der Konsole. Sie können nicht <code translate="No">videojs.registerPlugin()</code> mit Spielern der Version 5 verwenden.</p>
    <aside class="bcls-aside bcls-aside--tip">Wenn Sie feststellen, dass Sie ein Plugin mit beiden Versionen des Players verwenden müssen, können Sie diese Technik verwenden, um Video.js 5/6 Cross-Kompatibilität bereitzustellen:
      <pre class="line-numbers">
<code class="language-javascript" translate="No">var registerPlugin =   videojs.registerPlugin || videojs.plugin;
registerPlugin('pluginName', function(){
  ...
});</code></pre>
    </aside>
  </section>
  <section class="bcls-section">
    <h2 id="IMA3_plugin">IMA3-Plugin</h2>
    <p>Nach dem Upgrade auf Brightcove Player 6 müssen Sie das IMA3-Plugin mit Studio manuell neu installieren. Sehen Sie sich <a href="/advertising/step-step-implementing-advertising.html">Schritt für Schritt an: Implementieren</a> eines Werbedokuments für Details.</p>
    <p>Wenn Sie mit der <a href="https://apis.support.brightcove.com/player-management/">Player Management API vertraut sind</a>, können Sie das IMA3-Plugin auch mit curl aktualisieren. Insbesondere ist hier die API-Referenz auf Player <a href="https://apis.support.brightcove.com/player-management/references/reference.html#operation/UpdatePlayer">aktualisieren</a>. Beachten Sie, dass dies im selben&nbsp;Player Management-API-Aufruf erfolgen kann, den Sie zum tatsächlichen Upgrade des Players verwenden.</p>
  </section>
  <section class="bcls-section">
    <h2 id="Flash_HLS_and_crossdomain.xml">Flash HLS und crossdomain.xml</h2>
    <p >In einigen Sonderfällen, wenn Sie einen Brightcove Player Release 6.13.0 und höher verwenden, müssen Sie eine</strong> Datei <strong>crossdomain.xml verwenden. Dies ist erforderlich, wenn:</p>
    <ul>
      <li>Sie verwenden Ihre eigenen CDN (s).</li>
      <li>Sie verwenden Brightcove Player so, dass er Flash verwenden muss. Informationen dazu finden Sie im</a> Dokument <a href="/playback/determining-which-rendition-will-play.html">Bestimmen, welche Formatvariante abgespielt wird, wann dies geschehen könnte.</li>
    </ul>
    <p >Wenn diese Kriterien erfüllt sind, müssen Sie eine</strong> Datei <strong>crossdomain.xml in der Root-Domäne verwenden, von der aus das Medium bereitgestellt wird. Zum Beispiel, wenn Sie Inhalte aus</p>
    <pre class="line-numbers">
<code class="language-html" translate="No">https://www.domain.com/media/video.m3u8</code></pre>
    <p >dann muss eine</strong> Datei <strong>crossdomain.xml vorhanden sein</p>
    <pre class="line-numbers">
<code class="language-html" translate="No">https://www.domain.com/crossdomain.xml</code></pre>
    <p >Da der Player swf gehostet wird <code translate="No">players.brightcove.net</code>, wird empfohlen, sie zu verwenden <code translate="No">*.brightcove.net</code>. Ein Beispiel <strong>crossdomain.xml</strong> sieht wie folgt aus:</p>
    <pre class="line-numbers">
<code class="language-xml" translate="No">&lt;?xml version="1.0"?&gt;
&lt;cross-domain-policy&gt;
&lt;allow-access-from domain="*.brightcove.net" /&gt;
&lt;/cross-domain-policy&gt;</code></pre>
    <p >Sie müssen die richtige Domain (n) angeben. Weitere Informationen finden Sie unter <a href="https://code.tutsplus.com/tutorials/quick-tip-a-guide-to-cross-domain-policy-files--active-3832">Quick Tip: Ein Leitfaden für domänenübergreifende Richtliniendateien</a></p>
    <h3>Arbeiten mit HTTPS</h3>
    <p >Wenn Sie ein HTTPS-Asset von einer HTTP-Seite oder umgekehrt laden, müssen Sie das <code translate="No">secure</code> Attribut mit einem Wert <code translate="No">false</code> wie folgt einschließen:</p>
    <pre class="line-numbers">
<code class="language-xml" translate="No">&lt;?xml version="1.0"?&gt;
&lt;cross-domain-policy&gt;
&lt;allow-access-from domain="*.brightcove.net" secure="false"/&gt;
&lt;/cross-domain-policy&gt;</code></pre>
  </section>
</article>