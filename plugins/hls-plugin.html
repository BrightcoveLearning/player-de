---
title: 'HLS-Plugin'
description: Das HLS-Plugin ist ein Brightcove Player-Plugin, das sich auf die Media Source Extensions (MSE) von W3C stützt, um HLS-Videos (HTTP Live Streaming) auf Plattformen abzuspielen, die es nicht nativ unterstützen. Das HLS-Plugin ist automatisch im Player enthalten.
parent: Plugins
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
    <summary>{{ page.description }}</summary>

  <section class="bcls-section">
    <h2 id="HLS_plugin_basics">Grundlagen des HLS-Plugins</h2>
    <p>Die folgenden Punkte helfen Ihnen, das HLS-Plugin zu verstehen und zu verwenden:</p>
    <ul>
      <li>Wie im ersten Satz dieses Dokuments erwähnt, stützt sich das Plugin auf die Media Source Extensions (MSE) von W3C. MSE ist eine W3C-Spezifikation, mit der JavaScript Byte-Streams an Mediencodecs in Webbrowsern senden kann, die HTML5-Videos unterstützen. Dies ermöglicht unter anderem die Implementierung von clientseitigem Vorabruf- und Puffercode für das vollständige Streaming von Medien in JavaScript.</li>
      <li>Mit dem Plugin können Sie dann HLS (m3u8) -Videoinhalte im Player verwenden. Sie können beispielsweise einen Player mit dieser Konfiguration für den Medienbereich erstellen:
        <pre class="line-numbers">
<code class="language-json" translate="No">"media":{
    "sources": [{
        "src": "http://example.com/video.m3u8",
        "type": "application/x-mpegURL"
    }]
}</code></pre>
      </li>
      <li>Cross-Origin Resource Sharing (CORS) kann bei der Verwendung von HLS ein Problem sein. Weitere Informationen zur Verwendung von CORS finden Sie in der <a href="https://general.support.brightcove.com/developer/concepts-cors.html">CORS-Leitfaden</a>.</li>
      <li>HLS wird in früheren IE-Versionen als IE11 nicht unterstützt.</li>
    </ul>
  </section>
  <section class="bcls-section">
    <h2 id="overview">Überblick</h2>
    <p><a href="https://developer.apple.com/streaming/">HTTP Live Streaming</a> (HLS) ist dank seiner nativen Unterstützung für iOS und Android zu einem De-facto-Standard für das Streamen von Videos auf Mobilgeräten geworden. Es gibt jedoch eine Reihe plattformunabhängiger Gründe, das Format zu empfehlen:</p>
    <ul>
      <li>Unterstützt (clientgesteuerte) adaptive Bitratenauswahl</li>
      <li>Wird über Standard-HTTP-Ports geliefert</li>
      <li>Einfaches, textbasiertes Manifestformat</li>
      <li>Keine proprietären Streaming-Server erforderlich</li>
    </ul>
    <p>Leider fehlt allen wichtigen Desktop-Browsern außer Safari die HLS-Unterstützung. Dies führt dazu, dass Webentwickler in der unglücklichen Lage sind, alternative Wiedergaben desselben Videos beizubehalten und möglicherweise vollständig auf HTML-basierte Videos verzichten zu müssen, um das beste Desktop-Anzeigeerlebnis zu erzielen.</p>
    <p>Dieses Plugin behebt die Situation, indem es eine Polyfüllung für HLS in Browsern bereitstellt, die Media Source Extensions oder Flash-Unterstützung bieten. Sie können einen einzelnen HLS-Stream bereitstellen, Code für die regulären HTML5-Video-APIs verwenden und ein schnelles, qualitativ hochwertiges Videoerlebnis in allen großen Webgerätekategorien erstellen.</p>
    <p>Derzeit gibt es zu dieser Zeit <em>nein</em> Unterstützung für:</p>
    <ul>
      <li>Alternative Audio- und Videospuren</li>
      <!--                        <li>Subtitles</li>-->
      <li>Codecs segmentieren <em>außer</em> H.264 mit AAC-Audio</li>
      <!--                        <li>Live streams</li>-->
      <li>Internet Explorer &lt;11</li>
    </ul>
    <aside class="bcls-aside bcls-aside--information">Hinweis: Für maximale Kompatibilität mit allen MSE-Implementierungen empfiehlt Brightcove die Einstellung <strong>Audio Bitrate</strong> bis nicht weniger als <strong>48</strong> in Ihren Aufnahmeprofilen.</aside>
  </section>
  <section class="bcls-section">
    <h2 id="options">Optionen</h2>
    <p>Es gibt verschiedene Optionen, mit denen Sie das HLS-Plugin konfigurieren können.</p>
    <h3>withCredentials</h3>
    <p>Typ: <code translate="No">boolean</code></p>
    <p>Kann verwendet werden als:</p>
    <ul>
      <li>eine Quelloption</li>
      <li>eine Initialisierungsoption</li>
    </ul>
    <p>Wenn der <code translate="No">withCredentials</code> Eigenschaft ist auf gesetzt <code translate="No">true</code> hätten alle XHR-Anfragen für Manifeste und Segmente <code translate="No">withCredentials</code> einstellen <code translate="No">true</code> auch. Dies ermöglicht das Speichern und Weitergeben von Cookies vom Server, auf dem die Manifeste und Segmente leben. Dies hat einige Auswirkungen auf CORS, da bei der Einstellung die <code translate="No">Access-Control-Allow-Origin</code> Header kann nicht auf gesetzt werden <code translate="No">*</code> Außerdem erfordern die Antwortheader das Hinzufügen von <code translate="No">Access-Control-Allow-Credentials</code> Header, der auf gesetzt ist <code translate="No">true</code>. Siehe die <a href="http://www.html5rocks.com/en/tutorials/cors/">HTML5Rocks Artikel</a> Für mehr Information.</p>
    <aside class="bcls-aside bcls-aside--warning">Bekanntes Problem: <code translate="No">withCredentials</code> funktioniert NICHT mit Safari auf dem Desktop oder Geräten.</aside>
    <p>Sie können das Plugin mithilfe der <a href="https://apis.support.brightcove.com/player-management/getting-started/overview-player-management-api.html">Player Management-API</a> mithilfe einer <code translate="No">PATCH</code> HTTP-Methode konfigurieren, wie hier gezeigt:</p>
    <pre class="line-numbers">
<code class="language-json" translate="No">curl \
    --header "Content-Type: application/json" \
    --user YOUR_EMAIL \
    --request PATCH \
    --data '{ "hls": { "withCredentials": true } }' \
https://players.api.brightcove.com/v2/accounts/YOUR_ACCOUNT_ID/players/YOUR_PLAYER_ID/configuration</code></pre>
    <p>Sie können auch die einstellen <code translate="No">withCredentials</code> Option auf Quellenbasis und nicht auf Spielerbasis, wie gerade gezeigt. Zum Beispiel können Sie beim Einstellen der Quelle einschließen <code translate="No">withCredentials</code> , wie hier gezeigt:</p>
    <pre class="line-numbers">
<code class="language-json" translate="No">curl \
  --header "Content-Type: application/json" \
  --user $EMAIL \
  --request POST \
  --data '{
      "name": "MySamplePlayer",
      "configuration": {
        "media": {
          "sources": [{
            "src":"http://solutions.brightcove.com/bcls/assets/videos/Tiger.mp4",
            "type":"video/mp4",
            "withCredentials": true
          }]
        }
      }
    }' \
https://players.api.brightcove.com/v2/accounts/$ACCOUNT_ID/players</code></pre>
    <h3 id="Runtime_configuration">Laufzeitkonfiguration</h3>
    <p>Sie können konfigurieren <code translate="No">withCredentials</code> zur Laufzeit. Sie sehen unten zwei Implementierungen:</p>
    <ul>
      <li>Verwenden von <code translate="No">player.hls.xhr.beforeRequest</code></li>
      <li>Verwenden von <code translate="No">player.src()</code></li>
    </ul>
    <p>Im folgenden Code verwenden Sie die <code translate="No">player.hls.xhr.beforeRequest</code> um eine Funktion zuzuweisen, die mit einem Objekt aufgerufen wird, das Optionen enthält, die zum Erstellen der verwendet werden <code translate="No">xhr</code> Anfrage. In diesem Beispiel sehen Sie nur <code translate="No">withCredentials</code> wird konfiguriert.</p>
    <pre class="line-numbers">
<code class="language-javascript" translate="No">if (videojs.Hls) {
  videojs.Hls.xhr.beforeRequest = function (options) {
    options.withCredentials = true;
  }
}</code></pre>
    <p>Sie können auch die einstellen <code translate="No">withCredentials</code> Optionen beim Einstellen der Videoquelle. Sie verwenden die <code translate="No">player.src()</code> Methode, wie hier gezeigt:</p>
    <aside class="bcls-aside bcls-aside--warning">Es gibt ein derzeit bekanntes Problem, dass diese Konfigurationsoption nicht funktioniert, wenn Firefox mit IMA3-Anzeigen verwendet wird. Sie können verwenden <code translate="No">player.hls.xhr.beforeRequest</code> um dieses Problem zu vermeiden.</aside>
    <pre class="line-numbers">
<code class="language-javascript" translate="No">player.src({
  src: 'https://adomain.com/bipbop_16x9_variant.m3u8',
  type: 'application/x-mpegURL',
  withCredentials: true
});</code></pre>
    <!-- <h3>useCueTags</h3>

                              <p>Type: <code translate="No">boolean</code></p>

                              <p>Can be used as:</p>
                              <ul>
                                  <li>an initialization option</li>
                              </ul>


                              <p>When the <code translate="No">useCueTags</code> property is set to <code translate="No">true</code>, a text track is created with label 'ad-cues' and kind 'metadata'. The track is then added to player.textTracks(). Changes in active cue may be tracked by following the <a href="https://docs.brightcove.com/brightcove-player/current-release/TextTrack.html">cue points API for text tracks</a>. For example:</p>

                              <pre class="line-numbers"><code class="language-javascript" translate="No">let textTracks = player.textTracks();
                              let cuesTrack;

                              for (let i = 0; i &lt; textTracks.length; i++) {
                                if (textTracks[i].label === 'ad-cues') {
                                  cuesTrack = textTracks[i];
                                }
                              }

                              cuesTrack.addEventListener('cuechange', function() {
                                let activeCues = cuesTrack.activeCues;

                                for (let i = 0; i &lt; activeCues.length; i++) {
                                  let activeCue = activeCues[i];

                                  console.log('Cue runs from ' + activeCue.startTime +
                                              ' to ' + activeCue.endTime);
                                }
                              });</code></pre>

                              <p>You can configure the plugin using the <a href="https://apis.support.brightcove.com/player-management/getting-started/overview-player-management-api.html">Player Management API</a> using an HTTP <code translate="No">PATCH</code> method, as shown here:</p>

                              <pre class="line-numbers"><code class="language-json" translate="No">curl \
                                  --header "Content-Type: application/json" \
                                  --user YOUR_EMAIL \
                                  --request PATCH \
                                  --data '{ "hls": { "useCueTags": true } }' \
                              https://players.api.brightcove.com/v2/accounts/YOUR_ACCOUNT_ID/players/YOUR_PLAYER_ID/configuration</code></pre>

                              <h3>overrideNative</h3>

                              <p>Type: <code translate="No">boolean</code></p>

                              <p>Can be used as:</p>
                              <ul>
                                  <li>an initialization option</li>
                              </ul>

                              <p>Try to use <code translate="No">videojs-contrib-hls</code> even on platforms that provide some level of HLS support natively. There are a number of platforms that technically play back HLS content but aren't very reliable or are missing features like CEA-608 captions support. When <code translate="No">overrideNative</code> is <code translate="No">true</code>, if the platform supports Media Source Extensions <code translate="No">videojs-contrib-hls</code> will take over HLS playback to provide a more consistent experience.</p>

                              <aside class="bcls-aside bcls-aside--information">If you use this option, you must also set <code translate="No">videojs.options.html5.nativeAudioTracks</code> and <code translate="No">videojs.options.html5.nativeVideoTracks</code> to <code translate="No">false</code>. <code translate="No">videojs-contrib-hls</code> relies on audio and video tracks to play streams with alternate audio and requires additional capabilities only supported by non-native tracks in video.js.</aside>


                              <p>You can configure the plugin using the <a href="https://apis.support.brightcove.com/player-management/getting-started/overview-player-management-api.html">Player Management API</a> using an HTTP <code translate="No">PATCH</code> method, as shown here:</p>

                              <pre class="line-numbers"><code class="language-json" translate="No">curl \
                                  --header "Content-Type: application/json" \
                                  --user YOUR_EMAIL \
                                  --request PATCH \
                                  --data '{ "hls": { "overrideNative": true } }' \
                              https://players.api.brightcove.com/v2/accounts/YOUR_ACCOUNT_ID/players/YOUR_PLAYER_ID/configuration</code></pre>

                              <h3>blacklistDuration</h3>

                              <p>Type: <code translate="No">number</code></p>

                              <p>Can be used as:</p>
                              <ul>
                                  <li>an initialization option</li>
                              </ul>

                              <p>When the <code translate="No">blacklistDuration</code> property is set to a time duration in seconds, if a playlist is blacklisted, it will be blacklisted for a period of that customized duration. This enables the blacklist duration to be configured by the user.</p>

                              <p>You can configure the plugin using the <a href="https://apis.support.brightcove.com/player-management/getting-started/overview-player-management-api.html">Player Management API</a> using an HTTP <code translate="No">PATCH</code> method, as shown here:</p>

                              <pre class="line-numbers"><code class="language-json" translate="No">curl \
                                  --header "Content-Type: application/json" \
                                  --user YOUR_EMAIL \
                                  --request PATCH \
                                  --data '{ "hls": { "blacklistDuration": 10 } }' \
                              https://players.api.brightcove.com/v2/accounts/YOUR_ACCOUNT_ID/players/YOUR_PLAYER_ID/configuration</code></pre>

                              <h3>bandwidth</h3>

                              <p>Type: <code translate="No">number</code></p>

                              <p>Can be used as:</p>
                              <ul>
                                  <li>an initialization option</li>
                              </ul>

                              <p>When the <code translate="No">bandwidth</code> property is set (bits per second), it will be used in the calculation for initial playlist selection, before more bandwidth information is seen by the player.</p>

                              <p>You can configure the plugin using the <a href="https://apis.support.brightcove.com/player-management/getting-started/overview-player-management-api.html">Player Management API</a> using an HTTP <code translate="No">PATCH</code> method, as shown here:</p>

                              <pre class="line-numbers"><code class="language-json" translate="No">curl \
                                  --header "Content-Type: application/json" \
                                  --user YOUR_EMAIL \
                                  --request PATCH \
                                  --data '{ "hls": { "bandwidth": 3000 } }' \
                              https://players.api.brightcove.com/v2/accounts/YOUR_ACCOUNT_ID/players/YOUR_PLAYER_ID/configuration</code></pre> -->
    
    <h3>enableLowInitialPlaylist</h3>
    <p>Typ: <code translate="No">boolean</code></p>
    <p>Standard: <code translate="No">undefined</code> , außer wenn ein Browser auf einem Android-Gerät angezeigt wird; dann ist es eingestellt auf <code translate="No">true</code>. Sie können dieses Verhalten für Android-Geräte ändern, indem Sie den Player wie unten gezeigt mit dem Wert "patchen" <code translate="No">false</code>.</p>
    <p>Kann verwendet werden als:</p>
    <ul>
      <li>eine Initialisierungsoption</li>
    </ul>
    <p>Wann <code translate="No">enableLowInitialPlaylist</code> Wenn true festgelegt ist, wird zunächst die Wiedergabeliste mit der niedrigsten Bitrate ausgewählt. Dies hilft, die Startzeit der Wiedergabe zu verkürzen.</p>
    <p>Sie können das Plugin mithilfe der <a href="https://apis.support.brightcove.com/player-management/getting-started/overview-player-management-api.html">Player Management-API</a> mithilfe einer <code translate="No">PATCH</code> HTTP-Methode konfigurieren, wie hier gezeigt:</p>
    <pre class="line-numbers">
<code class="language-json" translate="No">curl \
    --header "Content-Type: application/json" \
    --user YOUR_EMAIL \
    --request PATCH \
    --data '{ "hls": { "enableLowInitialPlaylist": true } }' \
https://players.api.brightcove.com/v2/accounts/YOUR_ACCOUNT_ID/players/YOUR_PLAYER_ID/configuration</code></pre>
  </section>
  <section class="bcls-section">
    <h2 id="runtimeproperties">Laufzeit-Eigenschaften</h2>
    <p>Im Allgemeinen können Sie auf folgende Weise auf das HLS-Objekt zugreifen:</p>
    <ul>
      <li>Brightcove Player v5: <code translate="No">player.hls</code></li>
      <li>Brightcove-Player v6: <code translate="No">player.tech().hls</code> <aside class="bcls-aside bcls-aside--information">Note that calling <code translate="No">player.tech()</code> will log a warning to the console as it is only recommended for advanced users. Du kannst passieren <code translate="No">player.tech(true)</code> um die Warnung zu unterdrücken.</aside>
      </li>
    </ul>
    <h4>player.hls.playlists.master</h4>
    <p>Typ: <code translate="No">object</code></p>
    <p>Ein Objekt, das die analysierte Master-Wiedergabeliste darstellt. Wenn eine Medienwiedergabeliste direkt geladen wird, wird eine Hauptwiedergabeliste mit nur einem Eintrag erstellt.</p>
    <h4>player.hls.playlists.media</h4>
    <p>Typ: <code translate="No">function</code></p>
    <p>Eine Funktion, mit der die aktuell aktive Medienwiedergabeliste abgerufen oder geändert werden kann. Auf die Wiedergabeliste für aktive Medien wird verwiesen, wenn zusätzliche Videodaten heruntergeladen werden müssen. Wenn Sie diese Funktion ohne Argumente aufrufen, wird das analysierte Wiedergabelistenobjekt für die aktive Medienwiedergabeliste zurückgegeben. Wenn Sie diese Funktion mit einem Wiedergabelistenobjekt aus der Master-Wiedergabeliste oder einer in der Master-Wiedergabeliste angegebenen URI-Zeichenfolge aufrufen, wird die angegebene Medien-Wiedergabeliste asynchron geladen. Sobald es abgerufen wurde, wird es zur aktiven Medienwiedergabeliste.</p>
    <h4>player.hls.bandwidth</h4>
    <p>Typ: <code translate="No">number</code></p>
    <p>Die Anzahl der im letzten Segment-Download pro Sekunde heruntergeladenen Bits. Dieser Wert wird von der Standardimplementierung von verwendet <code translate="No">selectPlaylist</code> um eine geeignete Bitrate für die Wiedergabe auszuwählen. Bevor das erste Videosegment heruntergeladen wurde, ist es schwierig, die Bandbreite genau abzuschätzen. Die HLS-Technologie verwendet standardmäßig eine Heuristik, die auf den Downloadzeiten der Wiedergabeliste basiert, um diese Schätzung durchzuführen. Wenn Sie über eine genauere Quelle für Bandbreiteninformationen verfügen, können Sie diesen Wert überschreiben, sobald die HLS-Technologie geladen wurde, um eine erste Bandbreitenschätzung bereitzustellen.</p>
    <h4>player.hls.stats.bytesReceived</h4>
    <p>Typ: <code translate="No">number</code></p>
    <p>Die Gesamtzahl der von der HLS-Technologie heruntergeladenen Inhaltsbytes.</p>
    <h4 id="selectplaylist">player.hls.selectPlaylist</h4>
    <p>Typ: <code translate="No">function</code></p>
    <p>Eine Funktion, die das Medienwiedergabelistenobjekt zurückgibt, mit dem das nächste Segment heruntergeladen werden soll. Es wird vom Plugin unmittelbar vor dem Herunterladen eines neuen Segments aufgerufen. Sie können diese Funktion überschreiben, um Ihre adaptive Streaming-Logik bereitzustellen. Sie müssen jedoch sicherstellen, dass Sie ein gültiges Objekt für die Medienwiedergabeliste zurückgeben, das in vorhanden ist <code translate="No">player.hls.playlists.master</code>.</p>
  </section>
  <section class="bcls-section">
    <h2 id="events">Ereignisse</h2>
    <h4>loadedmetadaten</h4>
    <p>Wird ausgelöst, nachdem die erste Medienwiedergabeliste für einen Stream heruntergeladen wurde.</p>
    <h4>geladene Wiedergabeliste</h4>
    <p>Wird sofort ausgelöst, nachdem eine neue Master- oder Medien-Wiedergabeliste heruntergeladen wurde. Standardmäßig lädt das Plugin Wiedergabelisten nur nach Bedarf herunter.</p>
    <h4>mediachange</h4>
    <p>Wird ausgelöst, wenn eine neue Wiedergabeliste zur aktiven Medienwiedergabeliste wird. Beachten Sie, dass die tatsächliche Änderung der Renderqualität nicht gleichzeitig mit diesem Ereignis auftritt. Zuerst muss ein neues Segment angefordert und der vorhandene Puffer aufgebraucht werden.</p>
  </section>
  <section class="bcls-section">
    <h2 id="Reload_source_on_error">Quelle bei Fehler neu laden</h2>
    <p>Wenn Sie das HLS-Plugin verwenden, können Sie eine Methode aufrufen, die die Quelle zum aktuellen Zeitpunkt neu lädt, wenn der Player einen Fehler ausgibt. Um diese Funktion zu aktivieren, müssen Sie die <code translate="No">reloadSourceOnError()</code> Methode. Das folgende kurze Video zeigt die Methode in Aktion. Der gesamte im Video gezeigte Code wird später in diesem Abschnitt beschrieben.</p>
    <aside class="bcls-aside bcls-aside--information">Hinweis: Obwohl ursprünglich für Live-Streaming gedacht, <code translate="No">reloadSourceOnError()</code> funktioniert auch mit Video on Demand, wie im Video gezeigt.</aside>
    <iframe src="https://players.brightcove.net/20318290001/E16-WGGOe_default/index.html?videoId=5246169715001" allowfullscreen="" webkitallowfullscreen="" mozallowfullscreen="" width="640" height="380"></iframe>
    <p>Die Syntax für die <code translate="No">reloadSourceOnError()</code> Methode ist wie folgt:</p>
    <pre class="line-numbers">
<code class="language-javascript" translate="No">reloadSourceOnError(optionsObject)</code></pre>
    <p>Die Wahl <code translate="No">optionsObject</code> hat folgende Eigenschaften:</p>
    <table class="bcls-table">
      <thead class="bcls-table__head">
        <tr>
          <th>Eigentum</th>
          <th>Datentyp</th>
          <td>Standardwert</td>
          <th>Beschreibung</th>
        </tr>
      </thead>
      <tbody class="bcls-table__body">
        <tr>
          <td><code translate="No">errorInterval</code></td>
          <td>Nummer</td>
          <td>30</td>
          <td>Die Mindestzeit (in Sekunden), die zwischen zwei Fehlern vergehen muss, damit das Neuladen ausgelöst wird. Wenn Sie beispielsweise die Zeit auf 10 setzen, überprüft die Funktion jedes Mal, wenn ein Fehler auftritt, ob vor weniger als 10 Sekunden ein erneutes Laden stattgefunden hat. Wenn weniger als das Zeitintervall verstrichen ist, wird die Quelle NICHT neu geladen. (This is to ensure that content with an error doesn't reload constantly.) Wenn mehr Zeit als das angegebene Intervall verstrichen ist, wird das Video an dem Punkt neu geladen, an dem der Fehler aufgetreten ist.</td>
        </tr>
        <tr>
          <td><code translate="No">getSource()</code></td>
          <td>Funktion</td>
          <td>Ruft die aktuelle Quelle ab</td>
          <td>Eine Funktion, die aufgerufen wird, um ein Quellobjekt zum Laden oder Neuladen zu bringen. Standardmäßig wird die aktuelle Quelle des Players abgerufen.</td>
        </tr>
      </tbody>
    </table>
    <p>Im Folgenden wird der in der obigen Videodemonstration verwendete Code detailliert beschrieben:</p>
    <ul>
      <li>Zeilen 1-9: Standard-In-Page-Einbettungscode mit einem Player <code translate="No">id</code> hinzugefügt.</li>
      <li>Zeile 11: Schaltfläche zum manuellen Erstellen von Fehlern.</li>
      <li>Zeilen 22-24: Funktion auf Knopfdruck aufgerufen, um einen Fehler auszulösen.</li>
      <li>Zeile 19: Erstellen Sie ein Objekt, in das Konfigurationsoptionen eingefügt werden sollen.</li>
      <li>Zeile 20: Erstellen Sie im Konfigurationsobjekt eine <code translate="No">errorInterval</code> Eigenschaft und weisen Sie ihm einen Wert zu.</li>
      <li>Zeile 21: Ruf den <code translate="No">reloadSourceOnError()</code> Methode, die das Konfigurationsobjekt als Argument übergibt.</li>
    </ul>
    <pre class="line-numbers">
<code class="language-html" translate="No">&lt;video-js id="myPlayerID"
  data-video-id="4607746980001"
  data-account="1507807800001"
  data-player="HJLp3Hvmg"
  data-embed="default"
  data-application-id
  class="video-js"
  controls
&gt;&lt;/video-js&gt;

&lt;p&gt;&lt;button onclick="createError()"&gt;createError&lt;/button&gt;&lt;/p&gt;

&lt;script src="https://players.brightcove.net/1507807800001/HJLp3Hvmg_default/index.min.js"&gt;&lt;/script&gt;

&lt;script type="text/javascript"&gt;
  var createError;
  videojs.getPlayer('myPlayerID').ready(function() {
    var myPlayer = this,
      <span class="bcls-highlight">reloadOptions = {};
    reloadOptions.errorInterval = 10;
    myPlayer.reloadSourceOnError(reloadOptions);</span>
    createError = function(){
      myPlayer.error({code:'2'});
    }
  });
&lt;/script&gt;</code></pre>
  </section>
  <section class="bcls-section">
    <h2 id="In-manifest_WebVTT">In-Manifest WebVTT</h2>
    <p>Das HLS-Plugin unterstützt In-Manifest-WebVTT. Sie müssen nichts tun, um diese Funktion zu aktivieren, da sie im Plugin Standard ist. Videos müssen unter Berücksichtigung von In-Manifest-WebVTT aufgenommen werden. Zum Beispiel die Brightcove <span translate="No">Dynamische Aufnahme-API</span> kann Videos aufnehmen und Untertitel als In-Manifest konfigurieren. Siehe die <a href="https://apis.support.brightcove.com/dynamic-ingest/getting-started/overview-dynamic-ingest-api-dynamic-delivery.html#ingest_captions">Überblick: <span translate="No">Dynamische Aufnahme-API</span> für dynamische Zustellung</a> Dokument für weitere Details.</p>
    <p>Der unten stehende Player spielt ein Video mit In-Manifest-WebVTT-Untertiteln ab. Sie können die Beschriftungen über das Beschriftungssymbol auswählen, wie hier gezeigt:</p>
    <figure class="bcls-figure"><img class="bcls-image" alt="display captions icon" src="/assets/images/plugins/hls/in-manifest-webvtt-example.png" /></figure>
    <p>Nachdem Sie das Video gestartet haben, können Sie die gewünschten Untertitel auswählen.</p>
    <iframe src="https://players.brightcove.net/1752604059001/default_default/index.html?videoId=5427617218001" allowfullscreen="" webkitallowfullscreen="" mozallowfullscreen="" width="640" height="360"></iframe>
    <p>Nur um zu sehen, da dies etwas ist, das Sie nicht selbst erstellen würden, ist hier das Manifest für das im Player oben gezeigte Video:</p>
    <pre class="line-numbers">
<code class="language-javascript" translate="No">#EXTM3U
#EXT-X-MEDIA:TYPE=SUBTITLES,GROUP-ID="subs",NAME="Woofer",DEFAULT=NO,AUTOSELECT=YES,FORCED=NO,LANGUAGE="en",URI="subtitles/en/index.m3u8"
#EXT-X-MEDIA:TYPE=SUBTITLES,GROUP-ID="subs",NAME="Woofer (Forced)",DEFAULT=NO,AUTOSELECT=NO,FORCED=YES,LANGUAGE="en",URI="subtitles/en_forced/index.m3u8"
#EXT-X-MEDIA:TYPE=SUBTITLES,GROUP-ID="subs",NAME="Spanish",DEFAULT=NO,AUTOSELECT=YES,FORCED=NO,LANGUAGE="es",URI="subtitles/es/index.m3u8"
#EXT-X-MEDIA:TYPE=SUBTITLES,GROUP-ID="subs",NAME="Spanish (Forced)",DEFAULT=NO,AUTOSELECT=NO,FORCED=YES,LANGUAGE="es",URI="subtitles/es_forced/index.m3u8"
#EXT-X-STREAM-INF:BANDWIDTH=865000,CODECS="mp4a.40.2, avc1.42001e",RESOLUTION=640x360,SUBTITLES="subs"
865/prog_index.m3u8
#EXT-X-STREAM-INF:BANDWIDTH=12140000,CODECS="mp4a.40.2, avc1.42001e",RESOLUTION=1280x720,SUBTITLES="subs"
12140/prog_index.m3u8</code></pre>
    <p>Darin sehen Sie Verweise auf die Untertiteldatei.</p>
    <aside class="bcls-aside bcls-aside--tip">Hinweis: Die Verwendung von in-manifestem WebVTT ist eine bessere Vorgehensweise als die Verwendung des CEA-608-Standards, der in a . erwähnt wird <a href="#608captions">späterer Abschnitt</a> dieses Dokuments.</aside>
  </section>
  <section class="bcls-section">
    <h2 id="adaptiveswitching">Adaptives Schalten</h2>
    <h3>HLS-Wiedergabeauswahl</h3>
    <p>Während der Wiedergabe wechselt der Player basierend auf einem Algorithmus zu einer höheren oder niedrigeren Wiedergabe. Eingaben für diesen Algorithmus sind:</p>
    <ul>
      <li>Verfügbare Bandbreite</li>
      <li>Spieler-Maße</li>
    </ul>
    <p>Eine vollständige Beschreibung der Wiedergabeauswahl finden Sie in der <a href="/playback/determining-which-rendition-will-play.html#HLS_DASH_Rendition_Selection">Bestimmen, welche Wiedergabe abgespielt wird</a> Dokument.</p>
    <h3>Auswahl der MP4-Formatvariante</h3>
    <p>Wenn Brightcove Player aus irgendeinem Grund keine HLS-Quellen wiedergeben kann, wird auf die Wiedergabe von MP4 zurückgegriffen. In diesem Fall wählt der Player beim Anzeigen eines Videos auf einem mobilen Gerät und beim Abspielen eines MP4 den MP4 mit einer Bitrate von höchstens 0,5 MB / s. Wenn Sie sich auf einem Desktop- oder Laptop-Gerät befinden, wird die MP4-Wiedergabe ausgewählt, die 3 MB / s am nächsten kommt.</p>
  </section>
  <section class="bcls-section">
    <h2 id="inbandmetadata">In-Band-Metadaten</h2>
    <p>Brightcove Player erkennt bestimmte Arten von ID3-Tag-Informationen, die in einen HLS-Videostream eingebettet sind. Der ID3-Standard wurde ursprünglich verwendet, um Metadaten zu MP3-Audiospuren bereitzustellen. (The acronym is from <strong>ID</strong>entify MP<strong>3</strong>.) Wenn ein Stream mit eingebetteten Metadaten angetroffen wird, wird automatisch eine In-Band-Metadaten-Textspur erstellt und mit Cues gefüllt, sobald sie im Stream angetroffen werden. Ein häufiger Anwendungsfall ist, dass die ID3-Daten festlegen, wann Werbung in einem Live-Stream angezeigt werden soll.</p>
    <p>Der ID3-Standard definiert viele Rahmentypen, aber nur die folgenden zwei UTF-8-codierten Rahmen werden Cue-Punkten zugeordnet und ihre Werte als Cue-Text festgelegt:</p>
    <ul>
      <li>WXXX - Benutzerdefinierter URL-Link-Frame</li>
      <li>TXXX - Benutzerdefinierter Textinformationsrahmen</li>
    </ul>
    <p>Cues werden für alle anderen Rahmentypen erstellt und die Daten werden an den generierten Cue angehängt:</p>
    <pre class="line-numbers">
<code class="language-javascript" translate="No">cue.frame.data</code></pre>
    <p>Weitere Informationen zu Textspuren im Allgemeinen finden Sie unter <a href="//www.html5rocks.com/en/tutorials/track/basics/">Erste Schritte mit dem Track-Element</a>. Informationen zu Brightcove Player und Cue-Points finden Sie unter <a href="/advertising/displaying-ads-using-ad-cue-points.html">Anzeigen mit Ad Cue-Punkten anzeigen</a>.</p>
  </section>
  <section class="bcls-section">
    <h2 id="Debugging">Debuggen</h2>
    <p>Mit den Informationen in diesem Abschnitt können Sie Informationen sammeln, die dann an den Brightcove-Support weitergeleitet werden können, um HLS-Probleme zu beheben. Davon abgesehen könnten einige der gemeldeten Daten für Sie von Interesse sein.</p>
    <p>Es werden zwei Methoden und eine Eigenschaft beschrieben, die beim HLS-Debugging helfen.</p>
    <h3>Methode: videojs.log.level ()</h3>
    <p>Das <code translate="No">videojs.log.level()</code> Methode ruft die aktuelle Protokollierungsstufe ab oder legt diese fest. Um das Debuggen zu aktivieren, verwenden Sie:</p>
    <pre class="line-numbers">
<code class="language-javascript" translate="No">videojs.log.level('debug');</code></pre>
    <h3>Methode: videojs.log.history ()</h3>
    <p>Das <code translate="No">history()</code> Die Methode gibt ein Array zurück, das alles enthält, was im Verlauf protokolliert wurde.</p>
    <p>Jede Nachricht, die über das protokolliert wird <code translate="No">videojs.log</code> Die API wird an die angehängt <code translate="No">history</code> Array. Welche Informationen in dieses Array eingefügt werden, hängt davon ab, welche Plugins verwendet werden, die die API verwenden, und vom Status des Players. Dies bedeutet, dass der Verlauf leicht Nicht-HLS-Informationen enthalten kann. Eine Beispielanzeige von der Konsole des <code translate="No">history</code> Array folgt:</p>
    <figure class="bcls-figure"><img class="bcls-image" alt="console display of history array" src="/assets/images/plugins/hls/history-array.png" /></figure>
    <aside class="bcls-aside bcls-aside--tip">Beide <code translate="No">level()</code> und <code translate="No">history()</code> Methoden gehören zu den <code translate="No">log</code> Klasse, deren Referenzdokument sich befindet <a href="https://docs.brightcove.com/brightcove-player/current-release/module-create-logger-createLogger-log.html">Hier</a>.</aside>
    <p>Wenn Sie die senden müssen <code translate="No">history</code> Array zu unterstützen, das Beste, was Sie tun können, ist an der Konsole Folgendes einzugeben:</p>
    <pre class="line-numbers">
<code class="language-javascript" translate="No">JSON.stringify(videojs.log.history())</code></pre>
    <p>Sie erhalten ähnliche Informationen wie hier gezeigt:</p>
    <figure class="bcls-figure"><img class="bcls-image" alt="console display of history stringified" src="/assets/images/plugins/hls/stringify.png" /></figure>
    <p>Kopieren Sie den generierten JSON, der dann an den Support gesendet werden kann.</p>
    <h3>Eigenschaft: player.tech (). Hls.stats</h3>
    <p>Dieses Objekt enthält eine Zusammenfassung der HLS- und spielerbezogenen Statistiken. Die verfügbaren Eigenschaften sind in der folgenden Tabelle aufgeführt:</p>
    <table class="bcls-table">
      <thead class="bcls-table__head">
        <tr>
          <th>Name des Anwesens</th>
          <th>Typ</th>
          <th>Beschreibung</th>
        </tr>
      </thead>
      <tbody class="bcls-table__body">
        <tr>
          <td>Bandbreite</td>
          <td>Nummer</td>
          <td>Rate des letzten Segment-Downloads in Bit / Sekunde</td>
        </tr>
        <tr>
          <td>gepuffert</td>
          <td>Reihe</td>
          <td>Liste der Zeitbereiche von Inhalten, die sich im SourceBuffer befinden</td>
        </tr>
        <tr>
          <td>CurrentSource</td>
          <td>Objekt</td>
          <td>Das Quellobjekt; hat die Struktur <code translate="No">{src: 'url', type: 'mimetype'}</code></td>
        </tr>
        <tr>
          <td>currentTech</td>
          <td>Schnur</td>
          <td>Der Name der verwendeten Technologie</td>
        </tr>
        <tr>
          <td>CurrentTime</td>
          <td>Nummer</td>
          <td>Die aktuelle Position des Spielers</td>
        </tr>
        <tr>
          <td>Dauer</td>
          <td>Nummer</td>
          <td>Dauer des Videos in Sekunden</td>
        </tr>
        <tr>
          <td>Meister</td>
          <td>Objekt</td>
          <td>Das Master-Wiedergabelistenobjekt</td>
        </tr>
        <tr>
          <td>mediaBytesTransferred</td>
          <td>Nummer</td>
          <td>Gesamtzahl der heruntergeladenen Inhaltsbytes</td>
        </tr>
        <tr>
          <td>mediaRequests</td>
          <td>Nummer</td>
          <td>Gesamtzahl der Mediensegmentanforderungen</td>
        </tr>
        <tr>
          <td>mediaRequestsAborted</td>
          <td>Nummer</td>
          <td>Gesamtzahl der abgebrochenen Mediensegmentanforderungen</td>
        </tr>
        <tr>
          <td>mediaRequestsErrored</td>
          <td>Nummer</td>
          <td>Gesamtzahl der fehlerhaften Mediensegmentanforderungen</td>
        </tr>
        <tr>
          <td>mediaRequestsTimeout</td>
          <td>Nummer</td>
          <td>Gesamtzahl der Zeitüberschreitungs-Mediensegmentanforderungen</td>
        </tr>
        <tr>
          <td>mediaSecondsLoaded</td>
          <td>Nummer</td>
          <td>Gesamtzahl der heruntergeladenen Inhaltssekunden</td>
        </tr>
        <tr>
          <td>mediaTransferDuration</td>
          <td>Nummer</td>
          <td>Gesamtzeit für das Herunterladen von Mediensegmenten in Millisekunden</td>
        </tr>
        <tr>
          <td>playerDimensions</td>
          <td>Objekt</td>
          <td>Enthält die Breite und Höhe des Players</td>
        </tr>
        <tr>
          <td>suchbar</td>
          <td>Reihe</td>
          <td>Liste der Zeitbereiche, nach denen der Spieler suchen kann</td>
        </tr>
        <tr>
          <td>Zeitstempel</td>
          <td>Nummer</td>
          <td>Zeitstempel von wann <code translate="No">hls.stats</code> wurde zugegriffen</td>
        </tr>
        <tr>
          <td>videoPlaybackQuality</td>
          <td>Objekt</td>
          <td>Qualitätsmetriken für die Medienwiedergabe gemäß <a href="https://wicg.github.io/media-playback-quality">W3Cs API für die Medienwiedergabequalität</a></td>
        </tr>
      </tbody>
    </table>
    <aside class="bcls-aside bcls-aside--warning">Wenn Sie Version 5 von Brightcove Player verwenden, sollten Sie <code translate="No">player.tech_.hls.stats</code> um die in der Tabelle angezeigten HLS-Informationen zu erhalten. Außerdem sind einige Eigenschaften in der Version 5-Implementierung nicht verfügbar.</aside>
    <p>Eine Beispielanzeige von der Konsole des <code translate="No">stats</code> Objekt folgt:</p>
    <figure class="bcls-figure"><img class="bcls-image" alt="console display of stats object" src="/assets/images/plugins/hls/stats-object.png" /></figure>
    <aside class="bcls-aside bcls-aside--tip">Um in der Konsole einen Eigenschaftswert anzuzeigen, müssen Sie auf die Auslassungspunkte (...) klicken.</aside>
    <h3>Codebeispiel</h3>
    <p>Wenn Sie mit diesen Debugging-Funktionen experimentieren möchten, kann Code, der auf dem folgenden basiert, als Ausgangspunkt dienen:</p>
    <pre class="line-numbers">
<code class="language-html" translate="No">&lt;video-js id="myPlayerID" data-video-id="5622718636001"
  data-account="1507807800001"
  data-player="SkxERgnQM"
  data-embed="default"
  data-application-id
  class="video-js"
  controls
  width="640"
  height="360"&gt;&lt;/video-js&gt;
&lt;script src="https://players.brightcove.net/1507807800001/SkxERgnQM_default/index.min.js"&gt;&lt;/script&gt;

&lt;script type="text/javascript"&gt;
  videojs.getPlayer('myPlayerID').ready(function() {
    var myPlayer = this;

    videojs.log.level('debug');

    myPlayer.on('ended', function(){
      console.log('videojs.log.history(): ', videojs.log.history());
      console.log('videojs.log.level(): ', videojs.log.level());
      console.log('videojs.hls.stats: ', player.tech().hls.stats);
    });
  });
&lt;/script&gt;</code></pre>
  </section>
  <section class="bcls-section">
    <h2 id="608captions">608 Bildunterschriften</h2>
    <p>Das HLS-Plugin von Brightcove unterstützt 608 Untertitel. 608 Untertitel, auch bekannt als CEA-608-Untertitel, EIA-608-Untertitel und Line 21-Untertitel, sind ein Standard für Untertitel für analoge NTSC-TV-Sendungen in den USA und Kanada. Die 608 Untertitel können in einen Livestream eingefügt werden, wo sie in das HLS gemischt werden' <strong>ts</strong> (Transportstrom-)Dateien.</p>
  </section>
  <section class="bcls-section">
    <h2 id="hosting">Hosting-Probleme</h2>
    <div class="BCL-concept">
      <p>Im Gegensatz zu einer nativen HLS-Implementierung muss das HLS-Plugin den Sicherheitsrichtlinien des Browsers entsprechen. Das bedeutet, dass alle Dateien, aus denen der Stream besteht, von derselben Domäne wie die Seite, auf der sich der Videoplayer befindet, oder von einem geeigneten Server bereitgestellt werden müssen <a href="https://developer.mozilla.org/en-US/docs/HTTP/Access_control_CORS">CORS-Header</a> konfiguriert. Einfach <a href="http://enable-cors.org/server.html">Anweisungen sind verfügbar</a> Für beliebte Webserver und die meisten CDNs sollte es kein Problem sein, CORS für Ihr Konto einzuschalten.</p>
    </div>
  </section>
  <section class="bcls-section">
    <h2 id="Errors">Fehler</h2>
    <p>Fehler während der HLS-Wiedergabe werden anhand des Typs gemeldet <strong>APPEND_BUFFER_ERR</strong>. Die Nachricht wird aus dem nativen Fehler des Browsers abgerufen. Beispielsweise, <strong>Das Kontingent wurde überschritten</strong>.</p>
  </section>
  <section class="bcls-section">
    <h2 id="changelog">Changelog</h2>
    <p>Sieh dir das <a href="/plugins/changelog/hls-plugin-changelog.html">Changelog hier an</a>.</p>
  </section>
</article>