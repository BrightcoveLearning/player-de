---
title: 'Start springen: Header-Gebotsanzeige'
parent: Advertising
description: Enter values for the two form fields below to see header bidding in action using your player and video. (If you choose not to input your data, demo data is supplied.) The sample uses the AppNexus header bidding Funktionalität.</p>
  <p>Unter dem Player wird der Code für die Player-Implementierung angezeigt, damit Sie kopieren und verwenden können.
---

<article class="bcls-article">
<h1>Start springen: Header Bidding Ad</h1>
<summary>{{ page.description }}</summary>
<script async src="//acdn.adnxs.com/prebid/not-for-prod/1/prebid.js">
</script>
<style type="text/css">
.video-js { width: 640px; height: 360px; } .bcls-code { color: #111; font-family: 'Source Code Pro', monospace; padding: 1em; width: 90%; min-height: 5em; background-color: #cfcfcf; font-size: 1rem; } .bcls-button { padding: .5em; background-color: #64AAB2; border: 1px black solid; border-radius: .5em; color: black; cursor: pointer; } fieldset { color: #64AAB2; border: 1px #64AAB2 solid; border-radius: .5em; } code { color: #E4B842; font-family: 'Source Code Pro', monospace; }
</style>
<link href="//players.brightcove.net/videojs-ima3/3/videojs.ima3.min.css" rel="stylesheet" />
<div id="inputFields" class="input-fields">
  <h3>Kontoinformationen</h3>
  <div id="accountInfo">
    <table class="bcls-table">
      <tbody class="bcls-table__body">
        <tr>
          <td>Video Cloud-Konto-ID:</td>
          <td><input id="accountID" type="text" size="60" value="1507807800001" /></td>
        </tr>
        <tr>
          <td>Video-ID:</td>
          <td><input id="videoID" type="text" size="60" value="5622718636001" /></td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
<p>
  <button id="buildPlayer" class="bcls-button" onclick="addPlayer()">Baue den Spieler</button>
</p>
<h3>Spieler</h3>
<div style="width: 640px;height: 360px;">
  <div id="placeHolder" style="width: 640px;height: 360px;background-color: #cfcfcf;">&nbsp;</div>
</div>
<h3>Code veröffentlichen</h3>
<p>
  <button id="copyCode" class="bcls-button" onclick="copyCode()">Code in Zwischenablage kopieren</button>
</p>
<div>
  <textarea id="publishingCode" class="bcls-code" style="width: 100%;height: 420px" onclick="this.select()"></textarea>
</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/js-beautify/1.7.5/beautify.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/js-beautify/1.7.5/beautify-css.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/js-beautify/1.7.5/beautify-html.min.js"></script><!-- custom script --><script type="text/JavaScript">
  var myPlayer, playerHTML, displayPlayerHTML, playerScript, PublishingCode = document.getElementById('publishingCode'), accountID = document.getElementById('accountID'), videoID = document.getElementById('videoID'), configOptions = {} ; var pbjs = pbjs || {} ; pbjs.que = pbjs.que || []; iosGerät = !! navigator.platform.match(/iPhone|iPod|iPad/); // Player erstellen und in HTML DOM einfügen Funktion addPlayer() { configOptions.accountID = accountID.value; configOptions.videoID = videoID.value; console.log('configOptions', configOptions); // Das Player-Videoelement dynamisch erstellen, aber nur teilweise, damit es nicht instanziiert wird playerHTML = '<video-js id=\"myPlayerID\" data-embed=\"default\" class=\"video-js\" controls></video-js>'; // Spielercode in das DOM einfügen document.getElementById('placeHolder').innerHTML = playerHTML; // Playerscript-Tag hinzufügen und ausführen playerScript = document.createElement('script'); playerScript.src = "//players.brightcove.net/" + configOptions.accountID + "/default_default/index.min.js"; document.body.appendChild(playerScript); playerScript.onload = loadIMA; } Funktion loadIMA() { ima = document.createElement('script'); ima.src = '//players.brightcove.net/videojs-ima3/3/videojs.ima3.min.js'; document.head.appendChild(ima); ima.onload = headerBidding; } Funktion headerBidding() { // Instantiate player and immediately after call ima3 method myPlayerID.setAttribute('data-account', configOptions.accountID); myPlayerID.setAttribute('data-player', 'default'); myPlayerID.setAttribute('data-video-id', configOptions.videoID); myPlayer = bc(document.getElementById("myPlayerID")); console.log('**********calling IMA3 plugin next'); myPlayer.ima3({ serverUrl: getServerUrl, debug: true, timeout: 5000, ima3SdkSettings: { "disableCustomPlaybackForIOS10Plus": true } }); //FROM HEADER BIDDING CODE-Funktion getServerUrl(Callback) { var videoAdUnit = { code: 'video1', mediaTypes: { video: { playerSize: [640, 480], context: 'instream' } }, bietet: [{ bidder: 'appnexus', params: { placementId: iosDevice ? 13239390 : 13232361, video: { skipppable: true, playback_method: ['auto_play_sound_off'] } } }] }; pbjs.que.push(Funktion () { pbjs.addAdUnits(videoAdUnit); pbjs.setConfig({ debug: true, cache: { url: 'https://prebid.adnxs.com/pbc/v1/cache' } }); pbjs.requestBids({ bidsBackHandler: function (bids) { var videoUrl = pbjs.adServers.dfp.buildVideoUrl({ adUnit: videoAdUnit, params: { iu: '/19968336/prebid_cache_video_adunit', cust_params: { section: 'blog', anotherKey: 'anotherValue' } , Ausgabe: 'riesig'  } }); Rückruf(videoURL); } }); }); }; myPlayer.ready(Funktion () { console.log('**********in player ready'); myPlayer.on("ima3error", function () { console.log("There was an ima3 error."); }); }); buildHTML(); } Funktion buildHTML() { var htmlText1, htmlText2, jsText, allFormattedCode; htmlText1 = '<!DOCTYPE html> <html> <head> <meta charset="UTF-8"> <title>Video vorbestellen -- Brightcove Player</title> <script async src="//acdn.adnxs.com/prebid/not-for-prod/1/prebid.js">\\&lt; /Skript\\&gt; <link href="//players.brightcove.net/videojs-ima3/3/videojs.ima3.min.css" rel="stylesheet"> \\n </head> <body> <h1>Video vorbestellen -- Brightcove Player</h1> \\n'; displayPlayerHTML = '<video-js id="myPlayerID" data-account="' + configOptions.accountID + '" data-player="default" data-video-id="' + configOptions.videoID + '" data-embed="default" data-application-id class="video-js" playsinline controls width="640" height="480"></video-js>'; htmlText1 += displayPlayerHTML; htmlText1 += playerScript.outerHTML; htmlText1 += '<script src="//players.brightcove.net/videojs-ima3/3/videojs.ima3.min.js">\&lt;/script\ &gt;'; htmlText1 += '<script>'; jsText = ' var pbjs = pbjs || {} ; pbjs.que = pbjs.que || []; iosGerät = !! navigator.platform.match(/iPhone|iPod|iPad/); Funktion getServerUrl(Rückruf) { var videoAdUnit = { code: "video1", mediaTypes: { video: { playerSize: [640, 480], context: "instream" } }, bietet: [{ bidder: "appnexus", params: { placementId: iosDevice ? 13239390 : 13232361, video: { skipppable: true, playback_method: ["auto_play_sound_off"] } } }] }; pbjs.que.push(Funktion () { pbjs.addAdUnits(videoAdUnit); pbjs.setConfig({ debug: true, cache: { url: "https://prebid.adnxs.com/pbc/v1/cache" } }); pbjs.requestBids({ bidsBackHandler: function (bids) { var videoUrl = pbjs.adServers.dfp.buildVideoUrl({ adUnit: videoAdUnit, params: { iu: "/19968336/prebid_cache_video_adunit", cust_params: { section: "blog", anotherKey: "anotherValue" } , Ausgabe: "weitläufig" } }); Rückruf(videoURL); } }); }); }; bc("meinePlayerID").ima3({ serverUrl: getServerUrl, debug: true, timeout: 5000, ima3SdkSettings: { "disableCustomPlaybackForIOS10Plus": true } }); var myPlayer = videojs.getPlayer("myPlayerID"); myPlayer.ready(Funktion() { myPlayer.on("ima3error", function () { console.log("There was an ima3 error."); }); });'; htmlText2 = '\\&lt;/script\\&gt; </body> </html>'; htmlText1 = html_beautify (htmlText1, { "indent_size": 2 }); jsText = js_beautify (jsText, { "indent_size": 2, "indent_level": 10 }); htmlText2 = html_beautify (htmlText2, { "indent_size": 2 }); allFormattedCode = HtmlText1 +'\ n' + jsText + '\ n' + HtmlText2; PublishingCode.TextContent = AllFormattedCode;} Funktion CopyCode () { publishingCode.select(); document.execCommand('copy'); }
</script>
    </article>