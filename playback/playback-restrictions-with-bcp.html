---
title: "Playback Restrictions with Brightcove Player"
description: "In this topic, you will learn how to configure Brightcove Player to use Playback Restrictions."
parent: Playback
---


<article class="bcls-article">
  <h1>{{ page.title }}</h1>
  <summary>{{ page.description }}</summary>

  <section class="bcls-section">
    <h2 id="Introduction">Einleitung</h2>
    <p>
      Brightcove Player kommuniziert standardmäßig mit der Brightcove-Wiedergabe-API. Ein neues System zur Verwaltung von Wiedergaberechten und -beschränkungen sitzt vor der Playback-API und bietet Wiedergabeberechtigungen mithilfe von DRM-Lizenzen.
    </p>
    <p>Sie können Wiedergaberechte mit oder ohne DRM verwenden, aber wenn Sie Laufzeitbeschränkungen verwenden möchten, müssen Sie ein JSON Web Token (JWT) verwenden.</p>
    <p>License Keys Protection bietet ein zusätzliches Maß an Sicherheit, wenn Dynamic Delivery mit DRM-geschützten oder HTTP Live Streaming Encryption (HLSe)-Inhalten verwendet wird. Lizenzanfragen können mit einem signierten <a href="https://general.support.brightcove.com/developer/create-json-web-token.html">JSON Web Token (JWT) authentifiziert</a>werden. Das Token wird beim Anfordern der Videolizenz verwendet, sobald das Video in den Player geladen wurde und die Quelle ausgewählt wurde.</p>
    <p>Um Brightcove Player für den Schutz von Lizenzschlüsseln zu konfigurieren, übergeben Sie einen Token-Parameter, wenn Sie die Kataloganforderung für das Video stellen. </p>
    <p>Wenn Sie mit dieser Funktion nicht vertraut sind, lesen Sie die <a href="https://apis.support.brightcove.com/playback-restrictions/getting-started/overview-playback-restrictions.html">Übersicht: </a> Dokument „Brightcove Playback Restrictions“</p>

    <p>Um Ihnen zu helfen, den Code im nächsten Abschnitt zu verstehen, lesen Sie die Konzepte in den folgenden Dokumenten:</p>
    <ul>
      <li><a href="https://general.support.brightcove.com/developer/create-json-web-token.html">Erstellen eines <span translate="No">JSON-Web-Tokens</span> (JWT)</a></li>
      <li><a href="https://support.brightcove.com/concepts-using-javascript-promises">Konzepte: Verwenden von JavaScript Versprechen</a></li>
      <li><a href="https://support.brightcove.com/player-catalog#Catalog_parameters_object">Katalog-Parameter</a></li>
      <li><a href="https://support.brightcove.com/configuring-brightcove-player-drm">Konfigurieren des Brightcove Players für DRM</a></li>
    </ul>
  </section>

  <section class="bcls-section">
    <h2 id="Requirements">Voraussetzungen</h2>
    <p>Hier sind die Anforderungen, die für die Verwendung von Wiedergabebeschränkungen erforderlich sind.</p>
    <h3>Wiedergaberechte</h3>
    <p>Um die Wiedergaberechte nutzen zu können, benötigen Sie Folgendes:</p>
    <ul>
      <li>Spielerversion <strong>6.39.0</strong> oder größer</li>
    </ul>
    <aside class="bcls-aside bcls-aside--information">Bei Verwendung von Wiedergaberechten werden alle mit Richtlinienschlüsseln konfigurierten Inhaltsbeschränkungen ignoriert.</aside>

    <h3>Lizenzschlüsselschutz</h3>
    <p>Um den Lizenzschlüsselschutz verwenden zu können, benötigen Sie Folgendes:</p>
    <ul>
      <li>Spielerversion <strong>6.33.0</strong> oder später</li>
      <li>Wenn Sie DRM verwenden, benötigen Sie die <a href="https://support.brightcove.com/configuring-brightcove-player-drm#Changelog">DRM-Plugin</a> Ausführung <strong>5.5.0</strong> oder später</li>
    </ul>

  </section>

  <section class="bcls-section">
    <h2 id="Using_Playback_Rights">Verwenden von Wiedergaberechten</h2>
    <p>
      Gehen Sie wie folgt vor, um die Wiedergaberechte zu nutzen:
    </p>
    <ol class="bcls-tasklist-restart">
      <li>
        <p>
           Entfernen Sie den Richtlinienschlüssel des Brightcove-Players. Einzelheiten finden Sie in der <a href="#Making_requests_with_Playback_Rights">Anfragen mit Wiedergaberechten stellen</a> Sektion.
        </p>
      </li>
      <li>
        <p>
          Wenn Sie haben <a href="https://apis.support.brightcove.com/playback-restrictions/getting-started/overview-playback-restrictions.html#Runtime_restrictions">Laufzeitbeschränkungen</a> benötigen Sie ein Autorisierungstoken. Wenn angegeben, wird dieses Token als Autorisierungsheader für alle nachfolgenden Anforderungen hinzugefügt.
        </p>
        <p>
          Sie können dem Player wie folgt einen hinzufügen:
        </p>
        <pre>
<code class="language-javascript" translate="No">player.catalog.setBcovAuthToken('<span class="bcls-input">your jwt token</span>');</code></pre>
      </li>
      <li>Nachdem Sie den Richtlinienschlüssel und/oder das Autorisierungstoken geändert haben, können Sie Daten von der Brightcove-Wiedergabe-API anfordern und in den Player laden. Dieser Vorgang ist identisch mit dem Standardfall.
        <p>
          Hier ist ein Beispiel für das Abrufen eines einzelnen Videos mit Wiedergabebeschränkungen und einem Autorisierungs-Token:
        </p>
        <aside class="bcls-aside bcls-aside--tip">Beachten Sie, dass die <a href="https://player.support.brightcove.com/coding-topics/using-bc-and-getplayer-methods.html#bc_method_details">bc()-Methode</a> wird verwendet, damit Sie den Richtlinienschlüssel festlegen können, bevor Sie den Katalog aufrufen.</aside>

    <h3>HTML</h3>
  <pre class="line-numbers">
<code class="language-html" translate="No">&lt;div style=&quot;max-width: 960px;&quot;&gt;
  &lt;video-js id=&quot;myPlayerID&quot;
    data-embed=&quot;default&quot;
    controls=&quot;&quot;
    data-application-id=&quot;&quot;
    class=&quot;vjs-fluid&quot;&gt;&lt;/video-js&gt;
&lt;/div&gt;
&lt;script src=&quot;https://players.brightcove.net/<span class="bcls-input">your account id</span>/<span class="bcls-input">your player id</span>_default/index.min.js&quot;&gt;&lt;/script&gt;
</code></pre>
    <h3>JavaScript</h3>
    <pre class="line-numbers">
<code class="language-javascript" translate="No">&lt;script&gt;
    // +++ Add the player attributes +++
    var myPlayer,
    	myPlayerEl = document.getElementById(&quot;myPlayerID&quot;);
    myPlayerEl.setAttribute('data-account', <span class="bcls-input">your account id</span>);
    myPlayerEl.setAttribute('data-player', '<span class="bcls-input">your player id</span>');

    // +++ Create the player +++
    myPlayer = bc(myPlayerEl);

    // Unset the player policy key
    myPlayer.catalog.setPolicyKey(null);

    // Set the authorization token
    myPlayer.catalog.setBcovAuthToken('<span class="bcls-input">your jwt token</span>');
    // This should trigger a request to:
    //
    //   https://edge-auth.api.brightcove.com/playback/v1/videos/1
    //
    // With header:
    //
    //   Authorization: Bearer &lt;span class=&quot;bcls-input&quot;&gt;your jwt token&lt;/span&gt;
    //

    myPlayer.catalog.get({id: '<span class="bcls-input">your video id</span>', type: 'video'}).
    then(function(data) {
      myPlayer.catalog.load(data);
      myPlayer.muted(true);
      myPlayer.play();
    }).
    catch(function(error) {
      throw new Error(error);
    });
&lt;/script&gt;</code></pre>
      </li>
    </ol>
  </section>

  <section class="bcls-section">
    <h2 id="Making_requests_with_Playback_Rights">Anfragen mit Wiedergaberechten stellen</h2>
    <P>Standardmäßig stellen alle Brightcove-Player eine Anfrage an die Wiedergabe-API, wenn diese über einen Richtlinienschlüssel verfügt. Um Anforderungen zu stellen, die zuerst die Wiedergaberechte überprüfen, müssen Sie den Richtlinienschlüssel entfernen. Hier sind zwei Möglichkeiten, dies zu tun:</P>
    <h3>Entfernen Sie den Richtlinienschlüssel von allen Spielern</h3>
    <p>Gehen Sie wie folgt vor, um die Eingabe eines Richtlinienschlüssels für neue Player zu vermeiden, die in Video Cloud Studio erstellt wurden:</p>

    <ol class="bcls-tasklist-restart">
      <li>Wenden Sie sich an Ihren Account Manager.</li>
      <li>Geben Sie Ihre Konto-ID an und fragen Sie nach, ob Sie die aktivieren möchten <code translate="No">remove policy key</code> Flagge.
      </li>
    </ol>

    <h3>Entfernen Sie den Richtlinienschlüssel von einzelnen Spielern</h3>
    <p>Standardmäßig ist die <code translate="No">remove policy key</code> Das Flag ist für Ihr Konto deaktiviert. Gehen Sie wie folgt vor, um den Richtlinienschlüssel von einzelnen Spielern zu entfernen:</p>
    <ol class="bcls-tasklist-restart">
      <li>Navigieren Sie in Video Cloud Studio zum <strong></strong> Player-Modul.</li>
      <li>Wählen Sie den Player aus, von dem Sie den Richtlinienschlüssel entfernen möchten.</li>
      <li>Wählen Sie in der linken Navigation den <strong>JSON-Editor aus</strong>.</li>
      <li>Stellen Sie die <code translate="No">policy_key</code> Feld als <code translate="No">null</code>.
        <figure class="bcls-figure">
          <img
            class="bcls-image--no-border"
            alt="JSON editor"
            src="/assets/images/playback/policy-key-editor.png"
          />
          <figcaption class="bcls-caption--image">JSON-Editor</figcaption>
        </figure>
      </li>
      <li>Speichern Sie Ihre Änderungen und veröffentlichen Sie Ihren Player.</li>
    </ol>
      <!-- <pre>
        <code class="language-javascript" translate="No">player.catalog.setPolicyKey(null);</code></pre> -->
  </section>

  <section class="bcls-section">
    <h2 id="Making_requests_without_Playback_Rights">Anfragen ohne Wiedergaberechte stellen</h2>
    <p>Der Vorgang kann rückgängig gemacht werden, um Anforderungen ohne Rechte und Einschränkungen an die Wiedergabe-API zurückzuleiten.</p>
    <p>
      Legen Sie den Richtlinienschlüssel und das Autorisierungstoken wie folgt fest:
    </p>
    <ol class="bcls-tasklist-restart">
      <li>
        <p>Wenn du das hättest <code translate="No">remove policy key</code> Markieren Sie das Kontrollkästchen aktiviert, und wenden Sie sich an Ihren Account Manager, um es zu deaktivieren.</p>
        <aside class="bcls-aside bcls-aside--information"> If you have the <code translate="No">remove policy key</code> flag enabled and you disable it, policy keys will be regenerated for all of your players, except those where you have set the <code translate="No">policy_key</code> field to <code translate="No">null</code>.</aside>
      </li>
      <li>Wenn Sie einzelne Player in Studio aktualisiert haben, aktualisieren Sie den JSON mit Ihrem Richtlinienschlüssel.
        <figure class="bcls-figure">
          <img
            class="bcls-image--no-border"
            alt="JSON editor"
            src="/assets/images/playback/policy-key-defined.png"
          />
          <figcaption class="bcls-caption--image">JSON-Editor</figcaption>
        </figure>
      </li>
      <li>Setzen Sie das Autorisierungstoken auf <code translate="No">null</code>.
        <pre>
<code class="language-javascript" translate="No">player.catalog.setBcovAuthToken(null);</code></pre>
      </li>
    </ol>
  </section>

  <section class="bcls-section">
    <h2 id="Using_License_Keys_Protection">Verwenden des Lizenzschlüsselschutzes</h2>
    <p>Um den Lizenzschlüsselschutz zu verwenden, übergeben Sie einen Authentifizierungstoken-String als Teil des <a href="https://player.support.brightcove.com/references/player-catalog.html">Spielerkatalog</a> Objekt unter Verwendung des Eigenschaftsnamens <code translate="No">bcovAuthToken</code>.</p>
    <p>Dieser Ansatz funktioniert sowohl für DRM- als auch für HLSe-Inhalte. Der Player erkennt die Art der Quelle, die von der Playback-API geladen wird, und stellt die richtige Implementierung für diese Quelle bereit.</p>

    <p>Gehen Sie folgendermaßen vor, um den Schutz von Lizenzschlüsseln zu verwenden:</p>
    <ol class="bcls-tasklist">
      <li>Erstellen Sie ein signiertes <a href="https://general.support.brightcove.com/developer/create-json-web-token.html">JSON-Web-Token (JWT)</a>.</li>
      <li>Fügen Sie dieses Token in die Videoanfrage ein.
        <p>Dieser Beispielimplementierungscode verwendet die <a href="https://player.support.brightcove.com/references/player-catalog.html#get_method">catalog.get ()</a> -Methode, um das Video anzufordern, während das Token geliefert wird.</p>
    <aside class="bcls-aside bcls-aside--information">Stellen Sie sicher, dass Sie den <code translate="No">data-video-id</code> Parameter NICHT in das <code translate="No">&lt;video-js&gt;</code> Tag aufnehmen.</aside>
<pre class="line-numbers">
  <code class="language-html" translate="No">&lt;video-js id=&quot;myPlayerID&quot;
    data-account=&quot;1507807800001&quot;
    data-player=&quot;default&quot;
    data-embed=&quot;default&quot;
    controls
    data-application-id&gt;&lt;/video-js&gt;
  &lt;script src=&quot;//players.brightcove.net/1507807800001/default_default/index.min.js&quot;&gt;&lt;/script&gt;
  
  &lt;script&gt;
    (function() {
      var myPlayer = videojs.getPlayer('myPlayerID');
  
      myPlayer.catalog.get({
        type: 'video',
        id: '6015247091001',
        <span class="bcls-highlight">bcovAuthToken:</span> '<span class="bcls-input">your jwt token</span>'
      })
        .then(function(videoReturned){
          myPlayer.catalog.load(videoReturned);
        })
        .catch(function(err){
          console.log('err:', err);
        });
    })();
  &lt;/script&gt;</code></pre>
      </li>
    </ol>
  </section>

  <section class="bcls-section">
    <h2 id="Using_Concurrency_and_Registration">Verwenden von Parallelität und Registrierung</h2>
    <p>Wenn Sie verwenden <a href="https://apis.support.brightcove.com/playback-restrictions/guides/stream-concurrency.html">Gleichzeitige Streams</a> oder <a href="https://apis.support.brightcove.com/playback-restrictions/guides/device-limits.html">Geräteregistrierung</a> , dann muss Ihr Brightcove-Player die <strong>EME</strong> Plug-in STATT des Standards <strong>DRM</strong> einstecken.</p>
    <aside class="bcls-aside bcls-aside--information">Das DRM-Plugin ist ein Wrapper für das EME-Plugin. Einzelheiten finden Sie im <a href="https://player.support.brightcove.com/plugins/configuring-brightcove-player-drm.html#DRM_plugin_architecture">Konfigurieren des Brightcove-Players für DRM</a> dokumentieren.</aside> 
    

    <p>Folgen Sie diesen Schritten:</p>
    <ol class="bcls-tasklist-restart">
      <li>Ergänzen Sie die <strong>EME</strong> Plug-in für Ihren Brightcove-Player. Das Plugin wurde aktualisiert und enthält jetzt <code translate="No">persistentState</code>.</li>
      <li>Navigieren Sie in Video Cloud Studio zum <strong></strong> Player-Modul. Wählen Sie einen Player-Link aus, um seine Informationen anzuzeigen.</li>
      <li>Wählen Sie in der linken Navigation <strong>Wiedergabe</strong>.</li>
      <li>
        <p>Stelle sicher das <strong>DRM aktivieren</strong> ist NICHT ausgewählt.</p>
        <figure class="bcls-figure">
          <img
            class="bcls-image--no-border"
            alt="Enable DRM option"
            src="/assets/images/playback/playback-restrictions/enable-drm-option.png"
          />
          <figcaption class="bcls-caption--image">DRM-Option aktivieren</figcaption>
        </figure>
      </li>
      <li>Wählen Sie in der linken Navigation den <strong>JSON-Editor aus</strong>.</li>
      <li>
        <p>Suchen Sie im JSON-Code nach dem <code translate="No">plugins</code> Array und fügen Sie das EME-Plugin wie folgt hinzu:</p>
        <pre class="line-numbers">
<code class="language-javascript" translate="No">&quot;plugins&quot;: [
  {
  &quot;name&quot;: &quot;eme&quot;,
  &quot;scripts&quot;: [
    &quot;//players.brightcove.net/videojs-drm/5.9.1/videojs-drm.min.js&quot;
  ],
  &quot;stylesheets&quot;: [
    &quot;//players.brightcove.net/videojs-drm/5.9.1/videojs-drm.css&quot;
  ],
  &quot;options&quot;: {
    &quot;keySystems&quot;: {
      &quot;com.widevine.alpha&quot;: {
        &quot;persistentState&quot;: &quot;required&quot;
      }
    }
  }
},</code></pre>
<aside class="bcls-aside bcls-aside--warning">Das EME-Plug-In muss in der oben gezeigten Reihenfolge konfiguriert werden (Skripte &amp; Stylesheet zuerst dann die Option), sonst funktioniert es nicht.</aside> <aside class="bcls-aside bcls-aside--information">Diese Funktionalität wird im DRM-Plug-In v5.9.1+ unterstützt.</aside>
      </li>
      <li>Fügen Sie ein JWT-Authentifizierungstoken ein, wie in der <a href="#Using_License_Keys_Protection">Verwenden des Lizenzschlüsselschutzes</a> Sektion.</li>
    </ol>
  </section>

  <section class="bcls-section">
    <h2 id="configuring_server_side_ads_SSAI">Konfigurieren serverseitiger Anzeigen (SSAI)</h2>
    <p>Wenn Sie den Lizenzschlüsselschutz mit SSAI verwenden, müssen Sie dem Katalogparameterobjekt mit dem Namen einen zusätzlichen Parameter hinzufügen <code translate="No">adConfigId</code>. </p>
    <pre class="line-numbers">
<code class="language-html" translate="No">&lt;video-js id=&quot;myPlayerID&quot;
  data-account=&quot;1507807800001&quot;
  data-player=&quot;default&quot;
  data-embed=&quot;default&quot;
  controls
  data-application-id&gt;&lt;/video-js&gt;
&lt;script src=&quot;//players.brightcove.net/1507807800001/default_default/index.min.js&quot;&gt;&lt;/script&gt;

&lt;script&gt;
  (function() {
    var myPlayer = videojs.getPlayer('myPlayerID');

    myPlayer.catalog.get({
      type: 'video',
      id: '6015247091001',
      bcovAuthToken: '<span class="bcls-input">your jwt token</span>',
      <span class="bcls-highlight">adConfigId:</span> '<span class="bcls-input">your ad configuration id</span>'
    })
      .then(function(videoReturned){
        myPlayer.catalog.load(videoReturned);
      })
      .catch(function(err){
        console.log('err:', err);
      });
  })();
&lt;/script&gt;</code></pre>
  </section>

  <section class="bcls-section">
    <h2 id="Using_a_custom_implementation">Verwenden einer benutzerdefinierten Implementierung</h2>
    <p>Möglicherweise verwenden Sie eine benutzerdefinierte Implementierung, bei der Sie den <code translate="No">bcovAuthToken</code> Wert nicht mit der Anforderung der <a href="https://support.brightcove.com/player-catalog#get_method">catalog.get ()</a> -Methode festlegen können. Wenn Sie Ihren eigenen oder einen Drittanbieter-Spieler verwenden, können Sie einen der folgenden Ansätze verwenden, um Ihr Token an die Lizenzanfrage weiterzugeben:</p>
    <ul>
      <li>
        HTTP-Header: <code translate="No">BCOV-Auth</code> (Not supported for HLSe)
      </li>
      <li>
        Keks: <code translate="No">bcov-auth</code> (Not supported for HLSe)
      </li>
      <li>
        Abfrageparameter: <code translate="No">bcov-auth</code> (Only supported for HLSe) Must be appended to the master manifest url, instead of the license url
      </li>
    </ul>
    <p>
      Hier ist ein Beispiel, das zeigt, wie das <code translate="No">source.emeHeaders['BCOV-Auth']</code> Attribut für das Videoobjekt auf das Token festgelegt wird. Dies fügt die <code translate="No">emeHeader</code> in jeder Quelle NACH der Kataloganforderung ein.
    </p>
    <pre class="line-numbers">
<code class="language-html" translate="No">&lt;video-js id=&quot;myPlayerID&quot;
  data-account=&quot;1507807800001&quot;
  data-player=&quot;default&quot;
  data-embed=&quot;default&quot;
  controls
  data-application-id&gt;&lt;/video-js&gt;
&lt;script src=&quot;//players.brightcove.net/1507807800001/default_default/index.min.js&quot;&gt;&lt;/script&gt;

&lt;script&gt;
  (function() {
    var myPlayer = videojs.getPlayer('myPlayerID');

    myPlayer.catalog.get({
      type: 'video',
      id: '6015247091001'
    })
    .then(function(video){
      sources=video.sources;

      for (let i = 0; i &lt; sources.length; i++) {
        const source = sources[i];

        // Only add the auth token as an eme header for DRM content
        if (<span class="bcls-input">your jwt token</span> &amp;&amp; source.key_systems) {
          source.emeHeaders = {
              'BCOV-Auth': <span class="bcls-input">your jwt token</span>
            };
        }
      }
        myPlayer.catalog.load(video);
      })
      .catch(function(err){
        console.log('err:', err);
      });
  })();
&lt;/script&gt;</code></pre>
    <!-- <p>
      For more details about working with MPEG-DASH, see the <a href="https://support.brightcove.com/creating-dash-drm-manifest-brightcove-player">Creating a DASH DRM Manifest for the Brightcove Player</a> document.
    </p> -->

  </section>
</article>